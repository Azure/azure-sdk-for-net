parameters:
  ServiceDirectory: ''
  PackageName: ''
  NumAOTWarningsExpected: 0

steps:
- task: Powershell@2
  displayName: Check for AOT compatibility regressions
  inputs:
    targetType: filepath
    filePath: eng/common/aotcompatibility/check-AOT-compat-regression.ps1
    arguments: >-
      -ServiceDirectory ${{ parameters.ServiceDirectory }}
      -PackageName ${{ parameters.PackageName }}
      -NumAOTWarningsExpected ${{ parameters.NumAOTWarningsExpected }}
    workingDirectory: eng/common/aotcompatibility