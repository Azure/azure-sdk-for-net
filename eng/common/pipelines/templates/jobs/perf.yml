parameters:
- name: Language
  type: string
  default: ''
- name: Variables
  type: object
  default: []
- name: OperatingSystems
  type: string
  default: 'Linux'
- name: InstallLanguageSteps
  type: stepList
  default: []
- name: ServiceDirectory
  type: string
  default: ''
- name: Services
  type: string
  default: ''
- name: PackageVersions
  type: string
  default: '.*'
- name: Tests
  type: string
  default: '.*'
- name: Arguments
  type: string
  default: '.*'
- name: Iterations
  type: number
  default: '5'
- name: AdditionalArguments
  type: string
  default: ''
- name: EnvVars
  type: object
  default: {}

extends:
  template: perf-base.yml
  parameters:
    Language: ${{ parameters.Language }}
    LanguageRepoName: $(Build.Repository.Name)
    LanguageRepoCommitish: $(Build.SourceVersion)
    ToolsRepoCommitish: 'main'
    Variables: ${{ parameters.Variables }}
    OperatingSystems: ${{ parameters.OperatingSystems }}
    InstallLanguageSteps: ${{ parameters.InstallLanguageSteps }}
    ServiceDirectory: ${{ parameters.ServiceDirectory }}
    Services: ${{ parameters.Services }}
    PackageVersions: ${{ parameters.PackageVersions }}
    Tests: ${{ parameters.Tests }}
    Arguments: ${{ parameters.Arguments }}
    Iterations: ${{ parameters.Iterations }}
    AdditionalArguments: ${{ parameters.AdditionalArguments }}
    EnvVars: ${{ parameters.EnvVars}}
