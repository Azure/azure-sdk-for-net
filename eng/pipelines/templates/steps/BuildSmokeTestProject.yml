parameters:
 - name: PackageInfoDir
   type: string
   default: ""

steps:
  - pwsh: tree
    workingDirectory: $(Pipeline.Workspace)
  - pwsh: |
      $packages = Get-Item *.json
      
      foreach ($pkg in $packages) {
        $pkgData = Get-Content $pkg | ConvertFrom-Json
        Write-Host $pkgData
      }
    workingDirectory: ${{ parameters.PackageInfoDir }}
    displayName: Show SmokeTest PackageInfo