<Project ToolsVersion="15.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
	<Target Name="PreAzSdkBuild" BeforeTargets="BeforeBuild" DependsOnTargets="TargetTrace" 
			Condition=" ('$(EnablePreBuildTarget)' == 'true') AND ( '$(CIBuild)' != 'true' ) AND ( '$(TargetFramework)' == '$(NetFx452)' ) AND ( '$(BuildingInsideVisualStudio)' != 'true' )  AND ( '$(Scope)' != 'All') ">
			<Message Text="Executing PreBuildTask" Importance="High" />
		<PreBuildTask
			SdkProjects="$(MSBuildProjectFullPath)"
			CreatePropsFile="true"
		/>
	</Target>
	
	<Target Name="PostAzSdkBuild" AfterTargets="AfterBuild" DependsOnTargets="TargetTrace" 
			Condition=" ('$(EnablePostBuildTarget)' == 'true') AND ( '$(CIBuild)' != 'true' ) AND ( '$(TargetFramework)' == '$(NetFx452)' ) AND ( '$(BuildingInsideVisualStudio)' != 'true' ) AND ( '$(Scope)' != 'All') ">
			
			<Message Text="Executing PostBuildTask" Importance="High" />
		<PostBuildTask 		
			SdkProjects="$(MSBuildProjectFullPath)"
			BuildScope="$(Scope)"
		/>
  </Target>
  
  <Target Name="TargetTrace" Condition=" '$(DebugTrace)' == 'true' ">
	<Message Text="MSBuildProjectFile -- $(MSBuildProjectFullPath)"/>
	<Message Text="Scope -- $(Scope)" />
	<Message Text="EnablePreBuildTarget -- $(EnablePreBuildTarget)" />
	<Message Text="EnablePostBuildTarget -- $(EnablePostBuildTarget)" />
	<Message Text="CIBuild -- $(CIBuild)" />
	<Message Text="TargetFramework -- $(TargetFramework)" />
  </Target>
</Project>