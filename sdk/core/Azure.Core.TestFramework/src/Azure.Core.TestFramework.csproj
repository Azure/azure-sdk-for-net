<Project Sdk="Microsoft.NET.Sdk">
  <PropertyGroup>
    <TargetFrameworks>$(RequiredTargetFrameworks);net47</TargetFrameworks>
    <IncludeGeneratorSharedCode>true</IncludeGeneratorSharedCode>
  </PropertyGroup>
  <ItemGroup>
    <PackageReference Include="Azure.Core" />
    <PackageReference Include="Azure.Identity" />
    <PackageReference Include="Newtonsoft.Json" />
    <PackageReference Include="NUnit" />
    <PackageReference Include="NUnit3TestAdapter" />
    <PackageReference Include="Microsoft.NET.Test.Sdk" />
    <PackageReference Include="Moq" />
    <Reference Include="System.Web" Condition="'$(TargetFramework)' == 'net462' OR '$(TargetFramework)' == 'net47'" />
    <!-- 
      Explicit references to pull in patched versions of ASP.NET Core packages
    -->
    <PackageReference Include="Microsoft.AspNetCore.Server.Kestrel" />
    <PackageReference Include="Microsoft.AspNetCore.Server.Kestrel.Core" />
    <PackageReference Include="Microsoft.AspNetCore.Http" />
    <PackageReference Include="System.IO.Pipelines" />
  </ItemGroup>
  <!-- Import Azure.Core shared source -->
  <ItemGroup>
    <Compile Remove="Shared\*.cs" />
    <Compile Include="$(AzureCoreSharedSources)ApiVersionString.cs" LinkBase="Shared\Core" />
    <Compile Include="$(AzureCoreSharedSources)AppContextSwitchHelper.cs" LinkBase="Shared\Core" />
    <Compile Include="$(AzureCoreSharedSources)Argument.cs" LinkBase="Shared\Core" />
    <Compile Include="$(AzureCoreSharedSources)AsyncLockWithValue.cs" LinkBase="Shared\Core" />
    <Compile Include="$(AzureCoreSharedSources)ChangeTrackingList.cs" LinkBase="Shared\Core" />
    <Compile Include="$(AzureCoreSharedSources)ChangeTrackingDictionary.cs" LinkBase="Shared\Core" />
    <Compile Include="$(AzureCoreSharedSources)ClientDiagnostics.cs" LinkBase="Shared\Core" />
    <Compile Include="$(AzureCoreSharedSources)ConnectionString.cs" LinkBase="Shared\Core" />
    <Compile Include="$(AzureCoreSharedSources)ContentTypeUtilities.cs" LinkBase="Shared\Core" />
    <Compile Include="$(AzureCoreSharedSources)DiagnosticScope.cs" LinkBase="Shared\Core" />
    <Compile Include="$(AzureCoreSharedSources)DiagnosticScopeFactory.cs" LinkBase="Shared\Core" />
    <Compile Include="$(AzureCoreSharedSources)DictionaryHeaders.cs" LinkBase="Shared\Core" />
    <Compile Include="$(AzureCoreSharedSources)EventSourceEventFormatting.cs" LinkBase="Shared\Core" />
    <Compile Include="$(AzureCoreSharedSources)ErrorResponse.cs" LinkBase="Shared\Core" />
    <Compile Include="$(AzureCoreSharedSources)FixedDelayWithNoJitterStrategy.cs" LinkBase="Shared\Core" />
    <Compile Include="$(AzureCoreSharedSources)HttpMessageSanitizer.cs" LinkBase="Shared\Core" />
    <Compile Include="$(AzureCoreSharedSources)HttpPipelineExtensions.cs" LinkBase="Shared\Core" />
    <Compile Include="$(AzureCoreSharedSources)IOperationSource.cs" LinkBase="Shared\Core" />
    <Compile Include="$(AzureCoreSharedSources)IUtf8JsonSerializable.cs" LinkBase="Shared\Core" />
    <Compile Include="$(AzureCoreSharedSources)JsonElementExtensions.cs" LinkBase="Shared\Core" />
    <Compile Include="$(AzureCoreSharedSources)NextLinkOperationImplementation.cs" LinkBase="Shared\Core" />
    <Compile Include="$(AzureCoreSharedSources)OperationInternal.cs" LinkBase="Shared\Core" />
    <Compile Include="$(AzureCoreSharedSources)OperationInternalBase.cs" LinkBase="Shared\Core" />
    <Compile Include="$(AzureCoreSharedSources)OperationInternalOfT.cs" LinkBase="Shared\Core" />
    <Compile Include="$(AzureCoreSharedSources)OperationFinalStateVia.cs" LinkBase="Shared\Core" />
    <Compile Include="$(AzureCoreSharedSources)OperationPoller.cs" LinkBase="Shared\Core" />
    <Compile Include="$(AzureCoreSharedSources)Optional.cs" LinkBase="Shared\Core" />
    <Compile Include="$(AzureCoreSharedSources)Page.cs" LinkBase="Shared\Core" />
    <Compile Include="$(AzureCoreSharedSources)PageableHelpers.cs" LinkBase="Shared\Core" />
    <Compile Include="$(AzureCoreSharedSources)ProtocolOperation.cs" LinkBase="Shared\Core" />
    <Compile Include="$(AzureCoreSharedSources)ProtocolOperationHelpers.cs" LinkBase="Shared\Core" />
    <Compile Include="$(AzureCoreSharedSources)RawRequestUriBuilder.cs" LinkBase="Shared\Core" />
    <Compile Include="$(AzureCoreSharedSources)ResponseHeadersExtensions.cs" LinkBase="Shared\Core" />
    <Compile Include="$(AzureCoreSharedSources)ResponseWithHeaders.cs" LinkBase="Shared\Core" />
    <Compile Include="$(AzureCoreSharedSources)ResponseWithHeadersOfTHeaders.cs" LinkBase="Shared\Core" />
    <Compile Include="$(AzureCoreSharedSources)ResponseWithHeadersOfTOfTHeaders.cs" LinkBase="Shared\Core" />
    <Compile Include="$(AzureCoreSharedSources)TaskExtensions.cs" LinkBase="Shared\Core" />
    <Compile Include="$(AzureCoreSharedSources)TypeFormatters.cs" LinkBase="Shared\Core" />
    <Compile Include="$(AzureCoreSharedSources)Utf8JsonRequestContent.cs" LinkBase="Shared\Core" />
    <Compile Include="$(AzureCoreSharedSources)Utf8JsonWriterExtensions.cs" LinkBase="Shared\Core" />
    <Compile Include="$(AzureCoreSharedSources)VoidValue.cs" LinkBase="Shared\Core" />
  </ItemGroup>
    
  <ItemGroup>
    <AssemblyAttribute Include="System.Reflection.AssemblyMetadataAttribute">
      <_Parameter1>TestProxyPath</_Parameter1>
      <_Parameter2>$(NuGetPackageRoot)\azure.sdk.tools.testproxy\$(TestProxyVersion)\tools\net6.0\any\Azure.Sdk.Tools.TestProxy.dll</_Parameter2>
    </AssemblyAttribute>
  </ItemGroup>
</Project>
