<Project Sdk="Microsoft.NET.Sdk.Web">
  <!-- https://docs.microsoft.com/aspnet/core/test/integration-tests -->
  
  <PropertyGroup>
    <TargetFrameworks>$(RequiredTargetFrameworks)</TargetFrameworks>

    <!-- THIS SHOULDN'T BE NECESSARY, BUT THE BUILD PIPELINE IS INSISTING THAT THIS BE SET:
    error : This project cannot be packaged because packaging has been disabled. 
    Add <IsPackable>true</IsPackable> to the project file to enable producing a package from this project. -->
    <!--<IsPackable>true</IsPackable>-->
  </PropertyGroup>

  <ItemGroup Condition="'$(TargetFramework)' == 'netcoreapp2.1'">
    <PackageReference Include="Microsoft.AspNetCore.App" />
  </ItemGroup>
    
  <ItemGroup Condition=" '$(TargetFramework)' == 'net461' ">
    <!--We would prefer to use the meta package "Microsoft.AspNetCore.App" here.
    But this package targets NetCoreApp2.1, while all the dependent packages target NetStandard2.0.
    To support net461 so we must reference the dependent packages.-->
    <PackageReference Include="Microsoft.AspNetCore" VersionOverride="[2.1.1, )" />
    <PackageReference Include="Microsoft.AspNetCore.Hosting" VersionOverride="[2.1.1, )" />
    <PackageReference Include="Microsoft.AspNetCore.HttpsPolicy" VersionOverride="[2.1.1, )" />
    <PackageReference Include="Microsoft.AspNetCore.Mvc" VersionOverride="[2.1.1, )" />
  </ItemGroup>

</Project>
