// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.

// <auto-generated/>

#nullable disable

using System;
using System.Text.Json;
using System.Threading;
using System.Threading.Tasks;
using Azure;
using Azure.Core;
using Azure.Core.Pipeline;
using Azure.Maps.Creator.Models;

namespace Azure.Maps.Creator
{
    internal partial class ConversionRestClient
    {
        private Geography? geography;
        private string xMsClientId;
        private ClientDiagnostics _clientDiagnostics;
        private HttpPipeline _pipeline;

        /// <summary> Initializes a new instance of ConversionRestClient. </summary>
        /// <param name="clientDiagnostics"> The handler for diagnostic messaging in the client. </param>
        /// <param name="pipeline"> The HTTP pipeline for sending and receiving REST requests and responses. </param>
        /// <param name="geography"> This parameter specifies where the Azure Maps Creator resource is located.  Valid values are us and eu. </param>
        /// <param name="xMsClientId"> Specifies which account is intended for usage in conjunction with the Azure AD security model.  It represents a unique ID for the Azure Maps account and can be retrieved from the Azure Maps management  plane Account API. To use Azure AD security in Azure Maps see the following [articles](https://aka.ms/amauthdetails) for guidance. </param>
        public ConversionRestClient(ClientDiagnostics clientDiagnostics, HttpPipeline pipeline, Geography? geography = default, string xMsClientId = null)
        {
            geography ??= Geography.Us;

            this.geography = geography;
            this.xMsClientId = xMsClientId;
            _clientDiagnostics = clientDiagnostics;
            _pipeline = pipeline;
        }

        internal HttpMessage CreateConvertRequest(string udid, string outputOntology, string description)
        {
            var message = _pipeline.CreateMessage();
            var request = message.Request;
            request.Method = RequestMethod.Post;
            var uri = new RawRequestUriBuilder();
            uri.AppendRaw("https://", false);
            uri.AppendRaw(geography.Value, true);
            uri.AppendRaw(".atlas.microsoft.com", false);
            uri.AppendPath("/conversions", false);
            uri.AppendQuery("api-version", "2.0", true);
            uri.AppendQuery("udid", udid, true);
            uri.AppendQuery("outputOntology", outputOntology, true);
            if (description != null)
            {
                uri.AppendQuery("description", description, true);
            }
            request.Uri = uri;
            if (xMsClientId != null)
            {
                request.Headers.Add("x-ms-client-id", xMsClientId);
            }
            request.Headers.Add("Accept", "application/json");
            return message;
        }

        /// <summary>
        /// **Applies to:** see pricing [tiers](https://aka.ms/AzureMapsPricingTier).
        /// 
        /// Creator makes it possible to develop applications based on your private indoor map data using Azure Maps API and SDK. [This](https://docs.microsoft.com/azure/azure-maps/creator-indoor-maps) article introduces concepts and tools that apply to Azure Maps Creator.
        /// 
        /// The Conversion API lets the caller import a set of DWG design files as a zipped [Drawing Package](https://aka.ms/am-drawing-package) into Azure Maps. The [Drawing Package](https://aka.ms/am-drawing-package) should first be uploaded using the [Azure Maps Data Service](https://docs.microsoft.com/rest/api/maps/data). Once uploaded, use the `udid` returned by the [Data Upload API](https://docs.microsoft.com/rest/api/maps/data/uploadpreview) to call this Conversion API.
        /// 
        /// ## Convert DWG package
        /// 
        /// The Conversion API performs a [long-running request](https://aka.ms/am-creator-lrt-v2).
        /// 
        /// ## Debug DWG package issues
        /// 
        /// 
        /// During the Conversion process, if there are any issues with the DWG package [errors and warnings](https://aka.ms/am-conversion-errors) are provided in the response along with a *diagnostic package* to visualize and diagnose these issues. In case any issues are encountered with your DWG package, the Conversion operation status process as detailed [here](https://aka.ms/am-creator-lrt-v2) returns the location of the *diagnostic package* that can be downloaded by the caller to help them visualize and diagnose these issues. The *diagnostic package* location can be found in the properties section of the conversion operation status response and looks like the following:
        /// 
        /// ```json
        /// {
        ///     &quot;properties&quot;: {
        ///         &quot;diagnosticPackageLocation&quot;: &quot;https://us.atlas.microsoft.com/mapdata/{DiagnosticPackageId}?api-version=1.0&quot;
        ///     }
        /// }
        /// ```
        /// 
        /// The *diagnostic package* can be downloaded by executing a `HTTP GET` request on the `diagnosticPackageLocation`.
        /// For more details on how to use the tool to visualize and diagnose all the errors and warnings see [Drawing Error Visualizer](https://aka.ms/am-drawing-errors-visualizer). &lt;br&gt;
        /// 
        /// A conversion operation will be marked as *success* if there are zero or more warnings but will be marked as *failed* if any errors are encountered.
        /// </summary>
        /// <param name="udid"> The unique data id for the content. The `udid` must have been obtained from a successful [Data Upload API](https://docs.microsoft.com/en-us/rest/api/maps/data%20v2/uploadpreview) call. </param>
        /// <param name="outputOntology"> Output ontology version. &quot;facility-2.0&quot; is the only supported value at this time. Please refer to this [article](https://docs.microsoft.com/en-us/azure/azure-maps/creator-facility-ontology) for more information about Azure Maps Creator ontologies. </param>
        /// <param name="description"> User provided description of the content being converted. </param>
        /// <param name="cancellationToken"> The cancellation token to use. </param>
        /// <exception cref="ArgumentNullException"> <paramref name="udid"/> or <paramref name="outputOntology"/> is null. </exception>
        public async Task<ResponseWithHeaders<ConversionConvertHeaders>> ConvertAsync(string udid, string outputOntology, string description = null, CancellationToken cancellationToken = default)
        {
            if (udid == null)
            {
                throw new ArgumentNullException(nameof(udid));
            }
            if (outputOntology == null)
            {
                throw new ArgumentNullException(nameof(outputOntology));
            }

            using var message = CreateConvertRequest(udid, outputOntology, description);
            await _pipeline.SendAsync(message, cancellationToken).ConfigureAwait(false);
            var headers = new ConversionConvertHeaders(message.Response);
            switch (message.Response.Status)
            {
                case 200:
                case 202:
                    return ResponseWithHeaders.FromValue(headers, message.Response);
                default:
                    throw await _clientDiagnostics.CreateRequestFailedExceptionAsync(message.Response).ConfigureAwait(false);
            }
        }

        /// <summary>
        /// **Applies to:** see pricing [tiers](https://aka.ms/AzureMapsPricingTier).
        /// 
        /// Creator makes it possible to develop applications based on your private indoor map data using Azure Maps API and SDK. [This](https://docs.microsoft.com/azure/azure-maps/creator-indoor-maps) article introduces concepts and tools that apply to Azure Maps Creator.
        /// 
        /// The Conversion API lets the caller import a set of DWG design files as a zipped [Drawing Package](https://aka.ms/am-drawing-package) into Azure Maps. The [Drawing Package](https://aka.ms/am-drawing-package) should first be uploaded using the [Azure Maps Data Service](https://docs.microsoft.com/rest/api/maps/data). Once uploaded, use the `udid` returned by the [Data Upload API](https://docs.microsoft.com/rest/api/maps/data/uploadpreview) to call this Conversion API.
        /// 
        /// ## Convert DWG package
        /// 
        /// The Conversion API performs a [long-running request](https://aka.ms/am-creator-lrt-v2).
        /// 
        /// ## Debug DWG package issues
        /// 
        /// 
        /// During the Conversion process, if there are any issues with the DWG package [errors and warnings](https://aka.ms/am-conversion-errors) are provided in the response along with a *diagnostic package* to visualize and diagnose these issues. In case any issues are encountered with your DWG package, the Conversion operation status process as detailed [here](https://aka.ms/am-creator-lrt-v2) returns the location of the *diagnostic package* that can be downloaded by the caller to help them visualize and diagnose these issues. The *diagnostic package* location can be found in the properties section of the conversion operation status response and looks like the following:
        /// 
        /// ```json
        /// {
        ///     &quot;properties&quot;: {
        ///         &quot;diagnosticPackageLocation&quot;: &quot;https://us.atlas.microsoft.com/mapdata/{DiagnosticPackageId}?api-version=1.0&quot;
        ///     }
        /// }
        /// ```
        /// 
        /// The *diagnostic package* can be downloaded by executing a `HTTP GET` request on the `diagnosticPackageLocation`.
        /// For more details on how to use the tool to visualize and diagnose all the errors and warnings see [Drawing Error Visualizer](https://aka.ms/am-drawing-errors-visualizer). &lt;br&gt;
        /// 
        /// A conversion operation will be marked as *success* if there are zero or more warnings but will be marked as *failed* if any errors are encountered.
        /// </summary>
        /// <param name="udid"> The unique data id for the content. The `udid` must have been obtained from a successful [Data Upload API](https://docs.microsoft.com/en-us/rest/api/maps/data%20v2/uploadpreview) call. </param>
        /// <param name="outputOntology"> Output ontology version. &quot;facility-2.0&quot; is the only supported value at this time. Please refer to this [article](https://docs.microsoft.com/en-us/azure/azure-maps/creator-facility-ontology) for more information about Azure Maps Creator ontologies. </param>
        /// <param name="description"> User provided description of the content being converted. </param>
        /// <param name="cancellationToken"> The cancellation token to use. </param>
        /// <exception cref="ArgumentNullException"> <paramref name="udid"/> or <paramref name="outputOntology"/> is null. </exception>
        public ResponseWithHeaders<ConversionConvertHeaders> Convert(string udid, string outputOntology, string description = null, CancellationToken cancellationToken = default)
        {
            if (udid == null)
            {
                throw new ArgumentNullException(nameof(udid));
            }
            if (outputOntology == null)
            {
                throw new ArgumentNullException(nameof(outputOntology));
            }

            using var message = CreateConvertRequest(udid, outputOntology, description);
            _pipeline.Send(message, cancellationToken);
            var headers = new ConversionConvertHeaders(message.Response);
            switch (message.Response.Status)
            {
                case 200:
                case 202:
                    return ResponseWithHeaders.FromValue(headers, message.Response);
                default:
                    throw _clientDiagnostics.CreateRequestFailedException(message.Response);
            }
        }

        internal HttpMessage CreateListRequest()
        {
            var message = _pipeline.CreateMessage();
            var request = message.Request;
            request.Method = RequestMethod.Get;
            var uri = new RawRequestUriBuilder();
            uri.AppendRaw("https://", false);
            uri.AppendRaw(geography.Value, true);
            uri.AppendRaw(".atlas.microsoft.com", false);
            uri.AppendPath("/conversions", false);
            uri.AppendQuery("api-version", "2.0", true);
            request.Uri = uri;
            if (xMsClientId != null)
            {
                request.Headers.Add("x-ms-client-id", xMsClientId);
            }
            request.Headers.Add("Accept", "application/json");
            return message;
        }

        /// <summary>
        /// **Applies to:** see pricing [tiers](https://aka.ms/AzureMapsPricingTier).
        /// 
        /// Creator makes it possible to develop applications based on your private indoor map data using Azure Maps API and SDK. [This](https://docs.microsoft.com/azure/azure-maps/creator-indoor-maps) article introduces concepts and tools that apply to Azure Maps Creator.
        /// 
        /// This API allows the caller to fetch a list of all successful data conversions submitted previously using the [Conversion API](https://docs.microsoft.com/en-us/rest/api/maps/conversion/convertpreview).
        /// 
        /// ### Submit List Request
        /// 
        /// To list all successful conversions you will issue a `GET` request with no additional parameters.
        /// 
        /// ### List Data Response
        /// 
        /// The Conversion List API returns the complete list of all conversion details in `json` format.&lt;br&gt;
        /// 
        /// Here is a sample response returning the details of two successful conversion requests:
        /// 
        /// &lt;br&gt;
        /// 
        /// ```json
        /// {
        ///     &quot;conversions&quot;:
        ///     [
        ///         {
        ///             &quot;conversionId&quot;: &quot;54398242-ea6c-1f31-4fa6-79b1ae0fc24d&quot;,
        ///             &quot;udid&quot;: &quot;31838736-8b84-11ea-bc55-0242ac130003&quot;,
        ///             &quot;created&quot;: &quot;5/19/2020 9:00:00 AM +00:00&quot;,
        ///             &quot;description&quot;: &quot;User provided description.&quot;,
        ///             &quot;featureCounts&quot;: {
        ///                 &quot;DIR&quot;: 1,
        ///                 &quot;LVL&quot;: 3,
        ///                 &quot;FCL&quot;: 1,
        ///                 &quot;UNIT&quot;: 150,
        ///                 &quot;CTG&quot;: 8,
        ///                 &quot;AEL&quot;: 0,
        ///                 &quot;OPN&quot;: 10
        ///             }
        ///         },
        ///         {
        ///             &quot;conversionId&quot;: &quot;2acf7d32-8b84-11ea-bc55-0242ac130003&quot;,
        ///             &quot;udid&quot;: &quot;1214bc58-8b84-11ea-bc55-0242ac1300039&quot;,
        ///             &quot;created&quot;: &quot;5/19/2020 9:00:00 AM +00:00&quot;,
        ///             &quot;description&quot;: &quot;User provided description.&quot;,
        ///             &quot;featureCounts&quot;: {
        ///                 &quot;DIR&quot;: 1,
        ///                 &quot;LVL&quot;: 3,
        ///                 &quot;FCL&quot;: 1,
        ///                 &quot;UNIT&quot;: 150,
        ///                 &quot;CTG&quot;: 8,
        ///                 &quot;AEL&quot;: 0,
        ///                 &quot;OPN&quot;: 10
        ///             }
        ///         }
        ///     ]
        /// }
        /// ```
        /// 
        /// &lt;br&gt;.
        /// </summary>
        /// <param name="cancellationToken"> The cancellation token to use. </param>
        public async Task<Response<ConversionListResponse>> ListAsync(CancellationToken cancellationToken = default)
        {
            using var message = CreateListRequest();
            await _pipeline.SendAsync(message, cancellationToken).ConfigureAwait(false);
            switch (message.Response.Status)
            {
                case 200:
                    {
                        ConversionListResponse value = default;
                        using var document = await JsonDocument.ParseAsync(message.Response.ContentStream, default, cancellationToken).ConfigureAwait(false);
                        value = ConversionListResponse.DeserializeConversionListResponse(document.RootElement);
                        return Response.FromValue(value, message.Response);
                    }
                default:
                    throw await _clientDiagnostics.CreateRequestFailedExceptionAsync(message.Response).ConfigureAwait(false);
            }
        }

        /// <summary>
        /// **Applies to:** see pricing [tiers](https://aka.ms/AzureMapsPricingTier).
        /// 
        /// Creator makes it possible to develop applications based on your private indoor map data using Azure Maps API and SDK. [This](https://docs.microsoft.com/azure/azure-maps/creator-indoor-maps) article introduces concepts and tools that apply to Azure Maps Creator.
        /// 
        /// This API allows the caller to fetch a list of all successful data conversions submitted previously using the [Conversion API](https://docs.microsoft.com/en-us/rest/api/maps/conversion/convertpreview).
        /// 
        /// ### Submit List Request
        /// 
        /// To list all successful conversions you will issue a `GET` request with no additional parameters.
        /// 
        /// ### List Data Response
        /// 
        /// The Conversion List API returns the complete list of all conversion details in `json` format.&lt;br&gt;
        /// 
        /// Here is a sample response returning the details of two successful conversion requests:
        /// 
        /// &lt;br&gt;
        /// 
        /// ```json
        /// {
        ///     &quot;conversions&quot;:
        ///     [
        ///         {
        ///             &quot;conversionId&quot;: &quot;54398242-ea6c-1f31-4fa6-79b1ae0fc24d&quot;,
        ///             &quot;udid&quot;: &quot;31838736-8b84-11ea-bc55-0242ac130003&quot;,
        ///             &quot;created&quot;: &quot;5/19/2020 9:00:00 AM +00:00&quot;,
        ///             &quot;description&quot;: &quot;User provided description.&quot;,
        ///             &quot;featureCounts&quot;: {
        ///                 &quot;DIR&quot;: 1,
        ///                 &quot;LVL&quot;: 3,
        ///                 &quot;FCL&quot;: 1,
        ///                 &quot;UNIT&quot;: 150,
        ///                 &quot;CTG&quot;: 8,
        ///                 &quot;AEL&quot;: 0,
        ///                 &quot;OPN&quot;: 10
        ///             }
        ///         },
        ///         {
        ///             &quot;conversionId&quot;: &quot;2acf7d32-8b84-11ea-bc55-0242ac130003&quot;,
        ///             &quot;udid&quot;: &quot;1214bc58-8b84-11ea-bc55-0242ac1300039&quot;,
        ///             &quot;created&quot;: &quot;5/19/2020 9:00:00 AM +00:00&quot;,
        ///             &quot;description&quot;: &quot;User provided description.&quot;,
        ///             &quot;featureCounts&quot;: {
        ///                 &quot;DIR&quot;: 1,
        ///                 &quot;LVL&quot;: 3,
        ///                 &quot;FCL&quot;: 1,
        ///                 &quot;UNIT&quot;: 150,
        ///                 &quot;CTG&quot;: 8,
        ///                 &quot;AEL&quot;: 0,
        ///                 &quot;OPN&quot;: 10
        ///             }
        ///         }
        ///     ]
        /// }
        /// ```
        /// 
        /// &lt;br&gt;.
        /// </summary>
        /// <param name="cancellationToken"> The cancellation token to use. </param>
        public Response<ConversionListResponse> List(CancellationToken cancellationToken = default)
        {
            using var message = CreateListRequest();
            _pipeline.Send(message, cancellationToken);
            switch (message.Response.Status)
            {
                case 200:
                    {
                        ConversionListResponse value = default;
                        using var document = JsonDocument.Parse(message.Response.ContentStream);
                        value = ConversionListResponse.DeserializeConversionListResponse(document.RootElement);
                        return Response.FromValue(value, message.Response);
                    }
                default:
                    throw _clientDiagnostics.CreateRequestFailedException(message.Response);
            }
        }

        internal HttpMessage CreateGetRequest(string conversionId)
        {
            var message = _pipeline.CreateMessage();
            var request = message.Request;
            request.Method = RequestMethod.Get;
            var uri = new RawRequestUriBuilder();
            uri.AppendRaw("https://", false);
            uri.AppendRaw(geography.Value, true);
            uri.AppendRaw(".atlas.microsoft.com", false);
            uri.AppendPath("/conversions/", false);
            uri.AppendPath(conversionId, true);
            uri.AppendQuery("api-version", "2.0", true);
            request.Uri = uri;
            if (xMsClientId != null)
            {
                request.Headers.Add("x-ms-client-id", xMsClientId);
            }
            request.Headers.Add("Accept", "application/json");
            return message;
        }

        /// <summary>
        /// **Applies to:** see pricing [tiers](https://aka.ms/AzureMapsPricingTier).
        /// 
        /// Creator makes it possible to develop applications based on your private indoor map data using Azure Maps API and SDK. [This](https://docs.microsoft.com/azure/azure-maps/creator-indoor-maps) article introduces concepts and tools that apply to Azure Maps Creator.
        /// 
        /// This API allows the caller to fetch a successful data conversion submitted previously using the [Conversion API](https://docs.microsoft.com/en-us/rest/api/maps/conversion/convertpreview).
        /// </summary>
        /// <param name="conversionId"> The conversion id for the content. The `conversionId` must have been obtained from a successful [Conversion API](https://docs.microsoft.com/en-us/rest/api/maps/v2/conversion/convert) call. </param>
        /// <param name="cancellationToken"> The cancellation token to use. </param>
        /// <exception cref="ArgumentNullException"> <paramref name="conversionId"/> is null. </exception>
        public async Task<Response<ConversionListDetailInfo>> GetAsync(string conversionId, CancellationToken cancellationToken = default)
        {
            if (conversionId == null)
            {
                throw new ArgumentNullException(nameof(conversionId));
            }

            using var message = CreateGetRequest(conversionId);
            await _pipeline.SendAsync(message, cancellationToken).ConfigureAwait(false);
            switch (message.Response.Status)
            {
                case 200:
                    {
                        ConversionListDetailInfo value = default;
                        using var document = await JsonDocument.ParseAsync(message.Response.ContentStream, default, cancellationToken).ConfigureAwait(false);
                        value = ConversionListDetailInfo.DeserializeConversionListDetailInfo(document.RootElement);
                        return Response.FromValue(value, message.Response);
                    }
                default:
                    throw await _clientDiagnostics.CreateRequestFailedExceptionAsync(message.Response).ConfigureAwait(false);
            }
        }

        /// <summary>
        /// **Applies to:** see pricing [tiers](https://aka.ms/AzureMapsPricingTier).
        /// 
        /// Creator makes it possible to develop applications based on your private indoor map data using Azure Maps API and SDK. [This](https://docs.microsoft.com/azure/azure-maps/creator-indoor-maps) article introduces concepts and tools that apply to Azure Maps Creator.
        /// 
        /// This API allows the caller to fetch a successful data conversion submitted previously using the [Conversion API](https://docs.microsoft.com/en-us/rest/api/maps/conversion/convertpreview).
        /// </summary>
        /// <param name="conversionId"> The conversion id for the content. The `conversionId` must have been obtained from a successful [Conversion API](https://docs.microsoft.com/en-us/rest/api/maps/v2/conversion/convert) call. </param>
        /// <param name="cancellationToken"> The cancellation token to use. </param>
        /// <exception cref="ArgumentNullException"> <paramref name="conversionId"/> is null. </exception>
        public Response<ConversionListDetailInfo> Get(string conversionId, CancellationToken cancellationToken = default)
        {
            if (conversionId == null)
            {
                throw new ArgumentNullException(nameof(conversionId));
            }

            using var message = CreateGetRequest(conversionId);
            _pipeline.Send(message, cancellationToken);
            switch (message.Response.Status)
            {
                case 200:
                    {
                        ConversionListDetailInfo value = default;
                        using var document = JsonDocument.Parse(message.Response.ContentStream);
                        value = ConversionListDetailInfo.DeserializeConversionListDetailInfo(document.RootElement);
                        return Response.FromValue(value, message.Response);
                    }
                default:
                    throw _clientDiagnostics.CreateRequestFailedException(message.Response);
            }
        }

        internal HttpMessage CreateDeleteRequest(string conversionId)
        {
            var message = _pipeline.CreateMessage();
            var request = message.Request;
            request.Method = RequestMethod.Delete;
            var uri = new RawRequestUriBuilder();
            uri.AppendRaw("https://", false);
            uri.AppendRaw(geography.Value, true);
            uri.AppendRaw(".atlas.microsoft.com", false);
            uri.AppendPath("/conversions/", false);
            uri.AppendPath(conversionId, true);
            uri.AppendQuery("api-version", "2.0", true);
            request.Uri = uri;
            if (xMsClientId != null)
            {
                request.Headers.Add("x-ms-client-id", xMsClientId);
            }
            request.Headers.Add("Accept", "application/json");
            return message;
        }

        /// <summary>
        /// **Applies to:** see pricing [tiers](https://aka.ms/AzureMapsPricingTier).
        /// 
        /// Creator makes it possible to develop applications based on your private indoor map data using Azure Maps API and SDK. [This](https://docs.microsoft.com/azure/azure-maps/creator-indoor-maps) article introduces concepts and tools that apply to Azure Maps Creator.
        /// 
        /// This API allows the caller to delete any data conversions created previously using the [Conversion API](https://docs.microsoft.com/en-us/rest/api/maps/conversion/convertpreview).
        /// 
        /// ### Submit Delete Request
        /// 
        /// To delete your conversion data you will issue a `DELETE` request where the path will contain the `conversionId` of the data to delete.
        /// 
        /// ### Conversion Delete Response
        /// 
        /// The Conversion Delete API returns a HTTP `204 No Content` response with an empty body, if the converted data resources were deleted successfully.&lt;br&gt;
        /// A HTTP `400 Bad Request` error response will be returned if no resource associated with the passed-in `conversionId` is found.
        /// </summary>
        /// <param name="conversionId"> The conversion id for the content. The `conversionId` must have been obtained from a successful [Conversion API](https://docs.microsoft.com/en-us/rest/api/maps/v2/conversion/convert) call. </param>
        /// <param name="cancellationToken"> The cancellation token to use. </param>
        /// <exception cref="ArgumentNullException"> <paramref name="conversionId"/> is null. </exception>
        public async Task<Response> DeleteAsync(string conversionId, CancellationToken cancellationToken = default)
        {
            if (conversionId == null)
            {
                throw new ArgumentNullException(nameof(conversionId));
            }

            using var message = CreateDeleteRequest(conversionId);
            await _pipeline.SendAsync(message, cancellationToken).ConfigureAwait(false);
            switch (message.Response.Status)
            {
                case 204:
                    return message.Response;
                default:
                    throw await _clientDiagnostics.CreateRequestFailedExceptionAsync(message.Response).ConfigureAwait(false);
            }
        }

        /// <summary>
        /// **Applies to:** see pricing [tiers](https://aka.ms/AzureMapsPricingTier).
        /// 
        /// Creator makes it possible to develop applications based on your private indoor map data using Azure Maps API and SDK. [This](https://docs.microsoft.com/azure/azure-maps/creator-indoor-maps) article introduces concepts and tools that apply to Azure Maps Creator.
        /// 
        /// This API allows the caller to delete any data conversions created previously using the [Conversion API](https://docs.microsoft.com/en-us/rest/api/maps/conversion/convertpreview).
        /// 
        /// ### Submit Delete Request
        /// 
        /// To delete your conversion data you will issue a `DELETE` request where the path will contain the `conversionId` of the data to delete.
        /// 
        /// ### Conversion Delete Response
        /// 
        /// The Conversion Delete API returns a HTTP `204 No Content` response with an empty body, if the converted data resources were deleted successfully.&lt;br&gt;
        /// A HTTP `400 Bad Request` error response will be returned if no resource associated with the passed-in `conversionId` is found.
        /// </summary>
        /// <param name="conversionId"> The conversion id for the content. The `conversionId` must have been obtained from a successful [Conversion API](https://docs.microsoft.com/en-us/rest/api/maps/v2/conversion/convert) call. </param>
        /// <param name="cancellationToken"> The cancellation token to use. </param>
        /// <exception cref="ArgumentNullException"> <paramref name="conversionId"/> is null. </exception>
        public Response Delete(string conversionId, CancellationToken cancellationToken = default)
        {
            if (conversionId == null)
            {
                throw new ArgumentNullException(nameof(conversionId));
            }

            using var message = CreateDeleteRequest(conversionId);
            _pipeline.Send(message, cancellationToken);
            switch (message.Response.Status)
            {
                case 204:
                    return message.Response;
                default:
                    throw _clientDiagnostics.CreateRequestFailedException(message.Response);
            }
        }

        internal HttpMessage CreateGetOperationRequest(string operationId)
        {
            var message = _pipeline.CreateMessage();
            var request = message.Request;
            request.Method = RequestMethod.Get;
            var uri = new RawRequestUriBuilder();
            uri.AppendRaw("https://", false);
            uri.AppendRaw(geography.Value, true);
            uri.AppendRaw(".atlas.microsoft.com", false);
            uri.AppendPath("/conversions/operations/", false);
            uri.AppendPath(operationId, true);
            uri.AppendQuery("api-version", "2.0", true);
            request.Uri = uri;
            request.Headers.Add("Accept", "application/json");
            return message;
        }

        /// <summary> This path will be obtained from a call to POST /conversions.  While in progress, an http200 will be returned with no extra headers -  followed by an http200 with Resource-Location header once successfully completed. </summary>
        /// <param name="operationId"> The ID to query the status for the dataset create/import request. </param>
        /// <param name="cancellationToken"> The cancellation token to use. </param>
        /// <exception cref="ArgumentNullException"> <paramref name="operationId"/> is null. </exception>
        public async Task<ResponseWithHeaders<LongRunningOperationResult, ConversionGetOperationHeaders>> GetOperationAsync(string operationId, CancellationToken cancellationToken = default)
        {
            if (operationId == null)
            {
                throw new ArgumentNullException(nameof(operationId));
            }

            using var message = CreateGetOperationRequest(operationId);
            await _pipeline.SendAsync(message, cancellationToken).ConfigureAwait(false);
            var headers = new ConversionGetOperationHeaders(message.Response);
            switch (message.Response.Status)
            {
                case 200:
                    {
                        LongRunningOperationResult value = default;
                        using var document = await JsonDocument.ParseAsync(message.Response.ContentStream, default, cancellationToken).ConfigureAwait(false);
                        value = LongRunningOperationResult.DeserializeLongRunningOperationResult(document.RootElement);
                        return ResponseWithHeaders.FromValue(value, headers, message.Response);
                    }
                default:
                    throw await _clientDiagnostics.CreateRequestFailedExceptionAsync(message.Response).ConfigureAwait(false);
            }
        }

        /// <summary> This path will be obtained from a call to POST /conversions.  While in progress, an http200 will be returned with no extra headers -  followed by an http200 with Resource-Location header once successfully completed. </summary>
        /// <param name="operationId"> The ID to query the status for the dataset create/import request. </param>
        /// <param name="cancellationToken"> The cancellation token to use. </param>
        /// <exception cref="ArgumentNullException"> <paramref name="operationId"/> is null. </exception>
        public ResponseWithHeaders<LongRunningOperationResult, ConversionGetOperationHeaders> GetOperation(string operationId, CancellationToken cancellationToken = default)
        {
            if (operationId == null)
            {
                throw new ArgumentNullException(nameof(operationId));
            }

            using var message = CreateGetOperationRequest(operationId);
            _pipeline.Send(message, cancellationToken);
            var headers = new ConversionGetOperationHeaders(message.Response);
            switch (message.Response.Status)
            {
                case 200:
                    {
                        LongRunningOperationResult value = default;
                        using var document = JsonDocument.Parse(message.Response.ContentStream);
                        value = LongRunningOperationResult.DeserializeLongRunningOperationResult(document.RootElement);
                        return ResponseWithHeaders.FromValue(value, headers, message.Response);
                    }
                default:
                    throw _clientDiagnostics.CreateRequestFailedException(message.Response);
            }
        }

        internal HttpMessage CreateListNextPageRequest(string nextLink)
        {
            var message = _pipeline.CreateMessage();
            var request = message.Request;
            request.Method = RequestMethod.Get;
            var uri = new RawRequestUriBuilder();
            uri.AppendRaw("https://", false);
            uri.AppendRaw(geography.Value, true);
            uri.AppendRaw(".atlas.microsoft.com", false);
            uri.AppendRawNextLink(nextLink, false);
            request.Uri = uri;
            if (xMsClientId != null)
            {
                request.Headers.Add("x-ms-client-id", xMsClientId);
            }
            request.Headers.Add("Accept", "application/json");
            return message;
        }

        /// <summary>
        /// **Applies to:** see pricing [tiers](https://aka.ms/AzureMapsPricingTier).
        /// 
        /// Creator makes it possible to develop applications based on your private indoor map data using Azure Maps API and SDK. [This](https://docs.microsoft.com/azure/azure-maps/creator-indoor-maps) article introduces concepts and tools that apply to Azure Maps Creator.
        /// 
        /// This API allows the caller to fetch a list of all successful data conversions submitted previously using the [Conversion API](https://docs.microsoft.com/en-us/rest/api/maps/conversion/convertpreview).
        /// 
        /// ### Submit List Request
        /// 
        /// To list all successful conversions you will issue a `GET` request with no additional parameters.
        /// 
        /// ### List Data Response
        /// 
        /// The Conversion List API returns the complete list of all conversion details in `json` format.&lt;br&gt;
        /// 
        /// Here is a sample response returning the details of two successful conversion requests:
        /// 
        /// &lt;br&gt;
        /// 
        /// ```json
        /// {
        ///     &quot;conversions&quot;:
        ///     [
        ///         {
        ///             &quot;conversionId&quot;: &quot;54398242-ea6c-1f31-4fa6-79b1ae0fc24d&quot;,
        ///             &quot;udid&quot;: &quot;31838736-8b84-11ea-bc55-0242ac130003&quot;,
        ///             &quot;created&quot;: &quot;5/19/2020 9:00:00 AM +00:00&quot;,
        ///             &quot;description&quot;: &quot;User provided description.&quot;,
        ///             &quot;featureCounts&quot;: {
        ///                 &quot;DIR&quot;: 1,
        ///                 &quot;LVL&quot;: 3,
        ///                 &quot;FCL&quot;: 1,
        ///                 &quot;UNIT&quot;: 150,
        ///                 &quot;CTG&quot;: 8,
        ///                 &quot;AEL&quot;: 0,
        ///                 &quot;OPN&quot;: 10
        ///             }
        ///         },
        ///         {
        ///             &quot;conversionId&quot;: &quot;2acf7d32-8b84-11ea-bc55-0242ac130003&quot;,
        ///             &quot;udid&quot;: &quot;1214bc58-8b84-11ea-bc55-0242ac1300039&quot;,
        ///             &quot;created&quot;: &quot;5/19/2020 9:00:00 AM +00:00&quot;,
        ///             &quot;description&quot;: &quot;User provided description.&quot;,
        ///             &quot;featureCounts&quot;: {
        ///                 &quot;DIR&quot;: 1,
        ///                 &quot;LVL&quot;: 3,
        ///                 &quot;FCL&quot;: 1,
        ///                 &quot;UNIT&quot;: 150,
        ///                 &quot;CTG&quot;: 8,
        ///                 &quot;AEL&quot;: 0,
        ///                 &quot;OPN&quot;: 10
        ///             }
        ///         }
        ///     ]
        /// }
        /// ```
        /// 
        /// &lt;br&gt;.
        /// </summary>
        /// <param name="nextLink"> The URL to the next page of results. </param>
        /// <param name="cancellationToken"> The cancellation token to use. </param>
        /// <exception cref="ArgumentNullException"> <paramref name="nextLink"/> is null. </exception>
        public async Task<Response<ConversionListResponse>> ListNextPageAsync(string nextLink, CancellationToken cancellationToken = default)
        {
            if (nextLink == null)
            {
                throw new ArgumentNullException(nameof(nextLink));
            }

            using var message = CreateListNextPageRequest(nextLink);
            await _pipeline.SendAsync(message, cancellationToken).ConfigureAwait(false);
            switch (message.Response.Status)
            {
                case 200:
                    {
                        ConversionListResponse value = default;
                        using var document = await JsonDocument.ParseAsync(message.Response.ContentStream, default, cancellationToken).ConfigureAwait(false);
                        value = ConversionListResponse.DeserializeConversionListResponse(document.RootElement);
                        return Response.FromValue(value, message.Response);
                    }
                default:
                    throw await _clientDiagnostics.CreateRequestFailedExceptionAsync(message.Response).ConfigureAwait(false);
            }
        }

        /// <summary>
        /// **Applies to:** see pricing [tiers](https://aka.ms/AzureMapsPricingTier).
        /// 
        /// Creator makes it possible to develop applications based on your private indoor map data using Azure Maps API and SDK. [This](https://docs.microsoft.com/azure/azure-maps/creator-indoor-maps) article introduces concepts and tools that apply to Azure Maps Creator.
        /// 
        /// This API allows the caller to fetch a list of all successful data conversions submitted previously using the [Conversion API](https://docs.microsoft.com/en-us/rest/api/maps/conversion/convertpreview).
        /// 
        /// ### Submit List Request
        /// 
        /// To list all successful conversions you will issue a `GET` request with no additional parameters.
        /// 
        /// ### List Data Response
        /// 
        /// The Conversion List API returns the complete list of all conversion details in `json` format.&lt;br&gt;
        /// 
        /// Here is a sample response returning the details of two successful conversion requests:
        /// 
        /// &lt;br&gt;
        /// 
        /// ```json
        /// {
        ///     &quot;conversions&quot;:
        ///     [
        ///         {
        ///             &quot;conversionId&quot;: &quot;54398242-ea6c-1f31-4fa6-79b1ae0fc24d&quot;,
        ///             &quot;udid&quot;: &quot;31838736-8b84-11ea-bc55-0242ac130003&quot;,
        ///             &quot;created&quot;: &quot;5/19/2020 9:00:00 AM +00:00&quot;,
        ///             &quot;description&quot;: &quot;User provided description.&quot;,
        ///             &quot;featureCounts&quot;: {
        ///                 &quot;DIR&quot;: 1,
        ///                 &quot;LVL&quot;: 3,
        ///                 &quot;FCL&quot;: 1,
        ///                 &quot;UNIT&quot;: 150,
        ///                 &quot;CTG&quot;: 8,
        ///                 &quot;AEL&quot;: 0,
        ///                 &quot;OPN&quot;: 10
        ///             }
        ///         },
        ///         {
        ///             &quot;conversionId&quot;: &quot;2acf7d32-8b84-11ea-bc55-0242ac130003&quot;,
        ///             &quot;udid&quot;: &quot;1214bc58-8b84-11ea-bc55-0242ac1300039&quot;,
        ///             &quot;created&quot;: &quot;5/19/2020 9:00:00 AM +00:00&quot;,
        ///             &quot;description&quot;: &quot;User provided description.&quot;,
        ///             &quot;featureCounts&quot;: {
        ///                 &quot;DIR&quot;: 1,
        ///                 &quot;LVL&quot;: 3,
        ///                 &quot;FCL&quot;: 1,
        ///                 &quot;UNIT&quot;: 150,
        ///                 &quot;CTG&quot;: 8,
        ///                 &quot;AEL&quot;: 0,
        ///                 &quot;OPN&quot;: 10
        ///             }
        ///         }
        ///     ]
        /// }
        /// ```
        /// 
        /// &lt;br&gt;.
        /// </summary>
        /// <param name="nextLink"> The URL to the next page of results. </param>
        /// <param name="cancellationToken"> The cancellation token to use. </param>
        /// <exception cref="ArgumentNullException"> <paramref name="nextLink"/> is null. </exception>
        public Response<ConversionListResponse> ListNextPage(string nextLink, CancellationToken cancellationToken = default)
        {
            if (nextLink == null)
            {
                throw new ArgumentNullException(nameof(nextLink));
            }

            using var message = CreateListNextPageRequest(nextLink);
            _pipeline.Send(message, cancellationToken);
            switch (message.Response.Status)
            {
                case 200:
                    {
                        ConversionListResponse value = default;
                        using var document = JsonDocument.Parse(message.Response.ContentStream);
                        value = ConversionListResponse.DeserializeConversionListResponse(document.RootElement);
                        return Response.FromValue(value, message.Response);
                    }
                default:
                    throw _clientDiagnostics.CreateRequestFailedException(message.Response);
            }
        }
    }
}
