# Generated code configuration

Run `dotnet build /t:GenerateCode` to generate code.

``` yaml
azure-arm: true
title: DeploymentStacksClient
namespace: Azure.ResourceManager.Resources
require: https://github.com/Azure/azure-rest-api-specs/blob/30b7aff12bd945cc154ba66eeb1592507926331f/specification/resources/resource-manager/Microsoft.Resources/deploymentStacks/readme.md
#tag: package-2024-03
output-folder: $(this-folder)/Generated
clear-output-folder: true
sample-gen:
  output-folder: $(this-folder)/../tests/Generated
  clear-output-folder: true
skip-csproj: true
model-namespace: true
public-clients: false
head-as-boolean: false
modelerfour:
  lenient-model-deduplication: true
use-model-reader-writer: true
enable-bicep-serialization: true

rename-mapping:
  ResourceReference: ResourceReferenceAutoGenerated

request-path-to-scope-resource-types:
  /{scope}/providers/Microsoft.Resources/deploymentStacks:
    - subscriptions
    - resourceGroups
    - managementGroups
  /{scope}/providers/Microsoft.Resources/deploymentStacks/{deploymentStackName}:
    - subscriptions
    - resourceGroups
    - managementGroups
  /{scope}/providers/Microsoft.Resources/deploymentStacks/{deploymentStackName}/exportTemplate:
    - subscriptions
    - resourceGroups
    - managementGroups

override-operation-name:
  DeploymentStacks_ExportTemplateAtScope: ExportTemplate
  DeploymentStacks_ValidateStackAtScope: ValidateStack

operation-groups-to-omit:
   Providers;ProviderResourceTypes;Resources;ResourceGroups;Tags;Subscriptions;Tenants

format-by-name-rules:
  'tenantId': 'uuid'
  'etag': 'etag'
  'location': 'azure-location'
  '*Uri': 'Uri'
  '*Uris': 'Uri'

acronym-mapping:
  CPU: Cpu
  CPUs: Cpus
  Os: OS
  Ip: IP
  Ips: IPs
  ID: Id
  IDs: Ids
  VM: Vm
  VMs: Vms
  Vmos: VmOS
  VMScaleSet: VmScaleSet
  DNS: Dns
  VPN: Vpn
  NAT: Nat
  WAN: Wan
  Ipv4: IPv4
  Ipv6: IPv6
  Ipsec: IPsec
  SSO: Sso
  URI: Uri
  Urls: Uris

directive:
  # Use AtScope methods to replace the following operations
  # Keep the get method at each scope so that generator can know the possible values of container's parent
  - remove-operation: DeploymentStacks_ExportTemplateAtSubscription
  - remove-operation: DeploymentStacks_ExportTemplateAtResourceGroup
  - remove-operation: DeploymentStacks_ExportTemplateAtManagementGroup
  - remove-operation: DeploymentStacks_ValidateStackAtResourceGroup
  - remove-operation: DeploymentStacks_ValidateStackAtSubscription
  - remove-operation: DeploymentStacks_ValidateStackAtManagementGroup
  - remove-operation: DeploymentStacks_ListAtResourceGroup
  - remove-operation: DeploymentStacks_ListAtSubscription
  - remove-operation: DeploymentStacks_ListAtManagementGroup
  - remove-operation: DeploymentStacks_CreateOrUpdateAtResourceGroup
  - remove-operation: DeploymentStacks_GetAtResourceGroup
  - remove-operation: DeploymentStacks_DeleteAtResourceGroup
  - remove-operation: DeploymentStacks_CreateOrUpdateAtSubscription
  - remove-operation: DeploymentStacks_GetAtSubscription
  - remove-operation: DeploymentStacks_DeleteAtSubscription
  - remove-operation: DeploymentStacks_CreateOrUpdateAtManagementGroup
  - remove-operation: DeploymentStacks_GetAtManagementGroup
  - remove-operation: DeploymentStacks_DeleteAtManagementGroup

  # Specify the duration format
  - from: deploymentStacks.json
    where: $.definitions.DeploymentStackProperties.properties.duration
    transform: >
      $['format'] = 'duration';
  # Add scope operations
  - from: deploymentStacks.json
    where: $.parameters
    transform: >
      $['ScopeParameter'] = {
        "name": "scope",
        "in": "path",
        "required": true,
        "type": "string",
        "description": "The resource scope.",
        "x-ms-parameter-location": "method",
        "x-ms-skip-url-encoding": true
      }
  # Add scope operations
  - from: deploymentStacks.json
    where: $.paths
    transform: >
      $['/{scope}/providers/Microsoft.Resources/deploymentStacks/{deploymentStackName}/exportTemplate'] = {
        "post": {
          "tags": [
            "DeploymentStacks"
          ],
          "operationId": "DeploymentStacks_ExportTemplateAtScope",
          "description": "Exports the template used to create the Deployment stack.",
          "parameters": [
            {
              "$ref": "#/parameters/ScopeParameter"
            },
            {
              "$ref": "#/parameters/DeploymentStackNameParameter"
            },
            {
              "$ref": "../../../../../../common-types/resource-management/v5/types.json#/parameters/ApiVersionParameter"
            }
          ],
          "responses": {
            "200": {
              "description": "OK - Returns the Template or TemplateLink payload of the deployment stack.",
              "schema": {
                "$ref": "#/definitions/DeploymentStackTemplateDefinition"
              }
            },
            "default": {
              "description": "Error response describing why the operation failed.",
              "schema": {
                "$ref": "#/definitions/DeploymentStacksError"
              }
            }
          }
        }
      };
      $['/{scope}/providers/Microsoft.Resources/deploymentStacks/{deploymentStackName}/validate'] = {
        "post": {
          "tags": [
            "DeploymentStacks"
          ],
          "operationId": "DeploymentStacks_ValidateStackAtScope",
          "description": "Runs preflight validation on the specific scoped Deployment stack template to verify its acceptance to Azure Resource Manager.",
          "x-ms-long-running-operation": true,
          "x-ms-long-running-operation-options": {
            "final-state-via": "location"
          },
          "parameters": [
            {
              "$ref": "#/parameters/ScopeParameter"
            },
            {
              "$ref": "#/parameters/DeploymentStackNameParameter"
            },
            {
              "$ref": "../../../../../../common-types/resource-management/v5/types.json#/parameters/ApiVersionParameter"
            },
            {
              "name": "deploymentStack",
              "in": "body",
              "required": true,
              "schema": {
                "$ref": "#/definitions/DeploymentStack"
              },
              "description": "Deployment stack to validate."
            }
          ],
          "responses": {
            "200": {
              "description": "OK - The validation operation result.",
              "schema": {
                "$ref": "#/definitions/DeploymentStackValidateResult"
              }
            },
            "202": {
              "description": "Accepted - The validation request has been accepted for processing and the operation will complete asynchronously.",
              "headers": {
                "Location": {
                  "type": "string"
                },
                "Retry-After": {
                  "type": "string",
                  "description": "Number of seconds to wait before polling for status."
                }
              }
            },
            "400": {
              "description": "Failed - The validation operation result.",
              "x-ms-error-response": false,
              "schema": {
                "$ref": "#/definitions/DeploymentStackValidateResult"
              }
            },
            "default": {
              "description": "Error response describing why the operation failed.",
              "schema": {
                "$ref": "#/definitions/DeploymentStacksError"
              }
            }
          }
        }
      };
      $['/{scope}/providers/Microsoft.Resources/deploymentStacks'] = {
        "get": {
          "tags": [
            "DeploymentStacks"
          ],
          "operationId": "DeploymentStacks_ListAtScope",
          "description": "Lists all the Deployment stacks within the specified scope.",
          "parameters": [
            {
              "$ref": "#/parameters/ScopeParameter"
            },
            {
              "$ref": "../../../../../../common-types/resource-management/v5/types.json#/parameters/ApiVersionParameter"
            }
          ],
          "responses": {
            "200": {
              "description": "OK - Returns an array of Deployment stacks.",
              "schema": {
                "$ref": "#/definitions/DeploymentStackListResult"
              }
            },
            "default": {
              "description": "Error response describing why the operation failed.",
              "schema": {
                "$ref": "#/definitions/DeploymentStacksError"
              }
            }
          },
          "x-ms-pageable": {
            "nextLinkName": "nextLink"
          }
        }
      };
      $['/{scope}/providers/Microsoft.Resources/deploymentStacks/{deploymentStackName}'] = {
        "put": {
          "tags": [
            "DeploymentStacks"
          ],
          "operationId": "DeploymentStacks_CreateOrUpdateAtScope",
          "x-ms-long-running-operation": true,
          "x-ms-long-running-operation-options": {
            "final-state-via": "azure-async-operation"
          },
          "description": "Creates or updates a Deployment stack at specific scope.",
          "parameters": [
            {
              "$ref": "#/parameters/ScopeParameter"
            },
            {
              "$ref": "#/parameters/DeploymentStackNameParameter"
            },
            {
              "$ref": "../../../../../../common-types/resource-management/v5/types.json#/parameters/ApiVersionParameter"
            },
            {
              "name": "deploymentStack",
              "in": "body",
              "required": true,
              "schema": {
                "$ref": "#/definitions/DeploymentStack"
              },
              "description": "Deployment stack supplied to the operation."
            }
          ],
          "responses": {
            "200": {
              "description": "OK - The Deployment stack update request has succeeded.",
              "schema": {
                "$ref": "#/definitions/DeploymentStack"
              }
            },
            "201": {
              "description": "Deployment stack created.",
              "schema": {
                "$ref": "#/definitions/DeploymentStack"
              }
            },
            "default": {
              "description": "Error response describing why the operation failed.",
              "schema": {
                "$ref": "#/definitions/DeploymentStacksError"
              }
            }
          }
        },
        "get": {
          "tags": [
            "DeploymentStacks"
          ],
          "operationId": "DeploymentStacks_GetAtScope",
          "description": "Gets a Deployment stack with a given name at specific scope.",
          "parameters": [
            {
              "$ref": "#/parameters/ScopeParameter"
            },
            {
              "$ref": "#/parameters/DeploymentStackNameParameter"
            },
            {
              "$ref": "../../../../../../common-types/resource-management/v5/types.json#/parameters/ApiVersionParameter"
            }
          ],
          "responses": {
            "200": {
              "description": "OK - Returns information about the Deployment stack.",
              "schema": {
                "$ref": "#/definitions/DeploymentStack"
              }
            },
            "default": {
              "description": "Error response describing why the operation failed.",
              "schema": {
                "$ref": "#/definitions/DeploymentStacksError"
              }
            }
          }
        },
        "delete": {
          "tags": [
            "DeploymentStacks"
          ],
          "operationId": "DeploymentStacks_DeleteAtScope",
          "description": "Deletes a Deployment stack by name at specific scope. When operation completes, status code 200 returned without content.",
          "x-ms-long-running-operation": true,
          "x-ms-long-running-operation-options": {
            "final-state-via": "location"
          },
          "parameters": [
            {
              "$ref": "#/parameters/ScopeParameter"
            },
            {
              "$ref": "#/parameters/DeploymentStackNameParameter"
            },
            {
              "$ref": "#/parameters/DeleteResourceParameter"
            },
            {
              "$ref": "#/parameters/DeleteResourceGroupParameter"
            },
            {
              "$ref": "#/parameters/DeleteManagementGroupParameter"
            },
            {
              "$ref": "#/parameters/BypassStackOutOfSyncErrorParameter"
            },
            {
              "$ref": "../../../../../../common-types/resource-management/v5/types.json#/parameters/ApiVersionParameter"
            }
          ],
          "responses": {
            "200": {
              "description": "OK - Deployment stack deleted."
            },
            "202": {
              "description": "Accepted - Check location header for deletion status.",
              "headers": {
                "Location": {
                  "type": "string"
                }
              }
            },
            "204": {
              "description": "Deployment stack does not exist."
            },
            "default": {
              "description": "Error response describing why the operation failed.",
              "schema": {
                "$ref": "#/definitions/DeploymentStacksError"
              }
            }
          }
        }
      };
```