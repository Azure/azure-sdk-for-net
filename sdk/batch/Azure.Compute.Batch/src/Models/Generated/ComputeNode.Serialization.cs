// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.

// <auto-generated/>

#nullable disable

using System;
using System.Collections.Generic;
using System.Text.Json;
using Azure.Core;

namespace Azure.Compute.Batch.Models
{
    public partial class ComputeNode
    {
        internal static ComputeNode DeserializeComputeNode(JsonElement element)
        {
            Optional<string> id = default;
            Optional<string> url = default;
            Optional<ComputeNodeState> state = default;
            Optional<SchedulingState> schedulingState = default;
            Optional<DateTimeOffset> stateTransitionTime = default;
            Optional<DateTimeOffset> lastBootTime = default;
            Optional<DateTimeOffset> allocationTime = default;
            Optional<string> ipAddress = default;
            Optional<string> affinityId = default;
            Optional<string> vmSize = default;
            Optional<int> totalTasksRun = default;
            Optional<int> runningTasksCount = default;
            Optional<int> runningTaskSlotsCount = default;
            Optional<int> totalTasksSucceeded = default;
            Optional<IReadOnlyList<TaskInformation>> recentTasks = default;
            Optional<StartTask> startTask = default;
            Optional<StartTaskInformation> startTaskInfo = default;
            Optional<IReadOnlyList<CertificateReference>> certificateReferences = default;
            Optional<IReadOnlyList<ComputeNodeError>> errors = default;
            Optional<bool> isDedicated = default;
            Optional<ComputeNodeEndpointConfiguration> endpointConfiguration = default;
            Optional<NodeAgentInformation> nodeAgentInfo = default;
            Optional<VirtualMachineInfo> virtualMachineInfo = default;
            foreach (var property in element.EnumerateObject())
            {
                if (property.NameEquals("id"))
                {
                    id = property.Value.GetString();
                    continue;
                }
                if (property.NameEquals("url"))
                {
                    url = property.Value.GetString();
                    continue;
                }
                if (property.NameEquals("state"))
                {
                    if (property.Value.ValueKind == JsonValueKind.Null)
                    {
                        property.ThrowNonNullablePropertyIsNull();
                        continue;
                    }
                    state = property.Value.GetString().ToComputeNodeState();
                    continue;
                }
                if (property.NameEquals("schedulingState"))
                {
                    if (property.Value.ValueKind == JsonValueKind.Null)
                    {
                        property.ThrowNonNullablePropertyIsNull();
                        continue;
                    }
                    schedulingState = property.Value.GetString().ToSchedulingState();
                    continue;
                }
                if (property.NameEquals("stateTransitionTime"))
                {
                    if (property.Value.ValueKind == JsonValueKind.Null)
                    {
                        property.ThrowNonNullablePropertyIsNull();
                        continue;
                    }
                    stateTransitionTime = property.Value.GetDateTimeOffset("O");
                    continue;
                }
                if (property.NameEquals("lastBootTime"))
                {
                    if (property.Value.ValueKind == JsonValueKind.Null)
                    {
                        property.ThrowNonNullablePropertyIsNull();
                        continue;
                    }
                    lastBootTime = property.Value.GetDateTimeOffset("O");
                    continue;
                }
                if (property.NameEquals("allocationTime"))
                {
                    if (property.Value.ValueKind == JsonValueKind.Null)
                    {
                        property.ThrowNonNullablePropertyIsNull();
                        continue;
                    }
                    allocationTime = property.Value.GetDateTimeOffset("O");
                    continue;
                }
                if (property.NameEquals("ipAddress"))
                {
                    ipAddress = property.Value.GetString();
                    continue;
                }
                if (property.NameEquals("affinityId"))
                {
                    affinityId = property.Value.GetString();
                    continue;
                }
                if (property.NameEquals("vmSize"))
                {
                    vmSize = property.Value.GetString();
                    continue;
                }
                if (property.NameEquals("totalTasksRun"))
                {
                    if (property.Value.ValueKind == JsonValueKind.Null)
                    {
                        property.ThrowNonNullablePropertyIsNull();
                        continue;
                    }
                    totalTasksRun = property.Value.GetInt32();
                    continue;
                }
                if (property.NameEquals("runningTasksCount"))
                {
                    if (property.Value.ValueKind == JsonValueKind.Null)
                    {
                        property.ThrowNonNullablePropertyIsNull();
                        continue;
                    }
                    runningTasksCount = property.Value.GetInt32();
                    continue;
                }
                if (property.NameEquals("runningTaskSlotsCount"))
                {
                    if (property.Value.ValueKind == JsonValueKind.Null)
                    {
                        property.ThrowNonNullablePropertyIsNull();
                        continue;
                    }
                    runningTaskSlotsCount = property.Value.GetInt32();
                    continue;
                }
                if (property.NameEquals("totalTasksSucceeded"))
                {
                    if (property.Value.ValueKind == JsonValueKind.Null)
                    {
                        property.ThrowNonNullablePropertyIsNull();
                        continue;
                    }
                    totalTasksSucceeded = property.Value.GetInt32();
                    continue;
                }
                if (property.NameEquals("recentTasks"))
                {
                    if (property.Value.ValueKind == JsonValueKind.Null)
                    {
                        property.ThrowNonNullablePropertyIsNull();
                        continue;
                    }
                    List<TaskInformation> array = new List<TaskInformation>();
                    foreach (var item in property.Value.EnumerateArray())
                    {
                        array.Add(TaskInformation.DeserializeTaskInformation(item));
                    }
                    recentTasks = array;
                    continue;
                }
                if (property.NameEquals("startTask"))
                {
                    if (property.Value.ValueKind == JsonValueKind.Null)
                    {
                        property.ThrowNonNullablePropertyIsNull();
                        continue;
                    }
                    startTask = StartTask.DeserializeStartTask(property.Value);
                    continue;
                }
                if (property.NameEquals("startTaskInfo"))
                {
                    if (property.Value.ValueKind == JsonValueKind.Null)
                    {
                        property.ThrowNonNullablePropertyIsNull();
                        continue;
                    }
                    startTaskInfo = StartTaskInformation.DeserializeStartTaskInformation(property.Value);
                    continue;
                }
                if (property.NameEquals("certificateReferences"))
                {
                    if (property.Value.ValueKind == JsonValueKind.Null)
                    {
                        property.ThrowNonNullablePropertyIsNull();
                        continue;
                    }
                    List<CertificateReference> array = new List<CertificateReference>();
                    foreach (var item in property.Value.EnumerateArray())
                    {
                        array.Add(CertificateReference.DeserializeCertificateReference(item));
                    }
                    certificateReferences = array;
                    continue;
                }
                if (property.NameEquals("errors"))
                {
                    if (property.Value.ValueKind == JsonValueKind.Null)
                    {
                        property.ThrowNonNullablePropertyIsNull();
                        continue;
                    }
                    List<ComputeNodeError> array = new List<ComputeNodeError>();
                    foreach (var item in property.Value.EnumerateArray())
                    {
                        array.Add(ComputeNodeError.DeserializeComputeNodeError(item));
                    }
                    errors = array;
                    continue;
                }
                if (property.NameEquals("isDedicated"))
                {
                    if (property.Value.ValueKind == JsonValueKind.Null)
                    {
                        property.ThrowNonNullablePropertyIsNull();
                        continue;
                    }
                    isDedicated = property.Value.GetBoolean();
                    continue;
                }
                if (property.NameEquals("endpointConfiguration"))
                {
                    if (property.Value.ValueKind == JsonValueKind.Null)
                    {
                        property.ThrowNonNullablePropertyIsNull();
                        continue;
                    }
                    endpointConfiguration = ComputeNodeEndpointConfiguration.DeserializeComputeNodeEndpointConfiguration(property.Value);
                    continue;
                }
                if (property.NameEquals("nodeAgentInfo"))
                {
                    if (property.Value.ValueKind == JsonValueKind.Null)
                    {
                        property.ThrowNonNullablePropertyIsNull();
                        continue;
                    }
                    nodeAgentInfo = NodeAgentInformation.DeserializeNodeAgentInformation(property.Value);
                    continue;
                }
                if (property.NameEquals("virtualMachineInfo"))
                {
                    if (property.Value.ValueKind == JsonValueKind.Null)
                    {
                        property.ThrowNonNullablePropertyIsNull();
                        continue;
                    }
                    virtualMachineInfo = VirtualMachineInfo.DeserializeVirtualMachineInfo(property.Value);
                    continue;
                }
            }
            return new ComputeNode(id.Value, url.Value, Optional.ToNullable(state), Optional.ToNullable(schedulingState), Optional.ToNullable(stateTransitionTime), Optional.ToNullable(lastBootTime), Optional.ToNullable(allocationTime), ipAddress.Value, affinityId.Value, vmSize.Value, Optional.ToNullable(totalTasksRun), Optional.ToNullable(runningTasksCount), Optional.ToNullable(runningTaskSlotsCount), Optional.ToNullable(totalTasksSucceeded), Optional.ToList(recentTasks), startTask.Value, startTaskInfo.Value, Optional.ToList(certificateReferences), Optional.ToList(errors), Optional.ToNullable(isDedicated), endpointConfiguration.Value, nodeAgentInfo.Value, virtualMachineInfo.Value);
        }
    }
}
