// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.

// <auto-generated/>

#nullable disable

using System;
using System.Collections.Generic;
using System.Linq;
using Azure.Core;

namespace BatchService.Models
{
    /// <summary>
    /// A reference to the Azure Virtual Machines Marketplace Image and additional
    /// information about the Image.
    /// </summary>
    public partial class ImageInformation
    {
        /// <summary> Initializes a new instance of ImageInformation. </summary>
        /// <param name="imageReference">
        /// A reference to an Azure Virtual Machines Marketplace Image or a Shared Image
        /// Gallery Image. To get the list of all Azure Marketplace Image references
        /// verified by Azure Batch, see the 'List Supported Images' operation.
        /// </param>
        /// <param name="osType"> The type of operating system (e.g. Windows or Linux) of the Image. </param>
        /// <param name="verificationType">
        /// Whether the Azure Batch service actively verifies that the Image is compatible
        /// with the associated Compute Node agent SKU.
        /// </param>
        /// <exception cref="ArgumentNullException"> <paramref name="imageReference"/> is null. </exception>
        internal ImageInformation(ImageReference imageReference, OSType osType, VerificationType verificationType)
        {
            Argument.AssertNotNull(imageReference, nameof(imageReference));

            ImageReference = imageReference;
            OsType = osType;
            Capabilities = new ChangeTrackingList<string>();
            VerificationType = verificationType;
        }

        /// <summary> Initializes a new instance of ImageInformation. </summary>
        /// <param name="nodeAgentSKUId"> The ID of the Compute Node agent SKU which the Image supports. </param>
        /// <param name="imageReference">
        /// A reference to an Azure Virtual Machines Marketplace Image or a Shared Image
        /// Gallery Image. To get the list of all Azure Marketplace Image references
        /// verified by Azure Batch, see the 'List Supported Images' operation.
        /// </param>
        /// <param name="osType"> The type of operating system (e.g. Windows or Linux) of the Image. </param>
        /// <param name="capabilities">
        /// Not every capability of the Image is listed. Capabilities in this list are
        /// considered of special interest and are generally related to integration with
        /// other features in the Azure Batch service.
        /// </param>
        /// <param name="batchSupportEndOfLife">
        /// The time when the Azure Batch service will stop accepting create Pool requests
        /// for the Image.
        /// </param>
        /// <param name="verificationType">
        /// Whether the Azure Batch service actively verifies that the Image is compatible
        /// with the associated Compute Node agent SKU.
        /// </param>
        internal ImageInformation(string nodeAgentSKUId, ImageReference imageReference, OSType osType, IReadOnlyList<string> capabilities, DateTimeOffset? batchSupportEndOfLife, VerificationType verificationType)
        {
            NodeAgentSKUId = nodeAgentSKUId;
            ImageReference = imageReference;
            OsType = osType;
            Capabilities = capabilities.ToList();
            BatchSupportEndOfLife = batchSupportEndOfLife;
            VerificationType = verificationType;
        }

        /// <summary> The ID of the Compute Node agent SKU which the Image supports. </summary>
        public string NodeAgentSKUId { get; }
        /// <summary>
        /// A reference to an Azure Virtual Machines Marketplace Image or a Shared Image
        /// Gallery Image. To get the list of all Azure Marketplace Image references
        /// verified by Azure Batch, see the 'List Supported Images' operation.
        /// </summary>
        public ImageReference ImageReference { get; }
        /// <summary> The type of operating system (e.g. Windows or Linux) of the Image. </summary>
        public OSType OsType { get; }
        /// <summary>
        /// Not every capability of the Image is listed. Capabilities in this list are
        /// considered of special interest and are generally related to integration with
        /// other features in the Azure Batch service.
        /// </summary>
        public IReadOnlyList<string> Capabilities { get; }
        /// <summary>
        /// The time when the Azure Batch service will stop accepting create Pool requests
        /// for the Image.
        /// </summary>
        public DateTimeOffset? BatchSupportEndOfLife { get; }
        /// <summary>
        /// Whether the Azure Batch service actively verifies that the Image is compatible
        /// with the associated Compute Node agent SKU.
        /// </summary>
        public VerificationType VerificationType { get; }
    }
}
