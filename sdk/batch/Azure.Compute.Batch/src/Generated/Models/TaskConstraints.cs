// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.

// <auto-generated/>

#nullable disable

using System;

namespace BatchService.Models
{
    /// <summary> Execution constraints to apply to a Task. </summary>
    public partial class TaskConstraints
    {
        /// <summary> Initializes a new instance of TaskConstraints. </summary>
        public TaskConstraints()
        {
        }

        /// <summary> Initializes a new instance of TaskConstraints. </summary>
        /// <param name="maxWallClockTime"> If this is not specified, there is no time limit on how long the Task may run. </param>
        /// <param name="retentionTime">
        /// The default is 7 days, i.e. the Task directory will be retained for 7 days
        /// unless the Compute Node is removed or the Job is deleted.
        /// </param>
        /// <param name="maxTaskRetryCount">
        /// Note that this value specifically controls the number of retries for the Task
        /// executable due to a nonzero exit code. The Batch service will try the Task
        /// once, and may then retry up to this limit. For example, if the maximum retry
        /// count is 3, Batch tries the Task up to 4 times (one initial try and 3 retries).
        /// If the maximum retry count is 0, the Batch service does not retry the Task
        /// after the first attempt. If the maximum retry count is -1, the Batch service
        /// retries the Task without limit, however this is not recommended for a start
        /// task or any task. The default value is 0 (no retries)
        /// </param>
        internal TaskConstraints(TimeSpan? maxWallClockTime, TimeSpan? retentionTime, int? maxTaskRetryCount)
        {
            MaxWallClockTime = maxWallClockTime;
            RetentionTime = retentionTime;
            MaxTaskRetryCount = maxTaskRetryCount;
        }

        /// <summary> If this is not specified, there is no time limit on how long the Task may run. </summary>
        public TimeSpan? MaxWallClockTime { get; set; }
        /// <summary>
        /// The default is 7 days, i.e. the Task directory will be retained for 7 days
        /// unless the Compute Node is removed or the Job is deleted.
        /// </summary>
        public TimeSpan? RetentionTime { get; set; }
        /// <summary>
        /// Note that this value specifically controls the number of retries for the Task
        /// executable due to a nonzero exit code. The Batch service will try the Task
        /// once, and may then retry up to this limit. For example, if the maximum retry
        /// count is 3, Batch tries the Task up to 4 times (one initial try and 3 retries).
        /// If the maximum retry count is 0, the Batch service does not retry the Task
        /// after the first attempt. If the maximum retry count is -1, the Batch service
        /// retries the Task without limit, however this is not recommended for a start
        /// task or any task. The default value is 0 (no retries)
        /// </summary>
        public int? MaxTaskRetryCount { get; set; }
    }
}
