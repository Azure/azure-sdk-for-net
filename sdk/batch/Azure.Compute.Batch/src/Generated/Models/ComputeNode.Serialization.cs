// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.

// <auto-generated/>

#nullable disable

using System;
using System.Collections.Generic;
using System.Text.Json;
using Azure;
using Azure.Core;

namespace BatchService.Models
{
    public partial class ComputeNode
    {
        internal static ComputeNode DeserializeComputeNode(JsonElement element)
        {
            if (element.ValueKind == JsonValueKind.Null)
            {
                return null;
            }
            Optional<string> id = default;
            Optional<string> url = default;
            Optional<ComputeNodeState?> state = default;
            Optional<SchedulingState?> schedulingState = default;
            Optional<DateTimeOffset?> stateTransitionTime = default;
            Optional<DateTimeOffset?> lastBootTime = default;
            Optional<DateTimeOffset?> allocationTime = default;
            Optional<string> ipAddress = default;
            Optional<string> affinityId = default;
            Optional<string> vmSize = default;
            Optional<int?> totalTasksRun = default;
            Optional<int?> runningTasksCount = default;
            Optional<int?> runningTaskSlotsCount = default;
            Optional<int?> totalTasksSucceeded = default;
            Optional<IReadOnlyList<TaskInformation>> recentTasks = default;
            Optional<StartTask> startTask = default;
            Optional<StartTaskInformation> startTaskInfo = default;
            Optional<IReadOnlyList<CertificateReference>> certificateReferences = default;
            Optional<IReadOnlyList<ComputeNodeError>> errors = default;
            Optional<bool?> isDedicated = default;
            Optional<ComputeNodeEndpointConfiguration> endpointConfiguration = default;
            Optional<NodeAgentInformation> nodeAgentInfo = default;
            Optional<VirtualMachineInfo> virtualMachineInfo = default;
            foreach (var property in element.EnumerateObject())
            {
                if (property.NameEquals("id"u8))
                {
                    id = property.Value.GetString();
                    continue;
                }
                if (property.NameEquals("url"u8))
                {
                    url = property.Value.GetString();
                    continue;
                }
                if (property.NameEquals("state"u8))
                {
                    if (property.Value.ValueKind == JsonValueKind.Null)
                    {
                        state = null;
                        continue;
                    }
                    state = new ComputeNodeState(property.Value.GetString());
                    continue;
                }
                if (property.NameEquals("schedulingState"u8))
                {
                    if (property.Value.ValueKind == JsonValueKind.Null)
                    {
                        schedulingState = null;
                        continue;
                    }
                    schedulingState = new SchedulingState(property.Value.GetString());
                    continue;
                }
                if (property.NameEquals("stateTransitionTime"u8))
                {
                    if (property.Value.ValueKind == JsonValueKind.Null)
                    {
                        stateTransitionTime = null;
                        continue;
                    }
                    stateTransitionTime = property.Value.GetDateTimeOffset("O");
                    continue;
                }
                if (property.NameEquals("lastBootTime"u8))
                {
                    if (property.Value.ValueKind == JsonValueKind.Null)
                    {
                        lastBootTime = null;
                        continue;
                    }
                    lastBootTime = property.Value.GetDateTimeOffset("O");
                    continue;
                }
                if (property.NameEquals("allocationTime"u8))
                {
                    if (property.Value.ValueKind == JsonValueKind.Null)
                    {
                        allocationTime = null;
                        continue;
                    }
                    allocationTime = property.Value.GetDateTimeOffset("O");
                    continue;
                }
                if (property.NameEquals("ipAddress"u8))
                {
                    ipAddress = property.Value.GetString();
                    continue;
                }
                if (property.NameEquals("affinityId"u8))
                {
                    affinityId = property.Value.GetString();
                    continue;
                }
                if (property.NameEquals("vmSize"u8))
                {
                    vmSize = property.Value.GetString();
                    continue;
                }
                if (property.NameEquals("totalTasksRun"u8))
                {
                    if (property.Value.ValueKind == JsonValueKind.Null)
                    {
                        totalTasksRun = null;
                        continue;
                    }
                    totalTasksRun = property.Value.GetInt32();
                    continue;
                }
                if (property.NameEquals("runningTasksCount"u8))
                {
                    if (property.Value.ValueKind == JsonValueKind.Null)
                    {
                        runningTasksCount = null;
                        continue;
                    }
                    runningTasksCount = property.Value.GetInt32();
                    continue;
                }
                if (property.NameEquals("runningTaskSlotsCount"u8))
                {
                    if (property.Value.ValueKind == JsonValueKind.Null)
                    {
                        runningTaskSlotsCount = null;
                        continue;
                    }
                    runningTaskSlotsCount = property.Value.GetInt32();
                    continue;
                }
                if (property.NameEquals("totalTasksSucceeded"u8))
                {
                    if (property.Value.ValueKind == JsonValueKind.Null)
                    {
                        totalTasksSucceeded = null;
                        continue;
                    }
                    totalTasksSucceeded = property.Value.GetInt32();
                    continue;
                }
                if (property.NameEquals("recentTasks"u8))
                {
                    if (property.Value.ValueKind == JsonValueKind.Null)
                    {
                        property.ThrowNonNullablePropertyIsNull();
                        continue;
                    }
                    List<TaskInformation> array = new List<TaskInformation>();
                    foreach (var item in property.Value.EnumerateArray())
                    {
                        array.Add(TaskInformation.DeserializeTaskInformation(item));
                    }
                    recentTasks = array;
                    continue;
                }
                if (property.NameEquals("startTask"u8))
                {
                    if (property.Value.ValueKind == JsonValueKind.Null)
                    {
                        property.ThrowNonNullablePropertyIsNull();
                        continue;
                    }
                    startTask = StartTask.DeserializeStartTask(property.Value);
                    continue;
                }
                if (property.NameEquals("startTaskInfo"u8))
                {
                    if (property.Value.ValueKind == JsonValueKind.Null)
                    {
                        property.ThrowNonNullablePropertyIsNull();
                        continue;
                    }
                    startTaskInfo = StartTaskInformation.DeserializeStartTaskInformation(property.Value);
                    continue;
                }
                if (property.NameEquals("certificateReferences"u8))
                {
                    if (property.Value.ValueKind == JsonValueKind.Null)
                    {
                        property.ThrowNonNullablePropertyIsNull();
                        continue;
                    }
                    List<CertificateReference> array = new List<CertificateReference>();
                    foreach (var item in property.Value.EnumerateArray())
                    {
                        array.Add(CertificateReference.DeserializeCertificateReference(item));
                    }
                    certificateReferences = array;
                    continue;
                }
                if (property.NameEquals("errors"u8))
                {
                    if (property.Value.ValueKind == JsonValueKind.Null)
                    {
                        property.ThrowNonNullablePropertyIsNull();
                        continue;
                    }
                    List<ComputeNodeError> array = new List<ComputeNodeError>();
                    foreach (var item in property.Value.EnumerateArray())
                    {
                        array.Add(ComputeNodeError.DeserializeComputeNodeError(item));
                    }
                    errors = array;
                    continue;
                }
                if (property.NameEquals("isDedicated"u8))
                {
                    if (property.Value.ValueKind == JsonValueKind.Null)
                    {
                        isDedicated = null;
                        continue;
                    }
                    isDedicated = property.Value.GetBoolean();
                    continue;
                }
                if (property.NameEquals("endpointConfiguration"u8))
                {
                    if (property.Value.ValueKind == JsonValueKind.Null)
                    {
                        property.ThrowNonNullablePropertyIsNull();
                        continue;
                    }
                    endpointConfiguration = ComputeNodeEndpointConfiguration.DeserializeComputeNodeEndpointConfiguration(property.Value);
                    continue;
                }
                if (property.NameEquals("nodeAgentInfo"u8))
                {
                    if (property.Value.ValueKind == JsonValueKind.Null)
                    {
                        property.ThrowNonNullablePropertyIsNull();
                        continue;
                    }
                    nodeAgentInfo = NodeAgentInformation.DeserializeNodeAgentInformation(property.Value);
                    continue;
                }
                if (property.NameEquals("virtualMachineInfo"u8))
                {
                    if (property.Value.ValueKind == JsonValueKind.Null)
                    {
                        property.ThrowNonNullablePropertyIsNull();
                        continue;
                    }
                    virtualMachineInfo = VirtualMachineInfo.DeserializeVirtualMachineInfo(property.Value);
                    continue;
                }
            }
            return new ComputeNode(id, url, Optional.ToNullable(state), Optional.ToNullable(schedulingState), Optional.ToNullable(stateTransitionTime), Optional.ToNullable(lastBootTime), Optional.ToNullable(allocationTime), ipAddress, affinityId, vmSize, Optional.ToNullable(totalTasksRun), Optional.ToNullable(runningTasksCount), Optional.ToNullable(runningTaskSlotsCount), Optional.ToNullable(totalTasksSucceeded), Optional.ToList(recentTasks), startTask, startTaskInfo, Optional.ToList(certificateReferences), Optional.ToList(errors), Optional.ToNullable(isDedicated), endpointConfiguration, nodeAgentInfo, virtualMachineInfo);
        }

        /// <summary> Deserializes the model from a raw response. </summary>
        /// <param name="response"> The response to deserialize the model from. </param>
        internal static ComputeNode FromResponse(Response response)
        {
            using var document = JsonDocument.Parse(response.Content);
            return DeserializeComputeNode(document.RootElement);
        }
    }
}
