# Generated code configuration

Run `dotnet build /t:GenerateCode` to generate code.

``` yaml

azure-arm: true
csharp: true
library-name: Batch
namespace: Azure.ResourceManager.Batch
require: https://github.com/Azure/azure-rest-api-specs/blob/b9cb72abc185cb0bbcfcd45e085f9e1e8a27aa10/specification/batch/resource-manager/readme.md
#tag: package-2024-07
output-folder: $(this-folder)/Generated
clear-output-folder: true
sample-gen:
  output-folder: $(this-folder)/../tests/Generated
  clear-output-folder: true
skip-csproj: true
modelerfour:
  flatten-payloads: false
use-model-reader-writer: true
deserialize-null-collection-as-null-value: true

# mgmt-debug:
#   show-serialized-names: true

format-by-name-rules:
  'tenantId': 'uuid'
  'ETag': 'etag'
  'location': 'azure-location'
  '*Uri': 'Uri'
  '*Uris': 'Uri'
  'ifMatch': 'etag'
  'locationName': 'azure-location'

acronym-mapping:
  CPU: Cpu
  CPUs: Cpus
  Os: OS
  Ip: IP
  Ips: IPs|ips
  ID: Id
  IDs: Ids
  VM: Vm
  VMs: Vms
  VMScaleSet: VmScaleSet
  DNS: Dns
  VPN: Vpn
  NAT: Nat
  WAN: Wan
  Ipv4: IPv4|ipv4
  Ipv6: IPv6|ipv6
  Ipsec: IPsec|ipsec
  SSO: Sso
  URI: Uri
  Etag: ETag|etag
  AAD: Aad
  LRS: Lrs
  TCP: Tcp
  UDP: Udp
  NFS: Nfs

prepend-rp-prefix:
- StorageAccountType
- ProvisioningState
- Severity
- AccessRule
- AccessRuleDirection
- AccessRuleProperties
- IssueType
- ProvisioningIssue
- ProvisioningIssueProperties
- ResourceAssociation
- SecurityEncryptionTypes

override-operation-name:
  Location_CheckNameAvailability: CheckBatchNameAvailability
  Location_GetQuotas: GetBatchQuotas
  Location_ListSupportedVirtualMachineSkus: GetBatchSupportedVirtualMachineSkus

@@clientName(CachingType, "BatchDiskCachingType", "csharp");
@@clientName(Application, "BatchApplication", "csharp");
@@clientName(ApplicationPackage, "BatchApplicationPackage", "csharp");
@@clientName(ApplicationPackage.properties.lastActivationTime, "LastActivatedOn", "csharp");
@@clientName(PublicNetworkAccessType, "BatchPublicNetworkAccess", "csharp");
@@clientName(BatchAccount.properties.dedicatedCoreQuotaPerVMFamilyEnforced, "IsDedicatedCoreQuotaPerVmFamilyEnforced", "csharp");
@@clientName(DetectorResponse, "BatchAccountDetector", "csharp");
@@clientName(OutboundEnvironmentEndpoint, "BatchAccountOutboundEnvironmentEndpoint", "csharp");
@@clientName(EndpointDependency, "BatchAccountEndpointDependency", "csharp");
@@clientName(EndpointDetail, "BatchEndpointDetail", "csharp");
@@clientName(Pool, "BatchAccountPool", "csharp");
@@clientName(Pool.properties.lastModified, "LastModifiedOn", "csharp");
@@clientName(Pool.properties.provisioningStateTransitionTime, "provisioningStateTransitOn", "csharp");
@@clientName(PoolAllocationMode, "BatchAccountPoolAllocationMode", "csharp");
@@clientName(AutoScaleRun, "BatchAccountPoolAutoScaleRun", "csharp");
@@clientName(ResizeOperationStatus, "BatchResizeOperationStatus", "csharp");
@@clientName(ComputeNodeDeallocationOption, "BatchNodeDeallocationOption", "csharp");
@@clientName(Certificate, "BatchAccountCertificate", "csharp");
@@clientName(CertificateCreateOrUpdateParameters, "BatchAccountCertificateCreateOrUpdateContent", "csharp");
@@clientName(CertificateFormat, "BatchAccountCertificateFormat", "csharp");
@@clientName(CertificateProvisioningState, "BatchAccountCertificateProvisioningState", "csharp");
@@clientName(Certificate.properties.provisioningStateTransitionTime, "provisioningStateTransitOn", "csharp");
@@clientName(Certificate.properties.previousProvisioningStateTransitionTime, "previousProvisioningStateTransitOn", "csharp");
@@clientName(CertificateStoreLocation, "BatchCertificateStoreLocation", "csharp");
@@clientName(CertificateVisibility, "BatchCertificateVisibility", "csharp");
@@clientName(PoolProvisioningState, "BatchAccountPoolProvisioningState", "csharp");
@@clientName(DeploymentConfiguration, "BatchDeploymentConfiguration", "csharp");
@@clientName(DeploymentConfiguration.virtualMachineConfiguration, "vmConfiguration", "csharp");
@@clientName(VirtualMachineConfiguration, "BatchVmConfiguration", "csharp");
@@clientName(DataDisk, "BatchVmDataDisk", "csharp");
@@clientName(DataDisk.diskSizeGB, "DiskSizeInGB", "csharp");
@@clientName(VMExtension, "BatchVmExtension", "csharp");
@@clientName(VMExtension.type, "ExtensionType", "csharp");
@@clientName(ContainerConfiguration, "BatchVmContainerConfiguration", "csharp");
@@clientName(ContainerType, "BatchVmContainerType", "csharp");
@@clientName(ContainerRegistry, "BatchVmContainerRegistry", "csharp");
@@clientName(WindowsConfiguration.enableAutomaticUpdates, "IsAutomaticUpdateEnabled", "csharp");
@@clientName(ContainerRegistry.identityReference, "Identity", "csharp");
@@clientName(NetworkProfile, "BatchNetworkProfile", "csharp");
@@clientName(EndpointAccessProfile, "BatchEndpointAccessProfile", "csharp");
@@clientName(EndpointAccessDefaultAction, "BatchEndpointAccessDefaultAction", "csharp");
@@clientName(AllocationState, "BatchAccountPoolAllocationState", "csharp");
@@clientName(ApplicationPackageReference, "BatchApplicationPackageReference", "csharp");
@@alternateType(ApplicationPackageReference.id, Azure.Core.armResourceIdentifier, "csharp");
@@clientName(CertificateReference, "BatchCertificateReference", "csharp");
@@alternateType(CertificateReference.id, Azure.Core.armResourceIdentifier, "csharp");
@@clientName(MetadataItem, "BatchAccountPoolMetadataItem", "csharp");
@@clientName(MountConfiguration, "BatchMountConfiguration", "csharp");
@@clientName(AzureBlobFileSystemConfiguration, "BatchBlobFileSystemConfiguration", "csharp");
@@clientName(AzureBlobFileSystemConfiguration.identityReference, "Identity", "csharp");
@@clientName(AzureFileShareConfiguration, "BatchFileShareConfiguration", "csharp");
@@alternateType(ComputeNodeIdentityReference.resourceId, Azure.Core.armResourceIdentifier, "csharp");
@@clientName(AutoStorageProperties, "BatchAccountAutoStorageConfiguration", "csharp");
@@clientName(AutoStorageProperties.lastKeySync, "LastKeySyncedOn", "csharp");
@@clientName(AutoStorageBaseProperties, "BatchAccountAutoStorageBaseConfiguration", "csharp");
@@alternateType(AutoStorageBaseProperties.storageAccountId, Azure.Core.armResourceIdentifier, "csharp");
@@clientName(AutoStorageAuthenticationMode, "BatchAutoStorageAuthenticationMode", "csharp");
@@clientName(AutoStorageBaseProperties.nodeIdentityReference, "NodeIdentity", "csharp");
@@clientName(KeyVaultReference, "BatchKeyVaultReference", "csharp");
@@alternateType(KeyVaultReference.id, Azure.Core.armResourceIdentifier, "csharp");
@@clientName(AuthenticationMode, "BatchAuthenticationMode", "csharp");
@@clientName(EncryptionProperties, "BatchAccountEncryptionConfiguration", "csharp");
@@clientName(KeySource, "BatchAccountKeySource", "csharp");
@@clientName(IPRule, "BatchIPRule", "csharp");
@@clientName(ResourceFile.identityReference, "Identity", "csharp");
@@clientName(VirtualMachineFamilyCoreQuota, "BatchVmFamilyCoreQuota", "csharp");
@@clientName(ScaleSettings, "BatchAccountPoolScaleSettings", "csharp");
@@clientName(AutoScaleSettings, "BatchAccountAutoScaleSettings", "csharp");
@@clientName(FixedScaleSettings, "BatchAccountFixedScaleSettings", "csharp");
@@clientName(StartTask, "BatchAccountPoolStartTask", "csharp");
@@clientName(ResourceFile, "BatchResourceFile", "csharp");
@@clientName(EnvironmentSetting, "BatchEnvironmentSetting", "csharp");
@@clientName(TaskContainerSettings, "BatchTaskContainerSettings", "csharp");
@@clientName(ComputeNodeFillType, "BatchNodeFillType", "csharp");
@@clientName(UserAccount, "BatchUserAccount", "csharp");
@@clientName(ElevationLevel, "BatchUserAccountElevationLevel", "csharp");
@@clientName(AutoUserScope, "BatchAutoUserScope", "csharp");
@@clientName(AutoUserSpecification, "BatchAutoUserSpecification", "csharp");
@@clientName(LinuxUserConfiguration, "BatchLinuxUserConfiguration", "csharp");
@@clientName(WindowsUserConfiguration, "BatchWindowsUserConfiguration", "csharp");
@@clientName(LoginMode, "BatchWindowsLoginMode", "csharp");
@@clientName(ApplicationPackage.properties.storageUrlExpiry, "StorageUriExpireOn", "csharp");
@@clientName(SupportedSku, "BatchSupportedSku", "csharp");
@@clientName(ActivateApplicationPackageParameters, "BatchApplicationPackageActivateContent", "csharp");
@@clientName(CheckNameAvailabilityParameters, "BatchNameAvailabilityContent", "csharp");
@@alternateType(CheckNameAvailabilityParameters.type, Azure.Core.armResourceType, "csharp");
@@clientName(CheckNameAvailabilityResult, "BatchNameAvailabilityResult", "csharp");
@@clientName(CheckNameAvailabilityResult.nameAvailable, "IsNameAvailable", "csharp");
@@clientName(NameAvailabilityReason, "BatchNameUnavailableReason", "csharp");
@@clientName(CifsMountConfiguration, "BatchCifsMountConfiguration", "csharp");
@@clientName(CifsMountConfiguration.userName, "username", "csharp");
@@clientName(NFSMountConfiguration, "BatchNFSMountConfiguration", "csharp");
@@clientName(ContainerWorkingDirectory, "BatchContainerWorkingDirectory", "csharp");
@@clientName(DiffDiskPlacement, "BatchDiffDiskPlacement", "csharp");
@@clientName(DiskEncryptionTarget, "BatchDiskEncryptionTarget", "csharp");
@@clientName(InboundEndpointProtocol, "BatchInboundEndpointProtocol", "csharp");
@@clientName(InboundNatPool, "BatchInboundNatPool", "csharp");
@@clientName(IPAddressProvisioningType, "BatchIPAddressProvisioningType", "csharp");
@@clientName(IPRuleAction, "BatchIPRuleAction", "csharp");
@@clientName(NetworkConfiguration, "BatchNetworkConfiguration", "csharp");
@@clientName(NetworkConfiguration.dynamicVnetAssignmentScope, "dynamicVNetAssignmentScope", "csharp");
@@alternateType(NetworkConfiguration.subnetId, Azure.Core.armResourceIdentifier, "csharp");
@@clientName(NetworkSecurityGroupRule, "BatchNetworkSecurityGroupRule", "csharp");
@@clientName(NetworkSecurityGroupRuleAccess, "BatchNetworkSecurityGroupRuleAccess", "csharp");
@@clientName(NodePlacementPolicyType, "BatchNodePlacementPolicyType", "csharp");
@@clientName(PackageState, "BatchApplicationPackageState", "csharp");
@@clientName(PrivateLinkServiceConnectionStatus, "BatchPrivateLinkServiceConnectionStatus", "csharp");
@@clientName(PrivateLinkServiceConnectionState.actionsRequired, "actionRequired", "csharp");
@@clientName(PublicIPAddressConfiguration, "BatchPublicIPAddressConfiguration", "csharp");
@@clientName(SkuCapability, "BatchSkuCapability", "csharp");
@@clientName(UserIdentity, "BatchUserIdentity", "csharp");
@@clientName(ImageReference, "BatchImageReference", "csharp");
@@alternateType(ImageReference.id, Azure.Core.armResourceIdentifier, "csharp");
@@alternateType(CertificateCreateOrUpdateParameters.properties.data, any, "csharp");
@@alternateType(KeyVaultProperties.keyIdentifier, url, "csharp");
@@clientName(AzureFileShareConfiguration.azureFileUrl, "FileUrl", "csharp");
@@clientName(MountConfiguration.azureBlobFileSystemConfiguration, "BlobFileSystemConfiguration", "csharp");
@@clientName(MountConfiguration.azureFileShareConfiguration, "FileShareConfiguration", "csharp");
@@clientName(ResourceFile.storageContainerUrl, "BlobContainerUri", "csharp");
@@clientName(ResourceFile.autoStorageContainerName, "AutoBlobContainerName", "csharp");
@@clientName(AccountKeyType, "BatchAccountKeyType", "csharp");
@@clientName(BatchAccountRegenerateKeyParameters.keyName, "KeyType", "csharp");
@@clientName(Certificate.properties.thumbprint, "ThumbprintString", "csharp");
@@clientName(CertificateCreateOrUpdateParameters.properties.thumbprint, "ThumbprintString", "csharp");
@@clientName(OSDisk, "BatchOSDisk", "csharp");
@@clientName(OSDisk.writeAcceleratorEnabled, "IsWriteAcceleratorEnabled", "csharp");
@@clientName(SecurityProfile, "BatchSecurityProfile", "csharp");
@@clientName(UefiSettings, "BatchUefiSettings", "csharp");
@@clientName(UefiSettings.secureBootEnabled, "IsSecureBootEnabled", "csharp");
@@clientName(UefiSettings.vTpmEnabled, "IsVTpmEnabled", "csharp");
@@clientName(SecurityTypes, "BatchSecurityType", "csharp");
@@clientName(StorageAccountType.StandardSSD_LRS, "StandardSsdLrs", "csharp");

directive:
# TODO -- remove this and use rename-mapping when it is supported
  - from: openapi.json
    where: $.definitions.PublicIPAddressConfiguration.properties.ipAddressIds.items
    transform: $["x-ms-format"] = "arm-id"
# resume the setter on tags of BatchAccountData
  - from: openapi.json
    where: $.definitions.BatchAccount
    transform: $["x-csharp-usage"] = "model,input,output"
# change the type to extensible so that the BatchPoolIdentity could be replaced
  - from: openapi.json
    where: $.definitions.PoolIdentityType
    transform: >
      $["x-ms-enum"].modelAsString = true;
  - from: openapi.json
    where: $.definitions.BatchPoolIdentity.properties
    transform: >
      $["principalId"] = {
        "type": "string",
        "readOnly": true
      };
      $["tenantId"] = {
        "type": "string",
        "readOnly": true
      };
# make provisioning state enumerations all extensible because they are meant to be extensible
  - from: openapi.json
    where: $.definitions
    transform: >
      $.ProvisioningState["x-ms-enum"].modelAsString = true;
      $.CertificateProvisioningState["x-ms-enum"].modelAsString = true;
      $.PrivateEndpointConnectionProvisioningState["x-ms-enum"].modelAsString = true;
      $.PoolProvisioningState["x-ms-enum"].modelAsString = true;
# add some missing properties to ResizeError so that it could be replaced by Azure.ResponseError
  - from: openapi.json
    where: $.definitions.ResizeError.properties
    transform: >
      $.code["readOnly"] = true;
      $.message["readOnly"] = true;
      $.details["readOnly"] = true;
      $["target"] = {
          "readOnly": true,
          "type": "string",
          "description": "The error target."
        };
# add some missing properties to AutoScaleRunError so that it could be replaced by Azure.ResponseError
  - from: openapi.json
    where: $.definitions.AutoScaleRunError.properties
    transform: >
      $.code["readOnly"] = true;
      $.message["readOnly"] = true;
      $.details["readOnly"] = true;
      $["target"] = {
          "readOnly": true,
          "type": "string",
          "description": "The error target."
        };
  - from: openapi.json
    where: $.definitions.CheckNameAvailabilityParameters.properties.type
    transform: $["x-ms-constant"] = true;
```
