trigger: none

resources:
  repositories:
    - repository: azure-sdk-tools
      type: github
      name: Azure/azure-sdk-tools
      endpoint: azure

jobs:
# Azure Cloud
- template: ../../eng/pipelines/templates/jobs/archetype-sdk-tests.yml
  parameters:
    MaxParallel: 6
    ServiceDirectory: eventhub
    TimeoutInMinutes: 120
    ScenarioName: AzureCloud
    SubscriptionConfiguration: $(sub-config-azure-cloud-test-resources)
    EnvVars:
      AZURE_AUTHORITY_HOST: https://login.microsoftonline.com
      SERVICE_MANAGEMENT_URL: https://management.core.windows.net/
      STORAGE_ENDPOINT_SUFFIX: core.windows.net

# AzureUSGovernment
- template: ../../eng/pipelines/templates/jobs/archetype-sdk-tests.yml
  parameters:
    ServiceDirectory: eventhub
    TimeoutInMinutes: 120
    ScenarioName: AzureUSGovernment
    SubscriptionConfiguration: $(sub-config-gov-test-resources)
    EnvVars:
      AZURE_AUTHORITY_HOST: https://login.microsoftonline.us
      SERVICE_MANAGEMENT_URL: https://management.core.usgovcloudapi.net/
      STORAGE_ENDPOINT_SUFFIX: core.usgovcloudapi.net

# AzureChinaCloud
- template: ../../eng/pipelines/templates/jobs/archetype-sdk-tests.yml
  parameters:
    ServiceDirectory: eventhub
    TimeoutInMinutes: 120
    ScenarioName: AzureChinaCloud
    SubscriptionConfiguration: $(sub-config-cn-test-resources)
    EnvVars:
      AZURE_AUTHORITY_HOST: https://login.chinacloudapi.cn
      SERVICE_MANAGEMENT_URL: https://management.core.chinacloudapi.cn/
      STORAGE_ENDPOINT_SUFFIX: core.chinacloudapi.cn
