// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.

// <auto-generated/>

#nullable disable

using System.Collections.Generic;
using Azure;
using Azure.Core;
using Microsoft.PlanetaryComputer;

namespace Customizations
{
    /// <summary></summary>
    public partial class StacItemTilerClient
    {
        private static ResponseClassifier _pipelineMessageClassifier200;
        private static ResponseClassifier _pipelineMessageClassifier200204;

        private static ResponseClassifier PipelineMessageClassifier200 => _pipelineMessageClassifier200 = new StatusCodeClassifier(stackalloc ushort[] { 200 });

        private static ResponseClassifier PipelineMessageClassifier200204 => _pipelineMessageClassifier200204 = new StatusCodeClassifier(stackalloc ushort[] { 200, 204 });

        internal HttpMessage CreateGetBoundsRequest(string collectionId, string itemId, RequestContext context)
        {
            HttpMessage message = Pipeline.CreateMessage(context, PipelineMessageClassifier200);
            Request request = message.Request;
            request.Method = RequestMethod.Get;
            RawRequestUriBuilder uri = new RawRequestUriBuilder();
            uri.Reset(_endpoint);
            uri.AppendPath("/data/collections/", false);
            uri.AppendPath(collectionId, true);
            uri.AppendPath("/items/", false);
            uri.AppendPath(itemId, true);
            uri.AppendPath("/bounds", false);
            uri.AppendQuery("api-version", _apiVersion, true);
            request.Uri = uri;
            request.Headers.SetValue("Accept", "application/json");
            return message;
        }

        internal HttpMessage CreateGetInfoRequest(string collectionId, string itemId, IEnumerable<string> assets, RequestContext context)
        {
            HttpMessage message = Pipeline.CreateMessage(context, PipelineMessageClassifier200);
            Request request = message.Request;
            request.Method = RequestMethod.Get;
            RawRequestUriBuilder uri = new RawRequestUriBuilder();
            uri.Reset(_endpoint);
            uri.AppendPath("/data/collections/", false);
            uri.AppendPath(collectionId, true);
            uri.AppendPath("/items/", false);
            uri.AppendPath(itemId, true);
            uri.AppendPath("/info", false);
            uri.AppendQuery("api-version", _apiVersion, true);
            if (assets != null && !(assets is ChangeTrackingList<string> changeTrackingList && changeTrackingList.IsUndefined))
            {
                foreach (var @param in assets)
                {
                    uri.AppendQuery("assets", @param, true);
                }
            }
            request.Uri = uri;
            request.Headers.SetValue("Accept", "application/json");
            return message;
        }

        internal HttpMessage CreateGetInfoGeoJsonRequest(string collectionId, string itemId, IEnumerable<string> assets, RequestContext context)
        {
            HttpMessage message = Pipeline.CreateMessage(context, PipelineMessageClassifier200);
            Request request = message.Request;
            request.Method = RequestMethod.Get;
            RawRequestUriBuilder uri = new RawRequestUriBuilder();
            uri.Reset(_endpoint);
            uri.AppendPath("/data/collections/", false);
            uri.AppendPath(collectionId, true);
            uri.AppendPath("/items/", false);
            uri.AppendPath(itemId, true);
            uri.AppendPath("/info.geojson", false);
            uri.AppendQuery("api-version", _apiVersion, true);
            if (assets != null && !(assets is ChangeTrackingList<string> changeTrackingList && changeTrackingList.IsUndefined))
            {
                foreach (var @param in assets)
                {
                    uri.AppendQuery("assets", @param, true);
                }
            }
            request.Uri = uri;
            request.Headers.SetValue("Accept", "application/json");
            return message;
        }

        internal HttpMessage CreateGetAvailableAssetsRequest(string collectionId, string itemId, RequestContext context)
        {
            HttpMessage message = Pipeline.CreateMessage(context, PipelineMessageClassifier200204);
            Request request = message.Request;
            request.Method = RequestMethod.Get;
            RawRequestUriBuilder uri = new RawRequestUriBuilder();
            uri.Reset(_endpoint);
            uri.AppendPath("/data/collections/", false);
            uri.AppendPath(collectionId, true);
            uri.AppendPath("/items/", false);
            uri.AppendPath(itemId, true);
            uri.AppendPath("/assets", false);
            uri.AppendQuery("api-version", _apiVersion, true);
            request.Uri = uri;
            request.Headers.SetValue("Accept", "application/json");
            return message;
        }

        internal HttpMessage CreateGetAssetStatisticsRequest(string collectionId, string itemId, IEnumerable<string> assets, string expression, IEnumerable<string> assetBidx, bool? assetAsBand, float? nodata, bool? unscale, string resampling, int? maxSize, bool? categorical, IEnumerable<string> c, IEnumerable<int> p, string histogramBins, string histogramRange, RequestContext context)
        {
            HttpMessage message = Pipeline.CreateMessage(context, PipelineMessageClassifier200);
            Request request = message.Request;
            request.Method = RequestMethod.Get;
            RawRequestUriBuilder uri = new RawRequestUriBuilder();
            uri.Reset(_endpoint);
            uri.AppendPath("/data/collections/", false);
            uri.AppendPath(collectionId, true);
            uri.AppendPath("/items/", false);
            uri.AppendPath(itemId, true);
            uri.AppendPath("/asset_statistics", false);
            uri.AppendQuery("api-version", _apiVersion, true);
            if (assets != null && !(assets is ChangeTrackingList<string> changeTrackingList && changeTrackingList.IsUndefined))
            {
                foreach (var @param in assets)
                {
                    uri.AppendQuery("assets", @param, true);
                }
            }
            if (expression != null)
            {
                uri.AppendQuery("expression", expression, true);
            }
            if (assetBidx != null && !(assetBidx is ChangeTrackingList<string> changeTrackingList0 && changeTrackingList0.IsUndefined))
            {
                uri.AppendQueryDelimited("asset_bidx", assetBidx, ",", null, true);
            }
            if (assetAsBand != null)
            {
                uri.AppendQuery("asset_as_band", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(assetAsBand, null), true);
            }
            if (nodata != null)
            {
                uri.AppendQuery("nodata", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(nodata, null), true);
            }
            if (unscale != null)
            {
                uri.AppendQuery("unscale", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(unscale, null), true);
            }
            if (resampling != null)
            {
                uri.AppendQuery("resampling", resampling, true);
            }
            if (maxSize != null)
            {
                uri.AppendQuery("max_size", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(maxSize, null), true);
            }
            if (categorical != null)
            {
                uri.AppendQuery("categorical", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(categorical, null), true);
            }
            if (c != null && !(c is ChangeTrackingList<string> changeTrackingList1 && changeTrackingList1.IsUndefined))
            {
                foreach (var @param in c)
                {
                    uri.AppendQuery("c", @param, true);
                }
            }
            if (p != null && !(p is ChangeTrackingList<int> changeTrackingList2 && changeTrackingList2.IsUndefined))
            {
                foreach (var @param in p)
                {
                    uri.AppendQuery("p", @param, true);
                }
            }
            if (histogramBins != null)
            {
                uri.AppendQuery("histogram_bins", histogramBins, true);
            }
            if (histogramRange != null)
            {
                uri.AppendQuery("histogram_range", histogramRange, true);
            }
            request.Uri = uri;
            request.Headers.SetValue("Accept", "application/json");
            return message;
        }

        internal HttpMessage CreateGetStatisticsRequest(string collectionId, string itemId, IEnumerable<string> assets, string expression, IEnumerable<string> assetBidx, bool? assetAsBand, float? nodata, bool? unscale, string resampling, int? maxSize, bool? categorical, IEnumerable<string> c, IEnumerable<int> p, string histogramBins, string histogramRange, RequestContext context)
        {
            HttpMessage message = Pipeline.CreateMessage(context, PipelineMessageClassifier200);
            Request request = message.Request;
            request.Method = RequestMethod.Get;
            RawRequestUriBuilder uri = new RawRequestUriBuilder();
            uri.Reset(_endpoint);
            uri.AppendPath("/data/collections/", false);
            uri.AppendPath(collectionId, true);
            uri.AppendPath("/items/", false);
            uri.AppendPath(itemId, true);
            uri.AppendPath("/statistics", false);
            uri.AppendQuery("api-version", _apiVersion, true);
            if (assets != null && !(assets is ChangeTrackingList<string> changeTrackingList && changeTrackingList.IsUndefined))
            {
                foreach (var @param in assets)
                {
                    uri.AppendQuery("assets", @param, true);
                }
            }
            if (expression != null)
            {
                uri.AppendQuery("expression", expression, true);
            }
            if (assetBidx != null && !(assetBidx is ChangeTrackingList<string> changeTrackingList0 && changeTrackingList0.IsUndefined))
            {
                uri.AppendQueryDelimited("asset_bidx", assetBidx, ",", null, true);
            }
            if (assetAsBand != null)
            {
                uri.AppendQuery("asset_as_band", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(assetAsBand, null), true);
            }
            if (nodata != null)
            {
                uri.AppendQuery("nodata", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(nodata, null), true);
            }
            if (unscale != null)
            {
                uri.AppendQuery("unscale", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(unscale, null), true);
            }
            if (resampling != null)
            {
                uri.AppendQuery("resampling", resampling, true);
            }
            if (maxSize != null)
            {
                uri.AppendQuery("max_size", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(maxSize, null), true);
            }
            if (categorical != null)
            {
                uri.AppendQuery("categorical", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(categorical, null), true);
            }
            if (c != null && !(c is ChangeTrackingList<string> changeTrackingList1 && changeTrackingList1.IsUndefined))
            {
                foreach (var @param in c)
                {
                    uri.AppendQuery("c", @param, true);
                }
            }
            if (p != null && !(p is ChangeTrackingList<int> changeTrackingList2 && changeTrackingList2.IsUndefined))
            {
                foreach (var @param in p)
                {
                    uri.AppendQuery("p", @param, true);
                }
            }
            if (histogramBins != null)
            {
                uri.AppendQuery("histogram_bins", histogramBins, true);
            }
            if (histogramRange != null)
            {
                uri.AppendQuery("histogram_range", histogramRange, true);
            }
            request.Uri = uri;
            request.Headers.SetValue("Accept", "application/json");
            return message;
        }

        internal HttpMessage CreateGetGeoJsonStatisticsRequest(string collectionId, string itemId, RequestContent content, IEnumerable<string> assets, string expression, IEnumerable<string> assetBidx, bool? assetAsBand, float? nodata, bool? unscale, string coordCrs, string resampling, int? maxSize, bool? categorical, IEnumerable<string> c, IEnumerable<int> p, string histogramBins, string histogramRange, RequestContext context)
        {
            HttpMessage message = Pipeline.CreateMessage(context, PipelineMessageClassifier200);
            Request request = message.Request;
            request.Method = RequestMethod.Post;
            RawRequestUriBuilder uri = new RawRequestUriBuilder();
            uri.Reset(_endpoint);
            uri.AppendPath("/data/collections/", false);
            uri.AppendPath(collectionId, true);
            uri.AppendPath("/items/", false);
            uri.AppendPath(itemId, true);
            uri.AppendPath("/statistics", false);
            uri.AppendQuery("api-version", _apiVersion, true);
            if (assets != null && !(assets is ChangeTrackingList<string> changeTrackingList && changeTrackingList.IsUndefined))
            {
                foreach (var @param in assets)
                {
                    uri.AppendQuery("assets", @param, true);
                }
            }
            if (expression != null)
            {
                uri.AppendQuery("expression", expression, true);
            }
            if (assetBidx != null && !(assetBidx is ChangeTrackingList<string> changeTrackingList0 && changeTrackingList0.IsUndefined))
            {
                uri.AppendQueryDelimited("asset_bidx", assetBidx, ",", null, true);
            }
            if (assetAsBand != null)
            {
                uri.AppendQuery("asset_as_band", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(assetAsBand, null), true);
            }
            if (nodata != null)
            {
                uri.AppendQuery("nodata", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(nodata, null), true);
            }
            if (unscale != null)
            {
                uri.AppendQuery("unscale", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(unscale, null), true);
            }
            if (coordCrs != null)
            {
                uri.AppendQuery("coord-crs", coordCrs, true);
            }
            if (resampling != null)
            {
                uri.AppendQuery("resampling", resampling, true);
            }
            if (maxSize != null)
            {
                uri.AppendQuery("max_size", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(maxSize, null), true);
            }
            if (categorical != null)
            {
                uri.AppendQuery("categorical", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(categorical, null), true);
            }
            if (c != null && !(c is ChangeTrackingList<string> changeTrackingList1 && changeTrackingList1.IsUndefined))
            {
                foreach (var @param in c)
                {
                    uri.AppendQuery("c", @param, true);
                }
            }
            if (p != null && !(p is ChangeTrackingList<int> changeTrackingList2 && changeTrackingList2.IsUndefined))
            {
                foreach (var @param in p)
                {
                    uri.AppendQuery("p", @param, true);
                }
            }
            if (histogramBins != null)
            {
                uri.AppendQuery("histogram_bins", histogramBins, true);
            }
            if (histogramRange != null)
            {
                uri.AppendQuery("histogram_range", histogramRange, true);
            }
            request.Uri = uri;
            request.Headers.SetValue("Content-Type", "application/json");
            request.Headers.SetValue("Accept", "application/json");
            request.Content = content;
            return message;
        }

        internal HttpMessage CreateGetTileRequest(string collectionId, string itemId, float z, float x, float y, float scale, string format, IEnumerable<string> assets, string expression, IEnumerable<string> assetBidx, bool? assetAsBand, float? nodata, bool? unscale, string algorithm, string algorithmParams, string tileMatrixSetId, string buffer, string colorFormula, string resampling, IEnumerable<string> rescale, string colormapName, string colormap, bool? returnMask, string subdatasetName, IEnumerable<string> subdatasetBands, RequestContext context)
        {
            HttpMessage message = Pipeline.CreateMessage(context, PipelineMessageClassifier200204);
            Request request = message.Request;
            request.Method = RequestMethod.Get;
            RawRequestUriBuilder uri = new RawRequestUriBuilder();
            uri.Reset(_endpoint);
            uri.AppendPath("/data/collections/", false);
            uri.AppendPath(collectionId, true);
            uri.AppendPath("/items/", false);
            uri.AppendPath(itemId, true);
            uri.AppendPath("/tiles/", false);
            uri.AppendPath(z.ToString(), true);
            uri.AppendPath("/", false);
            uri.AppendPath(x.ToString(), true);
            uri.AppendPath("/", false);
            uri.AppendPath(y.ToString(), true);
            uri.AppendPath("@", false);
            uri.AppendPath(scale.ToString(), true);
            uri.AppendPath("x.", false);
            uri.AppendPath(format, true);
            uri.AppendQuery("api-version", _apiVersion, true);
            if (assets != null && !(assets is ChangeTrackingList<string> changeTrackingList && changeTrackingList.IsUndefined))
            {
                foreach (var @param in assets)
                {
                    uri.AppendQuery("assets", @param, true);
                }
            }
            if (expression != null)
            {
                uri.AppendQuery("expression", expression, true);
            }
            if (assetBidx != null && !(assetBidx is ChangeTrackingList<string> changeTrackingList0 && changeTrackingList0.IsUndefined))
            {
                uri.AppendQueryDelimited("asset_bidx", assetBidx, ",", null, true);
            }
            if (assetAsBand != null)
            {
                uri.AppendQuery("asset_as_band", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(assetAsBand, null), true);
            }
            if (nodata != null)
            {
                uri.AppendQuery("nodata", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(nodata, null), true);
            }
            if (unscale != null)
            {
                uri.AppendQuery("unscale", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(unscale, null), true);
            }
            if (algorithm != null)
            {
                uri.AppendQuery("algorithm", algorithm, true);
            }
            if (algorithmParams != null)
            {
                uri.AppendQuery("algorithm_params", algorithmParams, true);
            }
            if (tileMatrixSetId != null)
            {
                uri.AppendQuery("tileMatrixSetId", tileMatrixSetId, true);
            }
            if (buffer != null)
            {
                uri.AppendQuery("buffer", buffer, true);
            }
            if (colorFormula != null)
            {
                uri.AppendQuery("color_formula", colorFormula, true);
            }
            if (resampling != null)
            {
                uri.AppendQuery("resampling", resampling, true);
            }
            if (rescale != null && !(rescale is ChangeTrackingList<string> changeTrackingList1 && changeTrackingList1.IsUndefined))
            {
                foreach (var @param in rescale)
                {
                    uri.AppendQuery("rescale", @param, true);
                }
            }
            if (colormapName != null)
            {
                uri.AppendQuery("colormap_name", colormapName, true);
            }
            if (colormap != null)
            {
                uri.AppendQuery("colormap", colormap, true);
            }
            if (returnMask != null)
            {
                uri.AppendQuery("return_mask", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(returnMask, null), true);
            }
            if (subdatasetName != null)
            {
                uri.AppendQuery("subdataset_name", subdatasetName, true);
            }
            if (subdatasetBands != null && !(subdatasetBands is ChangeTrackingList<string> changeTrackingList2 && changeTrackingList2.IsUndefined))
            {
                uri.AppendQueryDelimited("subdataset_bands", subdatasetBands, ",", null, true);
            }
            request.Uri = uri;
            request.Headers.SetValue("Accept", "application/x-binary, image/jp2, image/jpeg, image/jpg, image/png, image/tiff; application=geotiff, image/webp");
            return message;
        }

        internal HttpMessage CreateGetTileWithMatrixSetRequest(string collectionId, string itemId, string tileMatrixSetId, float z, float x, float y, float scale, string format, IEnumerable<string> assets, string expression, IEnumerable<string> assetBidx, bool? assetAsBand, float? nodata, bool? unscale, string algorithm, string algorithmParams, string buffer, string colorFormula, string resampling, IEnumerable<string> rescale, string colormapName, string colormap, bool? returnMask, string subdatasetName, IEnumerable<string> subdatasetBands, RequestContext context)
        {
            HttpMessage message = Pipeline.CreateMessage(context, PipelineMessageClassifier200);
            Request request = message.Request;
            request.Method = RequestMethod.Get;
            RawRequestUriBuilder uri = new RawRequestUriBuilder();
            uri.Reset(_endpoint);
            uri.AppendPath("/data/collections/", false);
            uri.AppendPath(collectionId, true);
            uri.AppendPath("/items/", false);
            uri.AppendPath(itemId, true);
            uri.AppendPath("/tiles/", false);
            uri.AppendPath(tileMatrixSetId, true);
            uri.AppendPath("/", false);
            uri.AppendPath(z.ToString(), true);
            uri.AppendPath("/", false);
            uri.AppendPath(x.ToString(), true);
            uri.AppendPath("/", false);
            uri.AppendPath(y.ToString(), true);
            uri.AppendPath("@", false);
            uri.AppendPath(scale.ToString(), true);
            uri.AppendPath("x.", false);
            uri.AppendPath(format, true);
            uri.AppendQuery("api-version", _apiVersion, true);
            if (assets != null && !(assets is ChangeTrackingList<string> changeTrackingList && changeTrackingList.IsUndefined))
            {
                foreach (var @param in assets)
                {
                    uri.AppendQuery("assets", @param, true);
                }
            }
            if (expression != null)
            {
                uri.AppendQuery("expression", expression, true);
            }
            if (assetBidx != null && !(assetBidx is ChangeTrackingList<string> changeTrackingList0 && changeTrackingList0.IsUndefined))
            {
                uri.AppendQueryDelimited("asset_bidx", assetBidx, ",", null, true);
            }
            if (assetAsBand != null)
            {
                uri.AppendQuery("asset_as_band", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(assetAsBand, null), true);
            }
            if (nodata != null)
            {
                uri.AppendQuery("nodata", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(nodata, null), true);
            }
            if (unscale != null)
            {
                uri.AppendQuery("unscale", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(unscale, null), true);
            }
            if (algorithm != null)
            {
                uri.AppendQuery("algorithm", algorithm, true);
            }
            if (algorithmParams != null)
            {
                uri.AppendQuery("algorithm_params", algorithmParams, true);
            }
            if (buffer != null)
            {
                uri.AppendQuery("buffer", buffer, true);
            }
            if (colorFormula != null)
            {
                uri.AppendQuery("color_formula", colorFormula, true);
            }
            if (resampling != null)
            {
                uri.AppendQuery("resampling", resampling, true);
            }
            if (rescale != null && !(rescale is ChangeTrackingList<string> changeTrackingList1 && changeTrackingList1.IsUndefined))
            {
                foreach (var @param in rescale)
                {
                    uri.AppendQuery("rescale", @param, true);
                }
            }
            if (colormapName != null)
            {
                uri.AppendQuery("colormap_name", colormapName, true);
            }
            if (colormap != null)
            {
                uri.AppendQuery("colormap", colormap, true);
            }
            if (returnMask != null)
            {
                uri.AppendQuery("return_mask", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(returnMask, null), true);
            }
            if (subdatasetName != null)
            {
                uri.AppendQuery("subdataset_name", subdatasetName, true);
            }
            if (subdatasetBands != null && !(subdatasetBands is ChangeTrackingList<string> changeTrackingList2 && changeTrackingList2.IsUndefined))
            {
                uri.AppendQueryDelimited("subdataset_bands", subdatasetBands, ",", null, true);
            }
            request.Uri = uri;
            request.Headers.SetValue("Accept", "application/x-binary, image/jp2, image/jpeg, image/jpg, image/png, image/tiff; application=geotiff, image/webp");
            return message;
        }

        internal HttpMessage CreateGetTileJsonRequest(string collectionId, string itemId, IEnumerable<string> assets, string expression, IEnumerable<string> assetBidx, bool? assetAsBand, float? nodata, bool? unscale, string algorithm, string algorithmParams, string tileMatrixSetId, string tileFormat, int? tileScale, int? minzoom, int? maxzoom, string buffer, string colorFormula, string resampling, IEnumerable<string> rescale, string colormapName, string colormap, bool? returnMask, RequestContext context)
        {
            HttpMessage message = Pipeline.CreateMessage(context, PipelineMessageClassifier200);
            Request request = message.Request;
            request.Method = RequestMethod.Get;
            RawRequestUriBuilder uri = new RawRequestUriBuilder();
            uri.Reset(_endpoint);
            uri.AppendPath("/data/collections/", false);
            uri.AppendPath(collectionId, true);
            uri.AppendPath("/items/", false);
            uri.AppendPath(itemId, true);
            uri.AppendPath("/tilejson.json", false);
            uri.AppendQuery("api-version", _apiVersion, true);
            if (assets != null && !(assets is ChangeTrackingList<string> changeTrackingList && changeTrackingList.IsUndefined))
            {
                foreach (var @param in assets)
                {
                    uri.AppendQuery("assets", @param, true);
                }
            }
            if (expression != null)
            {
                uri.AppendQuery("expression", expression, true);
            }
            if (assetBidx != null && !(assetBidx is ChangeTrackingList<string> changeTrackingList0 && changeTrackingList0.IsUndefined))
            {
                uri.AppendQueryDelimited("asset_bidx", assetBidx, ",", null, true);
            }
            if (assetAsBand != null)
            {
                uri.AppendQuery("asset_as_band", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(assetAsBand, null), true);
            }
            if (nodata != null)
            {
                uri.AppendQuery("nodata", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(nodata, null), true);
            }
            if (unscale != null)
            {
                uri.AppendQuery("unscale", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(unscale, null), true);
            }
            if (algorithm != null)
            {
                uri.AppendQuery("algorithm", algorithm, true);
            }
            if (algorithmParams != null)
            {
                uri.AppendQuery("algorithm_params", algorithmParams, true);
            }
            if (tileMatrixSetId != null)
            {
                uri.AppendQuery("tileMatrixSetId", tileMatrixSetId, true);
            }
            if (tileFormat != null)
            {
                uri.AppendQuery("tile_format", tileFormat, true);
            }
            if (tileScale != null)
            {
                uri.AppendQuery("tile_scale", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(tileScale, null), true);
            }
            if (minzoom != null)
            {
                uri.AppendQuery("minzoom", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(minzoom, null), true);
            }
            if (maxzoom != null)
            {
                uri.AppendQuery("maxzoom", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(maxzoom, null), true);
            }
            if (buffer != null)
            {
                uri.AppendQuery("buffer", buffer, true);
            }
            if (colorFormula != null)
            {
                uri.AppendQuery("color_formula", colorFormula, true);
            }
            if (resampling != null)
            {
                uri.AppendQuery("resampling", resampling, true);
            }
            if (rescale != null && !(rescale is ChangeTrackingList<string> changeTrackingList1 && changeTrackingList1.IsUndefined))
            {
                foreach (var @param in rescale)
                {
                    uri.AppendQuery("rescale", @param, true);
                }
            }
            if (colormapName != null)
            {
                uri.AppendQuery("colormap_name", colormapName, true);
            }
            if (colormap != null)
            {
                uri.AppendQuery("colormap", colormap, true);
            }
            if (returnMask != null)
            {
                uri.AppendQuery("return_mask", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(returnMask, null), true);
            }
            request.Uri = uri;
            request.Headers.SetValue("Accept", "application/json");
            return message;
        }

        internal HttpMessage CreateGetTileJsonWithMatrixSetRequest(string collectionId, string itemId, string tileMatrixSetId, IEnumerable<string> assets, string expression, IEnumerable<string> assetBidx, bool? assetAsBand, float? nodata, bool? unscale, string algorithm, string algorithmParams, string tileFormat, int? tileScale, int? minzoom, int? maxzoom, string buffer, string colorFormula, string resampling, IEnumerable<string> rescale, string colormapName, string colormap, bool? returnMask, RequestContext context)
        {
            HttpMessage message = Pipeline.CreateMessage(context, PipelineMessageClassifier200);
            Request request = message.Request;
            request.Method = RequestMethod.Get;
            RawRequestUriBuilder uri = new RawRequestUriBuilder();
            uri.Reset(_endpoint);
            uri.AppendPath("/data/collections/", false);
            uri.AppendPath(collectionId, true);
            uri.AppendPath("/items/", false);
            uri.AppendPath(itemId, true);
            uri.AppendPath("/", false);
            uri.AppendPath(tileMatrixSetId, true);
            uri.AppendPath("/tilejson.json", false);
            uri.AppendQuery("api-version", _apiVersion, true);
            if (assets != null && !(assets is ChangeTrackingList<string> changeTrackingList && changeTrackingList.IsUndefined))
            {
                foreach (var @param in assets)
                {
                    uri.AppendQuery("assets", @param, true);
                }
            }
            if (expression != null)
            {
                uri.AppendQuery("expression", expression, true);
            }
            if (assetBidx != null && !(assetBidx is ChangeTrackingList<string> changeTrackingList0 && changeTrackingList0.IsUndefined))
            {
                uri.AppendQueryDelimited("asset_bidx", assetBidx, ",", null, true);
            }
            if (assetAsBand != null)
            {
                uri.AppendQuery("asset_as_band", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(assetAsBand, null), true);
            }
            if (nodata != null)
            {
                uri.AppendQuery("nodata", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(nodata, null), true);
            }
            if (unscale != null)
            {
                uri.AppendQuery("unscale", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(unscale, null), true);
            }
            if (algorithm != null)
            {
                uri.AppendQuery("algorithm", algorithm, true);
            }
            if (algorithmParams != null)
            {
                uri.AppendQuery("algorithm_params", algorithmParams, true);
            }
            if (tileFormat != null)
            {
                uri.AppendQuery("tile_format", tileFormat, true);
            }
            if (tileScale != null)
            {
                uri.AppendQuery("tile_scale", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(tileScale, null), true);
            }
            if (minzoom != null)
            {
                uri.AppendQuery("minzoom", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(minzoom, null), true);
            }
            if (maxzoom != null)
            {
                uri.AppendQuery("maxzoom", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(maxzoom, null), true);
            }
            if (buffer != null)
            {
                uri.AppendQuery("buffer", buffer, true);
            }
            if (colorFormula != null)
            {
                uri.AppendQuery("color_formula", colorFormula, true);
            }
            if (resampling != null)
            {
                uri.AppendQuery("resampling", resampling, true);
            }
            if (rescale != null && !(rescale is ChangeTrackingList<string> changeTrackingList1 && changeTrackingList1.IsUndefined))
            {
                foreach (var @param in rescale)
                {
                    uri.AppendQuery("rescale", @param, true);
                }
            }
            if (colormapName != null)
            {
                uri.AppendQuery("colormap_name", colormapName, true);
            }
            if (colormap != null)
            {
                uri.AppendQuery("colormap", colormap, true);
            }
            if (returnMask != null)
            {
                uri.AppendQuery("return_mask", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(returnMask, null), true);
            }
            request.Uri = uri;
            request.Headers.SetValue("Accept", "application/json");
            return message;
        }

        internal HttpMessage CreateGetWmtsCapabilitiesRequest(string collectionId, string itemId, IEnumerable<string> assets, string expression, IEnumerable<string> assetBidx, bool? assetAsBand, float? nodata, bool? unscale, string algorithm, string algorithmParams, string tileMatrixSetId, string tileFormat, int? tileScale, int? minzoom, int? maxzoom, string buffer, string colorFormula, string resampling, IEnumerable<string> rescale, string colormapName, string colormap, bool? returnMask, RequestContext context)
        {
            HttpMessage message = Pipeline.CreateMessage(context, PipelineMessageClassifier200204);
            Request request = message.Request;
            request.Method = RequestMethod.Get;
            RawRequestUriBuilder uri = new RawRequestUriBuilder();
            uri.Reset(_endpoint);
            uri.AppendPath("/data/collections/", false);
            uri.AppendPath(collectionId, true);
            uri.AppendPath("/items/", false);
            uri.AppendPath(itemId, true);
            uri.AppendPath("/WMTSCapabilities.xml", false);
            uri.AppendQuery("api-version", _apiVersion, true);
            if (assets != null && !(assets is ChangeTrackingList<string> changeTrackingList && changeTrackingList.IsUndefined))
            {
                foreach (var @param in assets)
                {
                    uri.AppendQuery("assets", @param, true);
                }
            }
            if (expression != null)
            {
                uri.AppendQuery("expression", expression, true);
            }
            if (assetBidx != null && !(assetBidx is ChangeTrackingList<string> changeTrackingList0 && changeTrackingList0.IsUndefined))
            {
                uri.AppendQueryDelimited("asset_bidx", assetBidx, ",", null, true);
            }
            if (assetAsBand != null)
            {
                uri.AppendQuery("asset_as_band", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(assetAsBand, null), true);
            }
            if (nodata != null)
            {
                uri.AppendQuery("nodata", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(nodata, null), true);
            }
            if (unscale != null)
            {
                uri.AppendQuery("unscale", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(unscale, null), true);
            }
            if (algorithm != null)
            {
                uri.AppendQuery("algorithm", algorithm, true);
            }
            if (algorithmParams != null)
            {
                uri.AppendQuery("algorithm_params", algorithmParams, true);
            }
            if (tileMatrixSetId != null)
            {
                uri.AppendQuery("tileMatrixSetId", tileMatrixSetId, true);
            }
            if (tileFormat != null)
            {
                uri.AppendQuery("tile_format", tileFormat, true);
            }
            if (tileScale != null)
            {
                uri.AppendQuery("tile_scale", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(tileScale, null), true);
            }
            if (minzoom != null)
            {
                uri.AppendQuery("minzoom", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(minzoom, null), true);
            }
            if (maxzoom != null)
            {
                uri.AppendQuery("maxzoom", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(maxzoom, null), true);
            }
            if (buffer != null)
            {
                uri.AppendQuery("buffer", buffer, true);
            }
            if (colorFormula != null)
            {
                uri.AppendQuery("color_formula", colorFormula, true);
            }
            if (resampling != null)
            {
                uri.AppendQuery("resampling", resampling, true);
            }
            if (rescale != null && !(rescale is ChangeTrackingList<string> changeTrackingList1 && changeTrackingList1.IsUndefined))
            {
                foreach (var @param in rescale)
                {
                    uri.AppendQuery("rescale", @param, true);
                }
            }
            if (colormapName != null)
            {
                uri.AppendQuery("colormap_name", colormapName, true);
            }
            if (colormap != null)
            {
                uri.AppendQuery("colormap", colormap, true);
            }
            if (returnMask != null)
            {
                uri.AppendQuery("return_mask", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(returnMask, null), true);
            }
            request.Uri = uri;
            request.Headers.SetValue("Accept", "application/xml");
            return message;
        }

        internal HttpMessage CreateGetWmtsCapabilitiesWithMatrixSetRequest(string collectionId, string itemId, string tileMatrixSetId, IEnumerable<string> assets, string expression, IEnumerable<string> assetBidx, bool? assetAsBand, float? nodata, bool? unscale, string algorithm, string algorithmParams, string tileFormat, int? tileScale, int? minzoom, int? maxzoom, string buffer, string colorFormula, string resampling, IEnumerable<string> rescale, string colormapName, string colormap, bool? returnMask, RequestContext context)
        {
            HttpMessage message = Pipeline.CreateMessage(context, PipelineMessageClassifier200);
            Request request = message.Request;
            request.Method = RequestMethod.Get;
            RawRequestUriBuilder uri = new RawRequestUriBuilder();
            uri.Reset(_endpoint);
            uri.AppendPath("/data/collections/", false);
            uri.AppendPath(collectionId, true);
            uri.AppendPath("/items/", false);
            uri.AppendPath(itemId, true);
            uri.AppendPath("/", false);
            uri.AppendPath(tileMatrixSetId, true);
            uri.AppendPath("/WMTSCapabilities.xml", false);
            uri.AppendQuery("api-version", _apiVersion, true);
            if (assets != null && !(assets is ChangeTrackingList<string> changeTrackingList && changeTrackingList.IsUndefined))
            {
                foreach (var @param in assets)
                {
                    uri.AppendQuery("assets", @param, true);
                }
            }
            if (expression != null)
            {
                uri.AppendQuery("expression", expression, true);
            }
            if (assetBidx != null && !(assetBidx is ChangeTrackingList<string> changeTrackingList0 && changeTrackingList0.IsUndefined))
            {
                uri.AppendQueryDelimited("asset_bidx", assetBidx, ",", null, true);
            }
            if (assetAsBand != null)
            {
                uri.AppendQuery("asset_as_band", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(assetAsBand, null), true);
            }
            if (nodata != null)
            {
                uri.AppendQuery("nodata", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(nodata, null), true);
            }
            if (unscale != null)
            {
                uri.AppendQuery("unscale", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(unscale, null), true);
            }
            if (algorithm != null)
            {
                uri.AppendQuery("algorithm", algorithm, true);
            }
            if (algorithmParams != null)
            {
                uri.AppendQuery("algorithm_params", algorithmParams, true);
            }
            if (tileFormat != null)
            {
                uri.AppendQuery("tile_format", tileFormat, true);
            }
            if (tileScale != null)
            {
                uri.AppendQuery("tile_scale", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(tileScale, null), true);
            }
            if (minzoom != null)
            {
                uri.AppendQuery("minzoom", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(minzoom, null), true);
            }
            if (maxzoom != null)
            {
                uri.AppendQuery("maxzoom", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(maxzoom, null), true);
            }
            if (buffer != null)
            {
                uri.AppendQuery("buffer", buffer, true);
            }
            if (colorFormula != null)
            {
                uri.AppendQuery("color_formula", colorFormula, true);
            }
            if (resampling != null)
            {
                uri.AppendQuery("resampling", resampling, true);
            }
            if (rescale != null && !(rescale is ChangeTrackingList<string> changeTrackingList1 && changeTrackingList1.IsUndefined))
            {
                foreach (var @param in rescale)
                {
                    uri.AppendQuery("rescale", @param, true);
                }
            }
            if (colormapName != null)
            {
                uri.AppendQuery("colormap_name", colormapName, true);
            }
            if (colormap != null)
            {
                uri.AppendQuery("colormap", colormap, true);
            }
            if (returnMask != null)
            {
                uri.AppendQuery("return_mask", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(returnMask, null), true);
            }
            request.Uri = uri;
            request.Headers.SetValue("Accept", "application/xml");
            return message;
        }

        internal HttpMessage CreateGetPointRequest(string collectionId, string itemId, double lon, float lat, IEnumerable<string> assets, string expression, IEnumerable<string> assetBidx, bool? assetAsBand, float? nodata, bool? unscale, string coordCrs, string resampling, RequestContext context)
        {
            HttpMessage message = Pipeline.CreateMessage(context, PipelineMessageClassifier200);
            Request request = message.Request;
            request.Method = RequestMethod.Get;
            RawRequestUriBuilder uri = new RawRequestUriBuilder();
            uri.Reset(_endpoint);
            uri.AppendPath("/data/collections/", false);
            uri.AppendPath(collectionId, true);
            uri.AppendPath("/items/", false);
            uri.AppendPath(itemId, true);
            uri.AppendPath("/point/", false);
            uri.AppendPath(lon.ToString(), true);
            uri.AppendPath(",", false);
            uri.AppendPath(lat.ToString(), true);
            uri.AppendQuery("api-version", _apiVersion, true);
            if (assets != null && !(assets is ChangeTrackingList<string> changeTrackingList && changeTrackingList.IsUndefined))
            {
                foreach (var @param in assets)
                {
                    uri.AppendQuery("assets", @param, true);
                }
            }
            if (expression != null)
            {
                uri.AppendQuery("expression", expression, true);
            }
            if (assetBidx != null && !(assetBidx is ChangeTrackingList<string> changeTrackingList0 && changeTrackingList0.IsUndefined))
            {
                uri.AppendQueryDelimited("asset_bidx", assetBidx, ",", null, true);
            }
            if (assetAsBand != null)
            {
                uri.AppendQuery("asset_as_band", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(assetAsBand, null), true);
            }
            if (nodata != null)
            {
                uri.AppendQuery("nodata", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(nodata, null), true);
            }
            if (unscale != null)
            {
                uri.AppendQuery("unscale", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(unscale, null), true);
            }
            if (coordCrs != null)
            {
                uri.AppendQuery("coord-crs", coordCrs, true);
            }
            if (resampling != null)
            {
                uri.AppendQuery("resampling", resampling, true);
            }
            request.Uri = uri;
            request.Headers.SetValue("Accept", "application/json");
            return message;
        }

        internal HttpMessage CreateGetPreviewRequest(string collectionId, string itemId, IEnumerable<string> assets, string expression, IEnumerable<string> assetBidx, bool? assetAsBand, float? nodata, bool? unscale, string algorithm, string algorithmParams, string format, string colorFormula, string dstCrs, string resampling, int? maxSize, int? height, int? width, IEnumerable<string> rescale, string colormapName, string colormap, bool? returnMask, RequestContext context)
        {
            HttpMessage message = Pipeline.CreateMessage(context, PipelineMessageClassifier200);
            Request request = message.Request;
            request.Method = RequestMethod.Get;
            RawRequestUriBuilder uri = new RawRequestUriBuilder();
            uri.Reset(_endpoint);
            uri.AppendPath("/data/collections/", false);
            uri.AppendPath(collectionId, true);
            uri.AppendPath("/items/", false);
            uri.AppendPath(itemId, true);
            uri.AppendPath("/preview", false);
            uri.AppendQuery("api-version", _apiVersion, true);
            if (assets != null && !(assets is ChangeTrackingList<string> changeTrackingList && changeTrackingList.IsUndefined))
            {
                foreach (var @param in assets)
                {
                    uri.AppendQuery("assets", @param, true);
                }
            }
            if (expression != null)
            {
                uri.AppendQuery("expression", expression, true);
            }
            if (assetBidx != null && !(assetBidx is ChangeTrackingList<string> changeTrackingList0 && changeTrackingList0.IsUndefined))
            {
                uri.AppendQueryDelimited("asset_bidx", assetBidx, ",", null, true);
            }
            if (assetAsBand != null)
            {
                uri.AppendQuery("asset_as_band", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(assetAsBand, null), true);
            }
            if (nodata != null)
            {
                uri.AppendQuery("nodata", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(nodata, null), true);
            }
            if (unscale != null)
            {
                uri.AppendQuery("unscale", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(unscale, null), true);
            }
            if (algorithm != null)
            {
                uri.AppendQuery("algorithm", algorithm, true);
            }
            if (algorithmParams != null)
            {
                uri.AppendQuery("algorithm_params", algorithmParams, true);
            }
            if (format != null)
            {
                uri.AppendQuery("format", format, true);
            }
            if (colorFormula != null)
            {
                uri.AppendQuery("color_formula", colorFormula, true);
            }
            if (dstCrs != null)
            {
                uri.AppendQuery("dst-crs", dstCrs, true);
            }
            if (resampling != null)
            {
                uri.AppendQuery("resampling", resampling, true);
            }
            if (maxSize != null)
            {
                uri.AppendQuery("max_size", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(maxSize, null), true);
            }
            if (height != null)
            {
                uri.AppendQuery("height", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(height, null), true);
            }
            if (width != null)
            {
                uri.AppendQuery("width", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(width, null), true);
            }
            if (rescale != null && !(rescale is ChangeTrackingList<string> changeTrackingList1 && changeTrackingList1.IsUndefined))
            {
                foreach (var @param in rescale)
                {
                    uri.AppendQuery("rescale", @param, true);
                }
            }
            if (colormapName != null)
            {
                uri.AppendQuery("colormap_name", colormapName, true);
            }
            if (colormap != null)
            {
                uri.AppendQuery("colormap", colormap, true);
            }
            if (returnMask != null)
            {
                uri.AppendQuery("return_mask", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(returnMask, null), true);
            }
            request.Uri = uri;
            request.Headers.SetValue("Accept", "application/x-binary, image/jp2, image/jpeg, image/jpg, image/png, image/tiff; application=geotiff, image/webp");
            return message;
        }

        internal HttpMessage CreateGetPreviewWithFormatRequest(string collectionId, string itemId, string format, IEnumerable<string> assets, string expression, IEnumerable<string> assetBidx, bool? assetAsBand, float? nodata, bool? unscale, string algorithm, string algorithmParams, string colorFormula, string dstCrs, string resampling, int? maxSize, int? height, int? width, IEnumerable<string> rescale, string colormapName, string colormap, bool? returnMask, RequestContext context)
        {
            HttpMessage message = Pipeline.CreateMessage(context, PipelineMessageClassifier200);
            Request request = message.Request;
            request.Method = RequestMethod.Get;
            RawRequestUriBuilder uri = new RawRequestUriBuilder();
            uri.Reset(_endpoint);
            uri.AppendPath("/data/collections/", false);
            uri.AppendPath(collectionId, true);
            uri.AppendPath("/items/", false);
            uri.AppendPath(itemId, true);
            uri.AppendPath("/preview.", false);
            uri.AppendPath(format, true);
            uri.AppendQuery("api-version", _apiVersion, true);
            if (assets != null && !(assets is ChangeTrackingList<string> changeTrackingList && changeTrackingList.IsUndefined))
            {
                foreach (var @param in assets)
                {
                    uri.AppendQuery("assets", @param, true);
                }
            }
            if (expression != null)
            {
                uri.AppendQuery("expression", expression, true);
            }
            if (assetBidx != null && !(assetBidx is ChangeTrackingList<string> changeTrackingList0 && changeTrackingList0.IsUndefined))
            {
                uri.AppendQueryDelimited("asset_bidx", assetBidx, ",", null, true);
            }
            if (assetAsBand != null)
            {
                uri.AppendQuery("asset_as_band", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(assetAsBand, null), true);
            }
            if (nodata != null)
            {
                uri.AppendQuery("nodata", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(nodata, null), true);
            }
            if (unscale != null)
            {
                uri.AppendQuery("unscale", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(unscale, null), true);
            }
            if (algorithm != null)
            {
                uri.AppendQuery("algorithm", algorithm, true);
            }
            if (algorithmParams != null)
            {
                uri.AppendQuery("algorithm_params", algorithmParams, true);
            }
            if (colorFormula != null)
            {
                uri.AppendQuery("color_formula", colorFormula, true);
            }
            if (dstCrs != null)
            {
                uri.AppendQuery("dst-crs", dstCrs, true);
            }
            if (resampling != null)
            {
                uri.AppendQuery("resampling", resampling, true);
            }
            if (maxSize != null)
            {
                uri.AppendQuery("max_size", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(maxSize, null), true);
            }
            if (height != null)
            {
                uri.AppendQuery("height", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(height, null), true);
            }
            if (width != null)
            {
                uri.AppendQuery("width", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(width, null), true);
            }
            if (rescale != null && !(rescale is ChangeTrackingList<string> changeTrackingList1 && changeTrackingList1.IsUndefined))
            {
                foreach (var @param in rescale)
                {
                    uri.AppendQuery("rescale", @param, true);
                }
            }
            if (colormapName != null)
            {
                uri.AppendQuery("colormap_name", colormapName, true);
            }
            if (colormap != null)
            {
                uri.AppendQuery("colormap", colormap, true);
            }
            if (returnMask != null)
            {
                uri.AppendQuery("return_mask", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(returnMask, null), true);
            }
            request.Uri = uri;
            request.Headers.SetValue("Accept", "application/x-binary, image/jp2, image/jpeg, image/jpg, image/png, image/tiff; application=geotiff, image/webp");
            return message;
        }

        internal HttpMessage CreateGetPartRequest(string collectionId, string itemId, float minx, float miny, float maxx, float maxy, string format, IEnumerable<string> assets, string expression, IEnumerable<string> assetBidx, bool? assetAsBand, float? nodata, bool? unscale, string algorithm, string algorithmParams, string colorFormula, string dstCrs, string coordCrs, string resampling, int? maxSize, int? height, int? width, IEnumerable<string> rescale, string colormapName, string colormap, bool? returnMask, RequestContext context)
        {
            HttpMessage message = Pipeline.CreateMessage(context, PipelineMessageClassifier200);
            Request request = message.Request;
            request.Method = RequestMethod.Get;
            RawRequestUriBuilder uri = new RawRequestUriBuilder();
            uri.Reset(_endpoint);
            uri.AppendPath("/data/collections/", false);
            uri.AppendPath(collectionId, true);
            uri.AppendPath("/items/", false);
            uri.AppendPath(itemId, true);
            uri.AppendPath("/crop/", false);
            uri.AppendPath(minx.ToString(), true);
            uri.AppendPath(",", false);
            uri.AppendPath(miny.ToString(), true);
            uri.AppendPath(",", false);
            uri.AppendPath(maxx.ToString(), true);
            uri.AppendPath(",", false);
            uri.AppendPath(maxy.ToString(), true);
            uri.AppendPath(".", false);
            uri.AppendPath(format, true);
            uri.AppendQuery("api-version", _apiVersion, true);
            if (assets != null && !(assets is ChangeTrackingList<string> changeTrackingList && changeTrackingList.IsUndefined))
            {
                foreach (var @param in assets)
                {
                    uri.AppendQuery("assets", @param, true);
                }
            }
            if (expression != null)
            {
                uri.AppendQuery("expression", expression, true);
            }
            if (assetBidx != null && !(assetBidx is ChangeTrackingList<string> changeTrackingList0 && changeTrackingList0.IsUndefined))
            {
                uri.AppendQueryDelimited("asset_bidx", assetBidx, ",", null, true);
            }
            if (assetAsBand != null)
            {
                uri.AppendQuery("asset_as_band", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(assetAsBand, null), true);
            }
            if (nodata != null)
            {
                uri.AppendQuery("nodata", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(nodata, null), true);
            }
            if (unscale != null)
            {
                uri.AppendQuery("unscale", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(unscale, null), true);
            }
            if (algorithm != null)
            {
                uri.AppendQuery("algorithm", algorithm, true);
            }
            if (algorithmParams != null)
            {
                uri.AppendQuery("algorithm_params", algorithmParams, true);
            }
            if (colorFormula != null)
            {
                uri.AppendQuery("color_formula", colorFormula, true);
            }
            if (dstCrs != null)
            {
                uri.AppendQuery("dst-crs", dstCrs, true);
            }
            if (coordCrs != null)
            {
                uri.AppendQuery("coord-crs", coordCrs, true);
            }
            if (resampling != null)
            {
                uri.AppendQuery("resampling", resampling, true);
            }
            if (maxSize != null)
            {
                uri.AppendQuery("max_size", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(maxSize, null), true);
            }
            if (height != null)
            {
                uri.AppendQuery("height", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(height, null), true);
            }
            if (width != null)
            {
                uri.AppendQuery("width", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(width, null), true);
            }
            if (rescale != null && !(rescale is ChangeTrackingList<string> changeTrackingList1 && changeTrackingList1.IsUndefined))
            {
                foreach (var @param in rescale)
                {
                    uri.AppendQuery("rescale", @param, true);
                }
            }
            if (colormapName != null)
            {
                uri.AppendQuery("colormap_name", colormapName, true);
            }
            if (colormap != null)
            {
                uri.AppendQuery("colormap", colormap, true);
            }
            if (returnMask != null)
            {
                uri.AppendQuery("return_mask", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(returnMask, null), true);
            }
            request.Uri = uri;
            request.Headers.SetValue("Accept", "application/x-binary, image/jp2, image/jpeg, image/jpg, image/png, image/tiff; application=geotiff, image/webp");
            return message;
        }

        internal HttpMessage CreateGetPartWithDimensionsRequest(string collectionId, string itemId, float minx, float miny, float maxx, float maxy, float width, float height, string format, IEnumerable<string> assets, string expression, IEnumerable<string> assetBidx, bool? assetAsBand, float? nodata, bool? unscale, string algorithm, string algorithmParams, string colorFormula, string dstCrs, string coordCrs, string resampling, int? maxSize, IEnumerable<string> rescale, string colormapName, string colormap, bool? returnMask, RequestContext context)
        {
            HttpMessage message = Pipeline.CreateMessage(context, PipelineMessageClassifier200);
            Request request = message.Request;
            request.Method = RequestMethod.Get;
            RawRequestUriBuilder uri = new RawRequestUriBuilder();
            uri.Reset(_endpoint);
            uri.AppendPath("/data/collections/", false);
            uri.AppendPath(collectionId, true);
            uri.AppendPath("/items/", false);
            uri.AppendPath(itemId, true);
            uri.AppendPath("/crop/", false);
            uri.AppendPath(minx.ToString(), true);
            uri.AppendPath(",", false);
            uri.AppendPath(miny.ToString(), true);
            uri.AppendPath(",", false);
            uri.AppendPath(maxx.ToString(), true);
            uri.AppendPath(",", false);
            uri.AppendPath(maxy.ToString(), true);
            uri.AppendPath("/", false);
            uri.AppendPath(width.ToString(), true);
            uri.AppendPath("x", false);
            uri.AppendPath(height.ToString(), true);
            uri.AppendPath(".", false);
            uri.AppendPath(format, true);
            uri.AppendQuery("api-version", _apiVersion, true);
            if (assets != null && !(assets is ChangeTrackingList<string> changeTrackingList && changeTrackingList.IsUndefined))
            {
                foreach (var @param in assets)
                {
                    uri.AppendQuery("assets", @param, true);
                }
            }
            if (expression != null)
            {
                uri.AppendQuery("expression", expression, true);
            }
            if (assetBidx != null && !(assetBidx is ChangeTrackingList<string> changeTrackingList0 && changeTrackingList0.IsUndefined))
            {
                uri.AppendQueryDelimited("asset_bidx", assetBidx, ",", null, true);
            }
            if (assetAsBand != null)
            {
                uri.AppendQuery("asset_as_band", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(assetAsBand, null), true);
            }
            if (nodata != null)
            {
                uri.AppendQuery("nodata", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(nodata, null), true);
            }
            if (unscale != null)
            {
                uri.AppendQuery("unscale", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(unscale, null), true);
            }
            if (algorithm != null)
            {
                uri.AppendQuery("algorithm", algorithm, true);
            }
            if (algorithmParams != null)
            {
                uri.AppendQuery("algorithm_params", algorithmParams, true);
            }
            if (colorFormula != null)
            {
                uri.AppendQuery("color_formula", colorFormula, true);
            }
            if (dstCrs != null)
            {
                uri.AppendQuery("dst-crs", dstCrs, true);
            }
            if (coordCrs != null)
            {
                uri.AppendQuery("coord-crs", coordCrs, true);
            }
            if (resampling != null)
            {
                uri.AppendQuery("resampling", resampling, true);
            }
            if (maxSize != null)
            {
                uri.AppendQuery("max_size", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(maxSize, null), true);
            }
            if (rescale != null && !(rescale is ChangeTrackingList<string> changeTrackingList1 && changeTrackingList1.IsUndefined))
            {
                foreach (var @param in rescale)
                {
                    uri.AppendQuery("rescale", @param, true);
                }
            }
            if (colormapName != null)
            {
                uri.AppendQuery("colormap_name", colormapName, true);
            }
            if (colormap != null)
            {
                uri.AppendQuery("colormap", colormap, true);
            }
            if (returnMask != null)
            {
                uri.AppendQuery("return_mask", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(returnMask, null), true);
            }
            request.Uri = uri;
            request.Headers.SetValue("Accept", "application/x-binary, image/jp2, image/jpeg, image/jpg, image/png, image/tiff; application=geotiff, image/webp");
            return message;
        }

        internal HttpMessage CreateCropGeoJsonRequest(string collectionId, string itemId, string format, RequestContent content, IEnumerable<string> assets, string expression, IEnumerable<string> assetBidx, bool? assetAsBand, float? nodata, bool? unscale, string algorithm, string algorithmParams, string colorFormula, string coordCrs, string resampling, int? maxSize, int? height, int? width, IEnumerable<string> rescale, string colormapName, string colormap, bool? returnMask, RequestContext context)
        {
            HttpMessage message = Pipeline.CreateMessage(context, PipelineMessageClassifier200);
            Request request = message.Request;
            request.Method = RequestMethod.Post;
            RawRequestUriBuilder uri = new RawRequestUriBuilder();
            uri.Reset(_endpoint);
            uri.AppendPath("/data/collections/", false);
            uri.AppendPath(collectionId, true);
            uri.AppendPath("/items/", false);
            uri.AppendPath(itemId, true);
            uri.AppendPath("/crop.", false);
            uri.AppendPath(format, true);
            uri.AppendQuery("api-version", _apiVersion, true);
            if (assets != null && !(assets is ChangeTrackingList<string> changeTrackingList && changeTrackingList.IsUndefined))
            {
                foreach (var @param in assets)
                {
                    uri.AppendQuery("assets", @param, true);
                }
            }
            if (expression != null)
            {
                uri.AppendQuery("expression", expression, true);
            }
            if (assetBidx != null && !(assetBidx is ChangeTrackingList<string> changeTrackingList0 && changeTrackingList0.IsUndefined))
            {
                uri.AppendQueryDelimited("asset_bidx", assetBidx, ",", null, true);
            }
            if (assetAsBand != null)
            {
                uri.AppendQuery("asset_as_band", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(assetAsBand, null), true);
            }
            if (nodata != null)
            {
                uri.AppendQuery("nodata", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(nodata, null), true);
            }
            if (unscale != null)
            {
                uri.AppendQuery("unscale", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(unscale, null), true);
            }
            if (algorithm != null)
            {
                uri.AppendQuery("algorithm", algorithm, true);
            }
            if (algorithmParams != null)
            {
                uri.AppendQuery("algorithm_params", algorithmParams, true);
            }
            if (colorFormula != null)
            {
                uri.AppendQuery("color_formula", colorFormula, true);
            }
            if (coordCrs != null)
            {
                uri.AppendQuery("coord-crs", coordCrs, true);
            }
            if (resampling != null)
            {
                uri.AppendQuery("resampling", resampling, true);
            }
            if (maxSize != null)
            {
                uri.AppendQuery("max_size", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(maxSize, null), true);
            }
            if (height != null)
            {
                uri.AppendQuery("height", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(height, null), true);
            }
            if (width != null)
            {
                uri.AppendQuery("width", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(width, null), true);
            }
            if (rescale != null && !(rescale is ChangeTrackingList<string> changeTrackingList1 && changeTrackingList1.IsUndefined))
            {
                foreach (var @param in rescale)
                {
                    uri.AppendQuery("rescale", @param, true);
                }
            }
            if (colormapName != null)
            {
                uri.AppendQuery("colormap_name", colormapName, true);
            }
            if (colormap != null)
            {
                uri.AppendQuery("colormap", colormap, true);
            }
            if (returnMask != null)
            {
                uri.AppendQuery("return_mask", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(returnMask, null), true);
            }
            request.Uri = uri;
            request.Headers.SetValue("Content-Type", "application/json");
            request.Headers.SetValue("Accept", "application/x-binary, image/jp2, image/jpeg, image/jpg, image/png, image/tiff; application=geotiff, image/webp");
            request.Content = content;
            return message;
        }

        internal HttpMessage CreateCropGeoJsonWithDimensionsRequest(string collectionId, string itemId, float width, float height, string format, RequestContent content, IEnumerable<string> assets, string expression, IEnumerable<string> assetBidx, bool? assetAsBand, float? nodata, bool? unscale, string algorithm, string algorithmParams, string colorFormula, string coordCrs, string resampling, int? maxSize, IEnumerable<string> rescale, string colormapName, string colormap, bool? returnMask, RequestContext context)
        {
            HttpMessage message = Pipeline.CreateMessage(context, PipelineMessageClassifier200);
            Request request = message.Request;
            request.Method = RequestMethod.Post;
            RawRequestUriBuilder uri = new RawRequestUriBuilder();
            uri.Reset(_endpoint);
            uri.AppendPath("/data/collections/", false);
            uri.AppendPath(collectionId, true);
            uri.AppendPath("/items/", false);
            uri.AppendPath(itemId, true);
            uri.AppendPath("/crop/", false);
            uri.AppendPath(width.ToString(), true);
            uri.AppendPath("x", false);
            uri.AppendPath(height.ToString(), true);
            uri.AppendPath(".", false);
            uri.AppendPath(format, true);
            uri.AppendQuery("api-version", _apiVersion, true);
            if (assets != null && !(assets is ChangeTrackingList<string> changeTrackingList && changeTrackingList.IsUndefined))
            {
                foreach (var @param in assets)
                {
                    uri.AppendQuery("assets", @param, true);
                }
            }
            if (expression != null)
            {
                uri.AppendQuery("expression", expression, true);
            }
            if (assetBidx != null && !(assetBidx is ChangeTrackingList<string> changeTrackingList0 && changeTrackingList0.IsUndefined))
            {
                uri.AppendQueryDelimited("asset_bidx", assetBidx, ",", null, true);
            }
            if (assetAsBand != null)
            {
                uri.AppendQuery("asset_as_band", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(assetAsBand, null), true);
            }
            if (nodata != null)
            {
                uri.AppendQuery("nodata", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(nodata, null), true);
            }
            if (unscale != null)
            {
                uri.AppendQuery("unscale", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(unscale, null), true);
            }
            if (algorithm != null)
            {
                uri.AppendQuery("algorithm", algorithm, true);
            }
            if (algorithmParams != null)
            {
                uri.AppendQuery("algorithm_params", algorithmParams, true);
            }
            if (colorFormula != null)
            {
                uri.AppendQuery("color_formula", colorFormula, true);
            }
            if (coordCrs != null)
            {
                uri.AppendQuery("coord-crs", coordCrs, true);
            }
            if (resampling != null)
            {
                uri.AppendQuery("resampling", resampling, true);
            }
            if (maxSize != null)
            {
                uri.AppendQuery("max_size", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(maxSize, null), true);
            }
            if (rescale != null && !(rescale is ChangeTrackingList<string> changeTrackingList1 && changeTrackingList1.IsUndefined))
            {
                foreach (var @param in rescale)
                {
                    uri.AppendQuery("rescale", @param, true);
                }
            }
            if (colormapName != null)
            {
                uri.AppendQuery("colormap_name", colormapName, true);
            }
            if (colormap != null)
            {
                uri.AppendQuery("colormap", colormap, true);
            }
            if (returnMask != null)
            {
                uri.AppendQuery("return_mask", Microsoft.PlanetaryComputer.TypeFormatters.ConvertToString(returnMask, null), true);
            }
            request.Uri = uri;
            request.Headers.SetValue("Content-Type", "application/json");
            request.Headers.SetValue("Accept", "application/x-binary, image/jp2, image/jpeg, image/jpg, image/png, image/tiff; application=geotiff, image/webp");
            request.Content = content;
            return message;
        }
    }
}
