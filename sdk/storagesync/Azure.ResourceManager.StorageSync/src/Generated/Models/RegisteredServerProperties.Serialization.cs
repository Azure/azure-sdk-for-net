// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.

// <auto-generated/>

#nullable disable

using System;
using System.ClientModel.Primitives;
using System.Collections.Generic;
using System.Text.Json;
using Azure.Core;
using Azure.ResourceManager.StorageSync;

namespace Azure.ResourceManager.StorageSync.Models
{
    /// <summary> RegisteredServer Properties object. </summary>
    internal partial class RegisteredServerProperties : IJsonModel<RegisteredServerProperties>
    {
        /// <param name="writer"> The JSON writer. </param>
        /// <param name="options"> The client options for reading and writing models. </param>
        void IJsonModel<RegisteredServerProperties>.Write(Utf8JsonWriter writer, ModelReaderWriterOptions options)
        {
            writer.WriteStartObject();
            JsonModelWriteCore(writer, options);
            writer.WriteEndObject();
        }

        /// <param name="writer"> The JSON writer. </param>
        /// <param name="options"> The client options for reading and writing models. </param>
        protected virtual void JsonModelWriteCore(Utf8JsonWriter writer, ModelReaderWriterOptions options)
        {
            string format = options.Format == "W" ? ((IPersistableModel<RegisteredServerProperties>)this).GetFormatFromOptions(options) : options.Format;
            if (format != "J")
            {
                throw new FormatException($"The model {nameof(RegisteredServerProperties)} does not support writing '{format}' format.");
            }
            if (Optional.IsDefined(ServerCertificate))
            {
                writer.WritePropertyName("serverCertificate"u8);
#if NET6_0_OR_GREATER
                writer.WriteRawValue(ServerCertificate);
#else
                using (JsonDocument document = JsonDocument.Parse(ServerCertificate))
                {
                    JsonSerializer.Serialize(writer, document.RootElement);
                }
#endif
            }
            if (Optional.IsDefined(AgentVersion))
            {
                writer.WritePropertyName("agentVersion"u8);
                writer.WriteStringValue(AgentVersion);
            }
            if (options.Format != "W" && Optional.IsDefined(AgentVersionStatus))
            {
                writer.WritePropertyName("agentVersionStatus"u8);
                writer.WriteStringValue(AgentVersionStatus.Value.ToString());
            }
            if (options.Format != "W" && Optional.IsDefined(AgentVersionExpireOn))
            {
                writer.WritePropertyName("agentVersionExpirationDate"u8);
                writer.WriteStringValue(AgentVersionExpireOn.Value, "O");
            }
            if (Optional.IsDefined(ServerOSVersion))
            {
                writer.WritePropertyName("serverOSVersion"u8);
                writer.WriteStringValue(ServerOSVersion);
            }
            if (Optional.IsDefined(ServerManagementErrorCode))
            {
                writer.WritePropertyName("serverManagementErrorCode"u8);
                writer.WriteNumberValue(ServerManagementErrorCode.Value);
            }
            if (Optional.IsDefined(LastHeartbeat))
            {
                writer.WritePropertyName("lastHeartBeat"u8);
                writer.WriteStringValue(LastHeartbeat);
            }
            if (Optional.IsDefined(ProvisioningState))
            {
                writer.WritePropertyName("provisioningState"u8);
                writer.WriteStringValue(ProvisioningState);
            }
            if (Optional.IsDefined(ServerRole))
            {
                writer.WritePropertyName("serverRole"u8);
                writer.WriteStringValue(ServerRole);
            }
            if (Optional.IsDefined(ClusterId))
            {
                writer.WritePropertyName("clusterId"u8);
                writer.WriteStringValue(ClusterId.Value);
            }
            if (Optional.IsDefined(ClusterName))
            {
                writer.WritePropertyName("clusterName"u8);
                writer.WriteStringValue(ClusterName);
            }
            if (Optional.IsDefined(ServerId))
            {
                writer.WritePropertyName("serverId"u8);
                writer.WriteStringValue(ServerId.Value);
            }
            if (Optional.IsDefined(StorageSyncServiceUid))
            {
                writer.WritePropertyName("storageSyncServiceUid"u8);
                writer.WriteStringValue(StorageSyncServiceUid.Value);
            }
            if (Optional.IsDefined(LastWorkflowId))
            {
                writer.WritePropertyName("lastWorkflowId"u8);
                writer.WriteStringValue(LastWorkflowId);
            }
            if (Optional.IsDefined(LastOperationName))
            {
                writer.WritePropertyName("lastOperationName"u8);
                writer.WriteStringValue(LastOperationName);
            }
            if (Optional.IsDefined(DiscoveryEndpointUri))
            {
                writer.WritePropertyName("discoveryEndpointUri"u8);
                writer.WriteStringValue(DiscoveryEndpointUri.AbsoluteUri);
            }
            if (Optional.IsDefined(ResourceLocation))
            {
                writer.WritePropertyName("resourceLocation"u8);
                writer.WriteStringValue(ResourceLocation.Value);
            }
            if (Optional.IsDefined(ServiceLocation))
            {
                writer.WritePropertyName("serviceLocation"u8);
                writer.WriteStringValue(ServiceLocation.Value);
            }
            if (Optional.IsDefined(FriendlyName))
            {
                writer.WritePropertyName("friendlyName"u8);
                writer.WriteStringValue(FriendlyName);
            }
            if (Optional.IsDefined(ManagementEndpointUri))
            {
                writer.WritePropertyName("managementEndpointUri"u8);
                writer.WriteStringValue(ManagementEndpointUri.AbsoluteUri);
            }
            if (Optional.IsDefined(MonitoringEndpointUri))
            {
                writer.WritePropertyName("monitoringEndpointUri"u8);
                writer.WriteStringValue(MonitoringEndpointUri.AbsoluteUri);
            }
            if (Optional.IsDefined(MonitoringConfiguration))
            {
                writer.WritePropertyName("monitoringConfiguration"u8);
                writer.WriteStringValue(MonitoringConfiguration);
            }
            if (options.Format != "W" && Optional.IsDefined(ServerName))
            {
                writer.WritePropertyName("serverName"u8);
                writer.WriteStringValue(ServerName);
            }
            if (Optional.IsDefined(ApplicationId))
            {
                writer.WritePropertyName("applicationId"u8);
                writer.WriteStringValue(ApplicationId.Value);
            }
            if (options.Format != "W" && Optional.IsDefined(UseIdentity))
            {
                writer.WritePropertyName("identity"u8);
                writer.WriteBooleanValue(UseIdentity.Value);
            }
            if (Optional.IsDefined(LatestApplicationId))
            {
                writer.WritePropertyName("latestApplicationId"u8);
                writer.WriteStringValue(LatestApplicationId.Value);
            }
            if (options.Format != "W" && Optional.IsDefined(ActiveAuthType))
            {
                writer.WritePropertyName("activeAuthType"u8);
                writer.WriteStringValue(ActiveAuthType.Value.ToString());
            }
            if (options.Format != "W" && _additionalBinaryDataProperties != null)
            {
                foreach (var item in _additionalBinaryDataProperties)
                {
                    writer.WritePropertyName(item.Key);
#if NET6_0_OR_GREATER
                    writer.WriteRawValue(item.Value);
#else
                    using (JsonDocument document = JsonDocument.Parse(item.Value))
                    {
                        JsonSerializer.Serialize(writer, document.RootElement);
                    }
#endif
                }
            }
        }

        /// <param name="reader"> The JSON reader. </param>
        /// <param name="options"> The client options for reading and writing models. </param>
        RegisteredServerProperties IJsonModel<RegisteredServerProperties>.Create(ref Utf8JsonReader reader, ModelReaderWriterOptions options) => JsonModelCreateCore(ref reader, options);

        /// <param name="reader"> The JSON reader. </param>
        /// <param name="options"> The client options for reading and writing models. </param>
        protected virtual RegisteredServerProperties JsonModelCreateCore(ref Utf8JsonReader reader, ModelReaderWriterOptions options)
        {
            string format = options.Format == "W" ? ((IPersistableModel<RegisteredServerProperties>)this).GetFormatFromOptions(options) : options.Format;
            if (format != "J")
            {
                throw new FormatException($"The model {nameof(RegisteredServerProperties)} does not support reading '{format}' format.");
            }
            using JsonDocument document = JsonDocument.ParseValue(ref reader);
            return DeserializeRegisteredServerProperties(document.RootElement, options);
        }

        /// <param name="element"> The JSON element to deserialize. </param>
        /// <param name="options"> The client options for reading and writing models. </param>
        internal static RegisteredServerProperties DeserializeRegisteredServerProperties(JsonElement element, ModelReaderWriterOptions options)
        {
            if (element.ValueKind == JsonValueKind.Null)
            {
                return null;
            }
            BinaryData serverCertificate = default;
            string agentVersion = default;
            RegisteredServerAgentVersionStatus? agentVersionStatus = default;
            DateTimeOffset? agentVersionExpireOn = default;
            string serverOSVersion = default;
            int? serverManagementErrorCode = default;
            string lastHeartbeat = default;
            string provisioningState = default;
            string serverRole = default;
            Guid? clusterId = default;
            string clusterName = default;
            Guid? serverId = default;
            Guid? storageSyncServiceUid = default;
            string lastWorkflowId = default;
            string lastOperationName = default;
            Uri discoveryEndpointUri = default;
            AzureLocation? resourceLocation = default;
            AzureLocation? serviceLocation = default;
            string friendlyName = default;
            Uri managementEndpointUri = default;
            Uri monitoringEndpointUri = default;
            string monitoringConfiguration = default;
            string serverName = default;
            Guid? applicationId = default;
            bool? useIdentity = default;
            Guid? latestApplicationId = default;
            StorageSyncServerAuthType? activeAuthType = default;
            IDictionary<string, BinaryData> additionalBinaryDataProperties = new ChangeTrackingDictionary<string, BinaryData>();
            foreach (var prop in element.EnumerateObject())
            {
                if (prop.NameEquals("serverCertificate"u8))
                {
                    if (prop.Value.ValueKind == JsonValueKind.Null)
                    {
                        continue;
                    }
                    serverCertificate = BinaryData.FromString(prop.Value.GetRawText());
                    continue;
                }
                if (prop.NameEquals("agentVersion"u8))
                {
                    agentVersion = prop.Value.GetString();
                    continue;
                }
                if (prop.NameEquals("agentVersionStatus"u8))
                {
                    if (prop.Value.ValueKind == JsonValueKind.Null)
                    {
                        continue;
                    }
                    agentVersionStatus = new RegisteredServerAgentVersionStatus(prop.Value.GetString());
                    continue;
                }
                if (prop.NameEquals("agentVersionExpirationDate"u8))
                {
                    if (prop.Value.ValueKind == JsonValueKind.Null)
                    {
                        continue;
                    }
                    agentVersionExpireOn = prop.Value.GetDateTimeOffset("O");
                    continue;
                }
                if (prop.NameEquals("serverOSVersion"u8))
                {
                    serverOSVersion = prop.Value.GetString();
                    continue;
                }
                if (prop.NameEquals("serverManagementErrorCode"u8))
                {
                    if (prop.Value.ValueKind == JsonValueKind.Null)
                    {
                        continue;
                    }
                    serverManagementErrorCode = prop.Value.GetInt32();
                    continue;
                }
                if (prop.NameEquals("lastHeartBeat"u8))
                {
                    lastHeartbeat = prop.Value.GetString();
                    continue;
                }
                if (prop.NameEquals("provisioningState"u8))
                {
                    provisioningState = prop.Value.GetString();
                    continue;
                }
                if (prop.NameEquals("serverRole"u8))
                {
                    serverRole = prop.Value.GetString();
                    continue;
                }
                if (prop.NameEquals("clusterId"u8))
                {
                    if (prop.Value.ValueKind == JsonValueKind.Null)
                    {
                        continue;
                    }
                    clusterId = new Guid(prop.Value.GetString());
                    continue;
                }
                if (prop.NameEquals("clusterName"u8))
                {
                    clusterName = prop.Value.GetString();
                    continue;
                }
                if (prop.NameEquals("serverId"u8))
                {
                    if (prop.Value.ValueKind == JsonValueKind.Null)
                    {
                        continue;
                    }
                    serverId = new Guid(prop.Value.GetString());
                    continue;
                }
                if (prop.NameEquals("storageSyncServiceUid"u8))
                {
                    if (prop.Value.ValueKind == JsonValueKind.Null)
                    {
                        continue;
                    }
                    storageSyncServiceUid = new Guid(prop.Value.GetString());
                    continue;
                }
                if (prop.NameEquals("lastWorkflowId"u8))
                {
                    lastWorkflowId = prop.Value.GetString();
                    continue;
                }
                if (prop.NameEquals("lastOperationName"u8))
                {
                    lastOperationName = prop.Value.GetString();
                    continue;
                }
                if (prop.NameEquals("discoveryEndpointUri"u8))
                {
                    if (prop.Value.ValueKind == JsonValueKind.Null)
                    {
                        continue;
                    }
                    discoveryEndpointUri = string.IsNullOrEmpty(prop.Value.GetString()) ? null : new Uri(prop.Value.GetString());
                    continue;
                }
                if (prop.NameEquals("resourceLocation"u8))
                {
                    if (prop.Value.ValueKind == JsonValueKind.Null)
                    {
                        continue;
                    }
                    resourceLocation = new AzureLocation(prop.Value.GetString());
                    continue;
                }
                if (prop.NameEquals("serviceLocation"u8))
                {
                    if (prop.Value.ValueKind == JsonValueKind.Null)
                    {
                        continue;
                    }
                    serviceLocation = new AzureLocation(prop.Value.GetString());
                    continue;
                }
                if (prop.NameEquals("friendlyName"u8))
                {
                    friendlyName = prop.Value.GetString();
                    continue;
                }
                if (prop.NameEquals("managementEndpointUri"u8))
                {
                    if (prop.Value.ValueKind == JsonValueKind.Null)
                    {
                        continue;
                    }
                    managementEndpointUri = string.IsNullOrEmpty(prop.Value.GetString()) ? null : new Uri(prop.Value.GetString());
                    continue;
                }
                if (prop.NameEquals("monitoringEndpointUri"u8))
                {
                    if (prop.Value.ValueKind == JsonValueKind.Null)
                    {
                        continue;
                    }
                    monitoringEndpointUri = string.IsNullOrEmpty(prop.Value.GetString()) ? null : new Uri(prop.Value.GetString());
                    continue;
                }
                if (prop.NameEquals("monitoringConfiguration"u8))
                {
                    monitoringConfiguration = prop.Value.GetString();
                    continue;
                }
                if (prop.NameEquals("serverName"u8))
                {
                    serverName = prop.Value.GetString();
                    continue;
                }
                if (prop.NameEquals("applicationId"u8))
                {
                    if (prop.Value.ValueKind == JsonValueKind.Null)
                    {
                        continue;
                    }
                    applicationId = new Guid(prop.Value.GetString());
                    continue;
                }
                if (prop.NameEquals("identity"u8))
                {
                    if (prop.Value.ValueKind == JsonValueKind.Null)
                    {
                        continue;
                    }
                    useIdentity = prop.Value.GetBoolean();
                    continue;
                }
                if (prop.NameEquals("latestApplicationId"u8))
                {
                    if (prop.Value.ValueKind == JsonValueKind.Null)
                    {
                        continue;
                    }
                    latestApplicationId = new Guid(prop.Value.GetString());
                    continue;
                }
                if (prop.NameEquals("activeAuthType"u8))
                {
                    if (prop.Value.ValueKind == JsonValueKind.Null)
                    {
                        continue;
                    }
                    activeAuthType = new StorageSyncServerAuthType(prop.Value.GetString());
                    continue;
                }
                if (options.Format != "W")
                {
                    additionalBinaryDataProperties.Add(prop.Name, BinaryData.FromString(prop.Value.GetRawText()));
                }
            }
            return new RegisteredServerProperties(
                serverCertificate,
                agentVersion,
                agentVersionStatus,
                agentVersionExpireOn,
                serverOSVersion,
                serverManagementErrorCode,
                lastHeartbeat,
                provisioningState,
                serverRole,
                clusterId,
                clusterName,
                serverId,
                storageSyncServiceUid,
                lastWorkflowId,
                lastOperationName,
                discoveryEndpointUri,
                resourceLocation,
                serviceLocation,
                friendlyName,
                managementEndpointUri,
                monitoringEndpointUri,
                monitoringConfiguration,
                serverName,
                applicationId,
                useIdentity,
                latestApplicationId,
                activeAuthType,
                additionalBinaryDataProperties);
        }

        /// <param name="options"> The client options for reading and writing models. </param>
        BinaryData IPersistableModel<RegisteredServerProperties>.Write(ModelReaderWriterOptions options) => PersistableModelWriteCore(options);

        /// <param name="options"> The client options for reading and writing models. </param>
        protected virtual BinaryData PersistableModelWriteCore(ModelReaderWriterOptions options)
        {
            string format = options.Format == "W" ? ((IPersistableModel<RegisteredServerProperties>)this).GetFormatFromOptions(options) : options.Format;
            switch (format)
            {
                case "J":
                    return ModelReaderWriter.Write(this, options, AzureResourceManagerStorageSyncContext.Default);
                default:
                    throw new FormatException($"The model {nameof(RegisteredServerProperties)} does not support writing '{options.Format}' format.");
            }
        }

        /// <param name="data"> The data to parse. </param>
        /// <param name="options"> The client options for reading and writing models. </param>
        RegisteredServerProperties IPersistableModel<RegisteredServerProperties>.Create(BinaryData data, ModelReaderWriterOptions options) => PersistableModelCreateCore(data, options);

        /// <param name="data"> The data to parse. </param>
        /// <param name="options"> The client options for reading and writing models. </param>
        protected virtual RegisteredServerProperties PersistableModelCreateCore(BinaryData data, ModelReaderWriterOptions options)
        {
            string format = options.Format == "W" ? ((IPersistableModel<RegisteredServerProperties>)this).GetFormatFromOptions(options) : options.Format;
            switch (format)
            {
                case "J":
                    using (JsonDocument document = JsonDocument.Parse(data, ModelSerializationExtensions.JsonDocumentOptions))
                    {
                        return DeserializeRegisteredServerProperties(document.RootElement, options);
                    }
                default:
                    throw new FormatException($"The model {nameof(RegisteredServerProperties)} does not support reading '{options.Format}' format.");
            }
        }

        /// <param name="options"> The client options for reading and writing models. </param>
        string IPersistableModel<RegisteredServerProperties>.GetFormatFromOptions(ModelReaderWriterOptions options) => "J";
    }
}
