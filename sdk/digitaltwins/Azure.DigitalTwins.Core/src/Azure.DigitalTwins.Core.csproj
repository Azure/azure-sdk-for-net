<Project Sdk="Microsoft.NET.Sdk">
  <!-- Assembly props -->
  <PropertyGroup>
    <AssemblyTitle>Digital Twins SDK</AssemblyTitle>
    <TargetFrameworks>$(RequiredTargetFrameworks)</TargetFrameworks>

    <AllowUnsafeBlocks>true</AllowUnsafeBlocks>

    <NoWarn>$(NoWarn);CA1812</NoWarn>
  </PropertyGroup>

  <!-- Nuget properties -->
  <PropertyGroup>
    <PackageTags>IoT;DigitalTwins;$(PackageCommonTags)</PackageTags>
    <Description>SDK for the Azure Digital Twins service</Description>
    <Version>1.0.0</Version>
  </PropertyGroup>

  <ItemGroup>
    <PackageReference Include="System.Text.Json" />
  </ItemGroup>

  <!-- Common source from Azure.Core -->
  <ItemGroup>
    <Compile Include="$(AzureCoreSharedSources)ArrayBufferWriter.cs">
      <LinkBase>Shared\Azure.Core</LinkBase>
    </Compile>
    <Compile Include="$(AzureCoreSharedSources)ClientDiagnostics.cs">
      <LinkBase>Shared\Azure.Core</LinkBase>
    </Compile>
    <Compile Include="$(AzureCoreSharedSources)ContentTypeUtilities.cs">
      <LinkBase>Shared\Azure.Core</LinkBase>
    </Compile>
    <Compile Include="$(AzureCoreSharedSources)DiagnosticScope.cs">
      <LinkBase>Shared\Azure.Core</LinkBase>
    </Compile>
    <Compile Include="$(AzureCoreSharedSources)DiagnosticScopeFactory.cs">
      <LinkBase>Shared\Azure.Core</LinkBase>
    </Compile>
    <Compile Include="$(AzureCoreSharedSources)HttpMessageSanitizer.cs">
      <LinkBase>Shared\Azure.Core</LinkBase>
    </Compile>
    <Compile Include="$(AzureCoreSharedSources)TaskExtensions.cs">
      <LinkBase>Shared\Azure.Core</LinkBase>
    </Compile>
    <Compile Include="$(AzureCoreSharedSources)OperationHelpers.cs">
      <LinkBase>Shared\Azure.Core</LinkBase>
    </Compile>
    <Compile Include="$(AzureCoreSharedSources)Argument.cs">
      <LinkBase>Shared\Azure.Core</LinkBase>
    </Compile>
  </ItemGroup>

  <!--
  This project currently takes a project reference on Azure.Core, rather than deferring to Azure.Core.props to choose between project reference and nuget reference.
  This is because the project needs access to the JsonPatchDocument type that is defined in Azure.Core, but has not been released in a nuget yet. After the next
  release of Azure.Core, the below can be changed back so that we just import Azure.Core.props
  -->

  <!--Uncomment the below to take reference from Azure.Core based on how Azure.Core.props defines how libraries should take reference-->
  <!--<Import Project="$(RepoRoot)\sdk\core\Azure.Core\src\Azure.Core.props" />-->

  <!--Remove the below after uncommenting the above in order to stop taking a project reference on Azure.Core-->
  <ItemGroup>
    <ProjectReference Include="..\..\..\core\Azure.Core\src\Azure.Core.csproj" />
  </ItemGroup>
</Project>
