// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.

// <auto-generated/>

#nullable disable

using System;
using System.Threading;
using System.Threading.Tasks;
using Azure;
using Azure.Core;
using Azure.Core.Pipeline;
using Azure.ResourceManager;
using Azure.ResourceManager.Consumption.Models;

namespace Azure.ResourceManager.Consumption
{
    /// <summary> A class to add extension methods to TenantResource. </summary>
    internal partial class TenantResourceExtensionClient : ArmResource
    {
        private ClientDiagnostics _balancesClientDiagnostics;
        private BalancesRestOperations _balancesRestClient;
        private ClientDiagnostics _reservationsSummariesClientDiagnostics;
        private ReservationsSummariesRestOperations _reservationsSummariesRestClient;
        private ClientDiagnostics _reservationsDetailsClientDiagnostics;
        private ReservationsDetailsRestOperations _reservationsDetailsRestClient;
        private ClientDiagnostics _reservationTransactionsClientDiagnostics;
        private ReservationTransactionsRestOperations _reservationTransactionsRestClient;
        private ClientDiagnostics _eventsClientDiagnostics;
        private EventsRestOperations _eventsRestClient;
        private ClientDiagnostics _lotsClientDiagnostics;
        private LotsRestOperations _lotsRestClient;
        private ClientDiagnostics _creditsClientDiagnostics;
        private CreditsRestOperations _creditsRestClient;

        /// <summary> Initializes a new instance of the <see cref="TenantResourceExtensionClient"/> class for mocking. </summary>
        protected TenantResourceExtensionClient()
        {
        }

        /// <summary> Initializes a new instance of the <see cref="TenantResourceExtensionClient"/> class. </summary>
        /// <param name="client"> The client parameters to use in these operations. </param>
        /// <param name="id"> The identifier of the resource that is the target of operations. </param>
        internal TenantResourceExtensionClient(ArmClient client, ResourceIdentifier id) : base(client, id)
        {
        }

        private ClientDiagnostics BalancesClientDiagnostics => _balancesClientDiagnostics ??= new ClientDiagnostics("Azure.ResourceManager.Consumption", ProviderConstants.DefaultProviderNamespace, Diagnostics);
        private BalancesRestOperations BalancesRestClient => _balancesRestClient ??= new BalancesRestOperations(Pipeline, Diagnostics.ApplicationId, Endpoint);
        private ClientDiagnostics ReservationsSummariesClientDiagnostics => _reservationsSummariesClientDiagnostics ??= new ClientDiagnostics("Azure.ResourceManager.Consumption", ProviderConstants.DefaultProviderNamespace, Diagnostics);
        private ReservationsSummariesRestOperations ReservationsSummariesRestClient => _reservationsSummariesRestClient ??= new ReservationsSummariesRestOperations(Pipeline, Diagnostics.ApplicationId, Endpoint);
        private ClientDiagnostics ReservationsDetailsClientDiagnostics => _reservationsDetailsClientDiagnostics ??= new ClientDiagnostics("Azure.ResourceManager.Consumption", ProviderConstants.DefaultProviderNamespace, Diagnostics);
        private ReservationsDetailsRestOperations ReservationsDetailsRestClient => _reservationsDetailsRestClient ??= new ReservationsDetailsRestOperations(Pipeline, Diagnostics.ApplicationId, Endpoint);
        private ClientDiagnostics ReservationTransactionsClientDiagnostics => _reservationTransactionsClientDiagnostics ??= new ClientDiagnostics("Azure.ResourceManager.Consumption", ProviderConstants.DefaultProviderNamespace, Diagnostics);
        private ReservationTransactionsRestOperations ReservationTransactionsRestClient => _reservationTransactionsRestClient ??= new ReservationTransactionsRestOperations(Pipeline, Diagnostics.ApplicationId, Endpoint);
        private ClientDiagnostics EventsClientDiagnostics => _eventsClientDiagnostics ??= new ClientDiagnostics("Azure.ResourceManager.Consumption", ProviderConstants.DefaultProviderNamespace, Diagnostics);
        private EventsRestOperations EventsRestClient => _eventsRestClient ??= new EventsRestOperations(Pipeline, Diagnostics.ApplicationId, Endpoint);
        private ClientDiagnostics LotsClientDiagnostics => _lotsClientDiagnostics ??= new ClientDiagnostics("Azure.ResourceManager.Consumption", ProviderConstants.DefaultProviderNamespace, Diagnostics);
        private LotsRestOperations LotsRestClient => _lotsRestClient ??= new LotsRestOperations(Pipeline, Diagnostics.ApplicationId, Endpoint);
        private ClientDiagnostics CreditsClientDiagnostics => _creditsClientDiagnostics ??= new ClientDiagnostics("Azure.ResourceManager.Consumption", ProviderConstants.DefaultProviderNamespace, Diagnostics);
        private CreditsRestOperations CreditsRestClient => _creditsRestClient ??= new CreditsRestOperations(Pipeline, Diagnostics.ApplicationId, Endpoint);

        private string GetApiVersionOrNull(ResourceType resourceType)
        {
            TryGetApiVersion(resourceType, out string apiVersion);
            return apiVersion;
        }

        /// <summary>
        /// Gets the balances for a scope by billingAccountId. Balances are available via this API only for May 1, 2014 or later.
        /// Request Path: /providers/Microsoft.Billing/billingAccounts/{billingAccountId}/providers/Microsoft.Consumption/balances
        /// Operation Id: Balances_GetByBillingAccount
        /// </summary>
        /// <param name="billingAccountId"> BillingAccount ID. </param>
        /// <param name="cancellationToken"> The cancellation token to use. </param>
        public virtual async Task<Response<Balance>> GetByBillingAccountBalanceAsync(string billingAccountId, CancellationToken cancellationToken = default)
        {
            using var scope = BalancesClientDiagnostics.CreateScope("TenantResourceExtensionClient.GetByBillingAccountBalance");
            scope.Start();
            try
            {
                var response = await BalancesRestClient.GetByBillingAccountAsync(billingAccountId, cancellationToken).ConfigureAwait(false);
                return response;
            }
            catch (Exception e)
            {
                scope.Failed(e);
                throw;
            }
        }

        /// <summary>
        /// Gets the balances for a scope by billingAccountId. Balances are available via this API only for May 1, 2014 or later.
        /// Request Path: /providers/Microsoft.Billing/billingAccounts/{billingAccountId}/providers/Microsoft.Consumption/balances
        /// Operation Id: Balances_GetByBillingAccount
        /// </summary>
        /// <param name="billingAccountId"> BillingAccount ID. </param>
        /// <param name="cancellationToken"> The cancellation token to use. </param>
        public virtual Response<Balance> GetByBillingAccountBalance(string billingAccountId, CancellationToken cancellationToken = default)
        {
            using var scope = BalancesClientDiagnostics.CreateScope("TenantResourceExtensionClient.GetByBillingAccountBalance");
            scope.Start();
            try
            {
                var response = BalancesRestClient.GetByBillingAccount(billingAccountId, cancellationToken);
                return response;
            }
            catch (Exception e)
            {
                scope.Failed(e);
                throw;
            }
        }

        /// <summary>
        /// Gets the balances for a scope by billing period and billingAccountId. Balances are available via this API only for May 1, 2014 or later.
        /// Request Path: /providers/Microsoft.Billing/billingAccounts/{billingAccountId}/billingPeriods/{billingPeriodName}/providers/Microsoft.Consumption/balances
        /// Operation Id: Balances_GetForBillingPeriodByBillingAccount
        /// </summary>
        /// <param name="billingAccountId"> BillingAccount ID. </param>
        /// <param name="billingPeriodName"> Billing Period Name. </param>
        /// <param name="cancellationToken"> The cancellation token to use. </param>
        public virtual async Task<Response<Balance>> GetForBillingPeriodByBillingAccountBalanceAsync(string billingAccountId, string billingPeriodName, CancellationToken cancellationToken = default)
        {
            using var scope = BalancesClientDiagnostics.CreateScope("TenantResourceExtensionClient.GetForBillingPeriodByBillingAccountBalance");
            scope.Start();
            try
            {
                var response = await BalancesRestClient.GetForBillingPeriodByBillingAccountAsync(billingAccountId, billingPeriodName, cancellationToken).ConfigureAwait(false);
                return response;
            }
            catch (Exception e)
            {
                scope.Failed(e);
                throw;
            }
        }

        /// <summary>
        /// Gets the balances for a scope by billing period and billingAccountId. Balances are available via this API only for May 1, 2014 or later.
        /// Request Path: /providers/Microsoft.Billing/billingAccounts/{billingAccountId}/billingPeriods/{billingPeriodName}/providers/Microsoft.Consumption/balances
        /// Operation Id: Balances_GetForBillingPeriodByBillingAccount
        /// </summary>
        /// <param name="billingAccountId"> BillingAccount ID. </param>
        /// <param name="billingPeriodName"> Billing Period Name. </param>
        /// <param name="cancellationToken"> The cancellation token to use. </param>
        public virtual Response<Balance> GetForBillingPeriodByBillingAccountBalance(string billingAccountId, string billingPeriodName, CancellationToken cancellationToken = default)
        {
            using var scope = BalancesClientDiagnostics.CreateScope("TenantResourceExtensionClient.GetForBillingPeriodByBillingAccountBalance");
            scope.Start();
            try
            {
                var response = BalancesRestClient.GetForBillingPeriodByBillingAccount(billingAccountId, billingPeriodName, cancellationToken);
                return response;
            }
            catch (Exception e)
            {
                scope.Failed(e);
                throw;
            }
        }

        /// <summary>
        /// Lists the reservations summaries for daily or monthly grain.
        /// Request Path: /providers/Microsoft.Capacity/reservationorders/{reservationOrderId}/providers/Microsoft.Consumption/reservationSummaries
        /// Operation Id: ReservationsSummaries_ListByReservationOrder
        /// </summary>
        /// <param name="reservationOrderId"> Order Id of the reservation. </param>
        /// <param name="grain"> Can be daily or monthly. </param>
        /// <param name="filter"> Required only for daily grain. The properties/UsageDate for start date and end date. The filter supports &apos;le&apos; and  &apos;ge&apos;. </param>
        /// <param name="cancellationToken"> The cancellation token to use. </param>
        /// <returns> An async collection of <see cref="ReservationSummary" /> that may take multiple service requests to iterate over. </returns>
        public virtual AsyncPageable<ReservationSummary> GetReservationsSummariesByReservationOrderAsync(string reservationOrderId, Datagrain grain, string filter = null, CancellationToken cancellationToken = default)
        {
            async Task<Page<ReservationSummary>> FirstPageFunc(int? pageSizeHint)
            {
                using var scope = ReservationsSummariesClientDiagnostics.CreateScope("TenantResourceExtensionClient.GetReservationsSummariesByReservationOrder");
                scope.Start();
                try
                {
                    var response = await ReservationsSummariesRestClient.ListByReservationOrderAsync(reservationOrderId, grain, filter, cancellationToken: cancellationToken).ConfigureAwait(false);
                    return Page.FromValues(response.Value.Value, response.Value.NextLink, response.GetRawResponse());
                }
                catch (Exception e)
                {
                    scope.Failed(e);
                    throw;
                }
            }
            async Task<Page<ReservationSummary>> NextPageFunc(string nextLink, int? pageSizeHint)
            {
                using var scope = ReservationsSummariesClientDiagnostics.CreateScope("TenantResourceExtensionClient.GetReservationsSummariesByReservationOrder");
                scope.Start();
                try
                {
                    var response = await ReservationsSummariesRestClient.ListByReservationOrderNextPageAsync(nextLink, reservationOrderId, grain, filter, cancellationToken: cancellationToken).ConfigureAwait(false);
                    return Page.FromValues(response.Value.Value, response.Value.NextLink, response.GetRawResponse());
                }
                catch (Exception e)
                {
                    scope.Failed(e);
                    throw;
                }
            }
            return PageableHelpers.CreateAsyncEnumerable(FirstPageFunc, NextPageFunc);
        }

        /// <summary>
        /// Lists the reservations summaries for daily or monthly grain.
        /// Request Path: /providers/Microsoft.Capacity/reservationorders/{reservationOrderId}/providers/Microsoft.Consumption/reservationSummaries
        /// Operation Id: ReservationsSummaries_ListByReservationOrder
        /// </summary>
        /// <param name="reservationOrderId"> Order Id of the reservation. </param>
        /// <param name="grain"> Can be daily or monthly. </param>
        /// <param name="filter"> Required only for daily grain. The properties/UsageDate for start date and end date. The filter supports &apos;le&apos; and  &apos;ge&apos;. </param>
        /// <param name="cancellationToken"> The cancellation token to use. </param>
        /// <returns> A collection of <see cref="ReservationSummary" /> that may take multiple service requests to iterate over. </returns>
        public virtual Pageable<ReservationSummary> GetReservationsSummariesByReservationOrder(string reservationOrderId, Datagrain grain, string filter = null, CancellationToken cancellationToken = default)
        {
            Page<ReservationSummary> FirstPageFunc(int? pageSizeHint)
            {
                using var scope = ReservationsSummariesClientDiagnostics.CreateScope("TenantResourceExtensionClient.GetReservationsSummariesByReservationOrder");
                scope.Start();
                try
                {
                    var response = ReservationsSummariesRestClient.ListByReservationOrder(reservationOrderId, grain, filter, cancellationToken: cancellationToken);
                    return Page.FromValues(response.Value.Value, response.Value.NextLink, response.GetRawResponse());
                }
                catch (Exception e)
                {
                    scope.Failed(e);
                    throw;
                }
            }
            Page<ReservationSummary> NextPageFunc(string nextLink, int? pageSizeHint)
            {
                using var scope = ReservationsSummariesClientDiagnostics.CreateScope("TenantResourceExtensionClient.GetReservationsSummariesByReservationOrder");
                scope.Start();
                try
                {
                    var response = ReservationsSummariesRestClient.ListByReservationOrderNextPage(nextLink, reservationOrderId, grain, filter, cancellationToken: cancellationToken);
                    return Page.FromValues(response.Value.Value, response.Value.NextLink, response.GetRawResponse());
                }
                catch (Exception e)
                {
                    scope.Failed(e);
                    throw;
                }
            }
            return PageableHelpers.CreateEnumerable(FirstPageFunc, NextPageFunc);
        }

        /// <summary>
        /// Lists the reservations summaries for daily or monthly grain.
        /// Request Path: /providers/Microsoft.Capacity/reservationorders/{reservationOrderId}/reservations/{reservationId}/providers/Microsoft.Consumption/reservationSummaries
        /// Operation Id: ReservationsSummaries_ListByReservationOrderAndReservation
        /// </summary>
        /// <param name="reservationOrderId"> Order Id of the reservation. </param>
        /// <param name="reservationId"> Id of the reservation. </param>
        /// <param name="grain"> Can be daily or monthly. </param>
        /// <param name="filter"> Required only for daily grain. The properties/UsageDate for start date and end date. The filter supports &apos;le&apos; and  &apos;ge&apos;. </param>
        /// <param name="cancellationToken"> The cancellation token to use. </param>
        /// <returns> An async collection of <see cref="ReservationSummary" /> that may take multiple service requests to iterate over. </returns>
        public virtual AsyncPageable<ReservationSummary> GetReservationsSummariesByReservationOrderAndReservationAsync(string reservationOrderId, string reservationId, Datagrain grain, string filter = null, CancellationToken cancellationToken = default)
        {
            async Task<Page<ReservationSummary>> FirstPageFunc(int? pageSizeHint)
            {
                using var scope = ReservationsSummariesClientDiagnostics.CreateScope("TenantResourceExtensionClient.GetReservationsSummariesByReservationOrderAndReservation");
                scope.Start();
                try
                {
                    var response = await ReservationsSummariesRestClient.ListByReservationOrderAndReservationAsync(reservationOrderId, reservationId, grain, filter, cancellationToken: cancellationToken).ConfigureAwait(false);
                    return Page.FromValues(response.Value.Value, response.Value.NextLink, response.GetRawResponse());
                }
                catch (Exception e)
                {
                    scope.Failed(e);
                    throw;
                }
            }
            async Task<Page<ReservationSummary>> NextPageFunc(string nextLink, int? pageSizeHint)
            {
                using var scope = ReservationsSummariesClientDiagnostics.CreateScope("TenantResourceExtensionClient.GetReservationsSummariesByReservationOrderAndReservation");
                scope.Start();
                try
                {
                    var response = await ReservationsSummariesRestClient.ListByReservationOrderAndReservationNextPageAsync(nextLink, reservationOrderId, reservationId, grain, filter, cancellationToken: cancellationToken).ConfigureAwait(false);
                    return Page.FromValues(response.Value.Value, response.Value.NextLink, response.GetRawResponse());
                }
                catch (Exception e)
                {
                    scope.Failed(e);
                    throw;
                }
            }
            return PageableHelpers.CreateAsyncEnumerable(FirstPageFunc, NextPageFunc);
        }

        /// <summary>
        /// Lists the reservations summaries for daily or monthly grain.
        /// Request Path: /providers/Microsoft.Capacity/reservationorders/{reservationOrderId}/reservations/{reservationId}/providers/Microsoft.Consumption/reservationSummaries
        /// Operation Id: ReservationsSummaries_ListByReservationOrderAndReservation
        /// </summary>
        /// <param name="reservationOrderId"> Order Id of the reservation. </param>
        /// <param name="reservationId"> Id of the reservation. </param>
        /// <param name="grain"> Can be daily or monthly. </param>
        /// <param name="filter"> Required only for daily grain. The properties/UsageDate for start date and end date. The filter supports &apos;le&apos; and  &apos;ge&apos;. </param>
        /// <param name="cancellationToken"> The cancellation token to use. </param>
        /// <returns> A collection of <see cref="ReservationSummary" /> that may take multiple service requests to iterate over. </returns>
        public virtual Pageable<ReservationSummary> GetReservationsSummariesByReservationOrderAndReservation(string reservationOrderId, string reservationId, Datagrain grain, string filter = null, CancellationToken cancellationToken = default)
        {
            Page<ReservationSummary> FirstPageFunc(int? pageSizeHint)
            {
                using var scope = ReservationsSummariesClientDiagnostics.CreateScope("TenantResourceExtensionClient.GetReservationsSummariesByReservationOrderAndReservation");
                scope.Start();
                try
                {
                    var response = ReservationsSummariesRestClient.ListByReservationOrderAndReservation(reservationOrderId, reservationId, grain, filter, cancellationToken: cancellationToken);
                    return Page.FromValues(response.Value.Value, response.Value.NextLink, response.GetRawResponse());
                }
                catch (Exception e)
                {
                    scope.Failed(e);
                    throw;
                }
            }
            Page<ReservationSummary> NextPageFunc(string nextLink, int? pageSizeHint)
            {
                using var scope = ReservationsSummariesClientDiagnostics.CreateScope("TenantResourceExtensionClient.GetReservationsSummariesByReservationOrderAndReservation");
                scope.Start();
                try
                {
                    var response = ReservationsSummariesRestClient.ListByReservationOrderAndReservationNextPage(nextLink, reservationOrderId, reservationId, grain, filter, cancellationToken: cancellationToken);
                    return Page.FromValues(response.Value.Value, response.Value.NextLink, response.GetRawResponse());
                }
                catch (Exception e)
                {
                    scope.Failed(e);
                    throw;
                }
            }
            return PageableHelpers.CreateEnumerable(FirstPageFunc, NextPageFunc);
        }

        /// <summary>
        /// Lists the reservations details for provided date range. Note: ARM has a payload size limit of 12MB, so currently callers get 502 when the response size exceeds the ARM limit. In such cases, API call should be made with smaller date ranges.
        /// Request Path: /providers/Microsoft.Capacity/reservationorders/{reservationOrderId}/providers/Microsoft.Consumption/reservationDetails
        /// Operation Id: ReservationsDetails_ListByReservationOrder
        /// </summary>
        /// <param name="reservationOrderId"> Order Id of the reservation. </param>
        /// <param name="filter"> Filter reservation details by date range. The properties/UsageDate for start date and end date. The filter supports &apos;le&apos; and  &apos;ge&apos;. </param>
        /// <param name="cancellationToken"> The cancellation token to use. </param>
        /// <returns> An async collection of <see cref="ReservationDetail" /> that may take multiple service requests to iterate over. </returns>
        public virtual AsyncPageable<ReservationDetail> GetReservationsDetailsByReservationOrderAsync(string reservationOrderId, string filter, CancellationToken cancellationToken = default)
        {
            async Task<Page<ReservationDetail>> FirstPageFunc(int? pageSizeHint)
            {
                using var scope = ReservationsDetailsClientDiagnostics.CreateScope("TenantResourceExtensionClient.GetReservationsDetailsByReservationOrder");
                scope.Start();
                try
                {
                    var response = await ReservationsDetailsRestClient.ListByReservationOrderAsync(reservationOrderId, filter, cancellationToken: cancellationToken).ConfigureAwait(false);
                    return Page.FromValues(response.Value.Value, response.Value.NextLink, response.GetRawResponse());
                }
                catch (Exception e)
                {
                    scope.Failed(e);
                    throw;
                }
            }
            async Task<Page<ReservationDetail>> NextPageFunc(string nextLink, int? pageSizeHint)
            {
                using var scope = ReservationsDetailsClientDiagnostics.CreateScope("TenantResourceExtensionClient.GetReservationsDetailsByReservationOrder");
                scope.Start();
                try
                {
                    var response = await ReservationsDetailsRestClient.ListByReservationOrderNextPageAsync(nextLink, reservationOrderId, filter, cancellationToken: cancellationToken).ConfigureAwait(false);
                    return Page.FromValues(response.Value.Value, response.Value.NextLink, response.GetRawResponse());
                }
                catch (Exception e)
                {
                    scope.Failed(e);
                    throw;
                }
            }
            return PageableHelpers.CreateAsyncEnumerable(FirstPageFunc, NextPageFunc);
        }

        /// <summary>
        /// Lists the reservations details for provided date range. Note: ARM has a payload size limit of 12MB, so currently callers get 502 when the response size exceeds the ARM limit. In such cases, API call should be made with smaller date ranges.
        /// Request Path: /providers/Microsoft.Capacity/reservationorders/{reservationOrderId}/providers/Microsoft.Consumption/reservationDetails
        /// Operation Id: ReservationsDetails_ListByReservationOrder
        /// </summary>
        /// <param name="reservationOrderId"> Order Id of the reservation. </param>
        /// <param name="filter"> Filter reservation details by date range. The properties/UsageDate for start date and end date. The filter supports &apos;le&apos; and  &apos;ge&apos;. </param>
        /// <param name="cancellationToken"> The cancellation token to use. </param>
        /// <returns> A collection of <see cref="ReservationDetail" /> that may take multiple service requests to iterate over. </returns>
        public virtual Pageable<ReservationDetail> GetReservationsDetailsByReservationOrder(string reservationOrderId, string filter, CancellationToken cancellationToken = default)
        {
            Page<ReservationDetail> FirstPageFunc(int? pageSizeHint)
            {
                using var scope = ReservationsDetailsClientDiagnostics.CreateScope("TenantResourceExtensionClient.GetReservationsDetailsByReservationOrder");
                scope.Start();
                try
                {
                    var response = ReservationsDetailsRestClient.ListByReservationOrder(reservationOrderId, filter, cancellationToken: cancellationToken);
                    return Page.FromValues(response.Value.Value, response.Value.NextLink, response.GetRawResponse());
                }
                catch (Exception e)
                {
                    scope.Failed(e);
                    throw;
                }
            }
            Page<ReservationDetail> NextPageFunc(string nextLink, int? pageSizeHint)
            {
                using var scope = ReservationsDetailsClientDiagnostics.CreateScope("TenantResourceExtensionClient.GetReservationsDetailsByReservationOrder");
                scope.Start();
                try
                {
                    var response = ReservationsDetailsRestClient.ListByReservationOrderNextPage(nextLink, reservationOrderId, filter, cancellationToken: cancellationToken);
                    return Page.FromValues(response.Value.Value, response.Value.NextLink, response.GetRawResponse());
                }
                catch (Exception e)
                {
                    scope.Failed(e);
                    throw;
                }
            }
            return PageableHelpers.CreateEnumerable(FirstPageFunc, NextPageFunc);
        }

        /// <summary>
        /// Lists the reservations details for provided date range. Note: ARM has a payload size limit of 12MB, so currently callers get 502 when the response size exceeds the ARM limit. In such cases, API call should be made with smaller date ranges.
        /// Request Path: /providers/Microsoft.Capacity/reservationorders/{reservationOrderId}/reservations/{reservationId}/providers/Microsoft.Consumption/reservationDetails
        /// Operation Id: ReservationsDetails_ListByReservationOrderAndReservation
        /// </summary>
        /// <param name="reservationOrderId"> Order Id of the reservation. </param>
        /// <param name="reservationId"> Id of the reservation. </param>
        /// <param name="filter"> Filter reservation details by date range. The properties/UsageDate for start date and end date. The filter supports &apos;le&apos; and  &apos;ge&apos;. </param>
        /// <param name="cancellationToken"> The cancellation token to use. </param>
        /// <returns> An async collection of <see cref="ReservationDetail" /> that may take multiple service requests to iterate over. </returns>
        public virtual AsyncPageable<ReservationDetail> GetReservationsDetailsByReservationOrderAndReservationAsync(string reservationOrderId, string reservationId, string filter, CancellationToken cancellationToken = default)
        {
            async Task<Page<ReservationDetail>> FirstPageFunc(int? pageSizeHint)
            {
                using var scope = ReservationsDetailsClientDiagnostics.CreateScope("TenantResourceExtensionClient.GetReservationsDetailsByReservationOrderAndReservation");
                scope.Start();
                try
                {
                    var response = await ReservationsDetailsRestClient.ListByReservationOrderAndReservationAsync(reservationOrderId, reservationId, filter, cancellationToken: cancellationToken).ConfigureAwait(false);
                    return Page.FromValues(response.Value.Value, response.Value.NextLink, response.GetRawResponse());
                }
                catch (Exception e)
                {
                    scope.Failed(e);
                    throw;
                }
            }
            async Task<Page<ReservationDetail>> NextPageFunc(string nextLink, int? pageSizeHint)
            {
                using var scope = ReservationsDetailsClientDiagnostics.CreateScope("TenantResourceExtensionClient.GetReservationsDetailsByReservationOrderAndReservation");
                scope.Start();
                try
                {
                    var response = await ReservationsDetailsRestClient.ListByReservationOrderAndReservationNextPageAsync(nextLink, reservationOrderId, reservationId, filter, cancellationToken: cancellationToken).ConfigureAwait(false);
                    return Page.FromValues(response.Value.Value, response.Value.NextLink, response.GetRawResponse());
                }
                catch (Exception e)
                {
                    scope.Failed(e);
                    throw;
                }
            }
            return PageableHelpers.CreateAsyncEnumerable(FirstPageFunc, NextPageFunc);
        }

        /// <summary>
        /// Lists the reservations details for provided date range. Note: ARM has a payload size limit of 12MB, so currently callers get 502 when the response size exceeds the ARM limit. In such cases, API call should be made with smaller date ranges.
        /// Request Path: /providers/Microsoft.Capacity/reservationorders/{reservationOrderId}/reservations/{reservationId}/providers/Microsoft.Consumption/reservationDetails
        /// Operation Id: ReservationsDetails_ListByReservationOrderAndReservation
        /// </summary>
        /// <param name="reservationOrderId"> Order Id of the reservation. </param>
        /// <param name="reservationId"> Id of the reservation. </param>
        /// <param name="filter"> Filter reservation details by date range. The properties/UsageDate for start date and end date. The filter supports &apos;le&apos; and  &apos;ge&apos;. </param>
        /// <param name="cancellationToken"> The cancellation token to use. </param>
        /// <returns> A collection of <see cref="ReservationDetail" /> that may take multiple service requests to iterate over. </returns>
        public virtual Pageable<ReservationDetail> GetReservationsDetailsByReservationOrderAndReservation(string reservationOrderId, string reservationId, string filter, CancellationToken cancellationToken = default)
        {
            Page<ReservationDetail> FirstPageFunc(int? pageSizeHint)
            {
                using var scope = ReservationsDetailsClientDiagnostics.CreateScope("TenantResourceExtensionClient.GetReservationsDetailsByReservationOrderAndReservation");
                scope.Start();
                try
                {
                    var response = ReservationsDetailsRestClient.ListByReservationOrderAndReservation(reservationOrderId, reservationId, filter, cancellationToken: cancellationToken);
                    return Page.FromValues(response.Value.Value, response.Value.NextLink, response.GetRawResponse());
                }
                catch (Exception e)
                {
                    scope.Failed(e);
                    throw;
                }
            }
            Page<ReservationDetail> NextPageFunc(string nextLink, int? pageSizeHint)
            {
                using var scope = ReservationsDetailsClientDiagnostics.CreateScope("TenantResourceExtensionClient.GetReservationsDetailsByReservationOrderAndReservation");
                scope.Start();
                try
                {
                    var response = ReservationsDetailsRestClient.ListByReservationOrderAndReservationNextPage(nextLink, reservationOrderId, reservationId, filter, cancellationToken: cancellationToken);
                    return Page.FromValues(response.Value.Value, response.Value.NextLink, response.GetRawResponse());
                }
                catch (Exception e)
                {
                    scope.Failed(e);
                    throw;
                }
            }
            return PageableHelpers.CreateEnumerable(FirstPageFunc, NextPageFunc);
        }

        /// <summary>
        /// List of transactions for reserved instances on billing account scope. Note: The refund transactions are posted along with its purchase transaction (i.e. in the purchase billing month). For example, The refund is requested in May 2021. This refund transaction will have event date as May 2021 but the billing month as April 2020 when the reservation purchase was made.
        /// Request Path: /providers/Microsoft.Billing/billingAccounts/{billingAccountId}/providers/Microsoft.Consumption/reservationTransactions
        /// Operation Id: ReservationTransactions_List
        /// </summary>
        /// <param name="billingAccountId"> BillingAccount ID. </param>
        /// <param name="filter"> Filter reservation transactions by date range. The properties/EventDate for start date and end date. The filter supports &apos;le&apos; and  &apos;ge&apos;. Note: API returns data for the entire start date&apos;s and end date&apos;s billing month. For example, filter properties/eventDate+ge+2020-01-01+AND+properties/eventDate+le+2020-12-29 will include data for the entire December 2020 month (i.e. will contain records for dates December 30 and 31). </param>
        /// <param name="cancellationToken"> The cancellation token to use. </param>
        /// <returns> An async collection of <see cref="ReservationTransaction" /> that may take multiple service requests to iterate over. </returns>
        public virtual AsyncPageable<ReservationTransaction> GetReservationTransactionsAsync(string billingAccountId, string filter = null, CancellationToken cancellationToken = default)
        {
            async Task<Page<ReservationTransaction>> FirstPageFunc(int? pageSizeHint)
            {
                using var scope = ReservationTransactionsClientDiagnostics.CreateScope("TenantResourceExtensionClient.GetReservationTransactions");
                scope.Start();
                try
                {
                    var response = await ReservationTransactionsRestClient.ListAsync(billingAccountId, filter, cancellationToken: cancellationToken).ConfigureAwait(false);
                    return Page.FromValues(response.Value.Value, response.Value.NextLink, response.GetRawResponse());
                }
                catch (Exception e)
                {
                    scope.Failed(e);
                    throw;
                }
            }
            async Task<Page<ReservationTransaction>> NextPageFunc(string nextLink, int? pageSizeHint)
            {
                using var scope = ReservationTransactionsClientDiagnostics.CreateScope("TenantResourceExtensionClient.GetReservationTransactions");
                scope.Start();
                try
                {
                    var response = await ReservationTransactionsRestClient.ListNextPageAsync(nextLink, billingAccountId, filter, cancellationToken: cancellationToken).ConfigureAwait(false);
                    return Page.FromValues(response.Value.Value, response.Value.NextLink, response.GetRawResponse());
                }
                catch (Exception e)
                {
                    scope.Failed(e);
                    throw;
                }
            }
            return PageableHelpers.CreateAsyncEnumerable(FirstPageFunc, NextPageFunc);
        }

        /// <summary>
        /// List of transactions for reserved instances on billing account scope. Note: The refund transactions are posted along with its purchase transaction (i.e. in the purchase billing month). For example, The refund is requested in May 2021. This refund transaction will have event date as May 2021 but the billing month as April 2020 when the reservation purchase was made.
        /// Request Path: /providers/Microsoft.Billing/billingAccounts/{billingAccountId}/providers/Microsoft.Consumption/reservationTransactions
        /// Operation Id: ReservationTransactions_List
        /// </summary>
        /// <param name="billingAccountId"> BillingAccount ID. </param>
        /// <param name="filter"> Filter reservation transactions by date range. The properties/EventDate for start date and end date. The filter supports &apos;le&apos; and  &apos;ge&apos;. Note: API returns data for the entire start date&apos;s and end date&apos;s billing month. For example, filter properties/eventDate+ge+2020-01-01+AND+properties/eventDate+le+2020-12-29 will include data for the entire December 2020 month (i.e. will contain records for dates December 30 and 31). </param>
        /// <param name="cancellationToken"> The cancellation token to use. </param>
        /// <returns> A collection of <see cref="ReservationTransaction" /> that may take multiple service requests to iterate over. </returns>
        public virtual Pageable<ReservationTransaction> GetReservationTransactions(string billingAccountId, string filter = null, CancellationToken cancellationToken = default)
        {
            Page<ReservationTransaction> FirstPageFunc(int? pageSizeHint)
            {
                using var scope = ReservationTransactionsClientDiagnostics.CreateScope("TenantResourceExtensionClient.GetReservationTransactions");
                scope.Start();
                try
                {
                    var response = ReservationTransactionsRestClient.List(billingAccountId, filter, cancellationToken: cancellationToken);
                    return Page.FromValues(response.Value.Value, response.Value.NextLink, response.GetRawResponse());
                }
                catch (Exception e)
                {
                    scope.Failed(e);
                    throw;
                }
            }
            Page<ReservationTransaction> NextPageFunc(string nextLink, int? pageSizeHint)
            {
                using var scope = ReservationTransactionsClientDiagnostics.CreateScope("TenantResourceExtensionClient.GetReservationTransactions");
                scope.Start();
                try
                {
                    var response = ReservationTransactionsRestClient.ListNextPage(nextLink, billingAccountId, filter, cancellationToken: cancellationToken);
                    return Page.FromValues(response.Value.Value, response.Value.NextLink, response.GetRawResponse());
                }
                catch (Exception e)
                {
                    scope.Failed(e);
                    throw;
                }
            }
            return PageableHelpers.CreateEnumerable(FirstPageFunc, NextPageFunc);
        }

        /// <summary>
        /// List of transactions for reserved instances on billing profile scope. The refund transactions are posted along with its purchase transaction (i.e. in the purchase billing month). For example, The refund is requested in May 2021. This refund transaction will have event date as May 2021 but the billing month as April 2020 when the reservation purchase was made.
        /// Request Path: /providers/Microsoft.Billing/billingAccounts/{billingAccountId}/billingProfiles/{billingProfileId}/providers/Microsoft.Consumption/reservationTransactions
        /// Operation Id: ReservationTransactions_ListByBillingProfile
        /// </summary>
        /// <param name="billingAccountId"> BillingAccount ID. </param>
        /// <param name="billingProfileId"> Azure Billing Profile ID. </param>
        /// <param name="filter"> Filter reservation transactions by date range. The properties/EventDate for start date and end date. The filter supports &apos;le&apos; and  &apos;ge&apos;. Note: API returns data for the entire start date&apos;s and end date&apos;s billing month. For example, filter properties/eventDate+ge+2020-01-01+AND+properties/eventDate+le+2020-12-29 will include data for entire December 2020 month (i.e. will contain records for dates December 30 and 31). </param>
        /// <param name="cancellationToken"> The cancellation token to use. </param>
        /// <returns> An async collection of <see cref="ModernReservationTransaction" /> that may take multiple service requests to iterate over. </returns>
        public virtual AsyncPageable<ModernReservationTransaction> GetReservationTransactionsByBillingProfileAsync(string billingAccountId, string billingProfileId, string filter = null, CancellationToken cancellationToken = default)
        {
            async Task<Page<ModernReservationTransaction>> FirstPageFunc(int? pageSizeHint)
            {
                using var scope = ReservationTransactionsClientDiagnostics.CreateScope("TenantResourceExtensionClient.GetReservationTransactionsByBillingProfile");
                scope.Start();
                try
                {
                    var response = await ReservationTransactionsRestClient.ListByBillingProfileAsync(billingAccountId, billingProfileId, filter, cancellationToken: cancellationToken).ConfigureAwait(false);
                    return Page.FromValues(response.Value.Value, response.Value.NextLink, response.GetRawResponse());
                }
                catch (Exception e)
                {
                    scope.Failed(e);
                    throw;
                }
            }
            async Task<Page<ModernReservationTransaction>> NextPageFunc(string nextLink, int? pageSizeHint)
            {
                using var scope = ReservationTransactionsClientDiagnostics.CreateScope("TenantResourceExtensionClient.GetReservationTransactionsByBillingProfile");
                scope.Start();
                try
                {
                    var response = await ReservationTransactionsRestClient.ListByBillingProfileNextPageAsync(nextLink, billingAccountId, billingProfileId, filter, cancellationToken: cancellationToken).ConfigureAwait(false);
                    return Page.FromValues(response.Value.Value, response.Value.NextLink, response.GetRawResponse());
                }
                catch (Exception e)
                {
                    scope.Failed(e);
                    throw;
                }
            }
            return PageableHelpers.CreateAsyncEnumerable(FirstPageFunc, NextPageFunc);
        }

        /// <summary>
        /// List of transactions for reserved instances on billing profile scope. The refund transactions are posted along with its purchase transaction (i.e. in the purchase billing month). For example, The refund is requested in May 2021. This refund transaction will have event date as May 2021 but the billing month as April 2020 when the reservation purchase was made.
        /// Request Path: /providers/Microsoft.Billing/billingAccounts/{billingAccountId}/billingProfiles/{billingProfileId}/providers/Microsoft.Consumption/reservationTransactions
        /// Operation Id: ReservationTransactions_ListByBillingProfile
        /// </summary>
        /// <param name="billingAccountId"> BillingAccount ID. </param>
        /// <param name="billingProfileId"> Azure Billing Profile ID. </param>
        /// <param name="filter"> Filter reservation transactions by date range. The properties/EventDate for start date and end date. The filter supports &apos;le&apos; and  &apos;ge&apos;. Note: API returns data for the entire start date&apos;s and end date&apos;s billing month. For example, filter properties/eventDate+ge+2020-01-01+AND+properties/eventDate+le+2020-12-29 will include data for entire December 2020 month (i.e. will contain records for dates December 30 and 31). </param>
        /// <param name="cancellationToken"> The cancellation token to use. </param>
        /// <returns> A collection of <see cref="ModernReservationTransaction" /> that may take multiple service requests to iterate over. </returns>
        public virtual Pageable<ModernReservationTransaction> GetReservationTransactionsByBillingProfile(string billingAccountId, string billingProfileId, string filter = null, CancellationToken cancellationToken = default)
        {
            Page<ModernReservationTransaction> FirstPageFunc(int? pageSizeHint)
            {
                using var scope = ReservationTransactionsClientDiagnostics.CreateScope("TenantResourceExtensionClient.GetReservationTransactionsByBillingProfile");
                scope.Start();
                try
                {
                    var response = ReservationTransactionsRestClient.ListByBillingProfile(billingAccountId, billingProfileId, filter, cancellationToken: cancellationToken);
                    return Page.FromValues(response.Value.Value, response.Value.NextLink, response.GetRawResponse());
                }
                catch (Exception e)
                {
                    scope.Failed(e);
                    throw;
                }
            }
            Page<ModernReservationTransaction> NextPageFunc(string nextLink, int? pageSizeHint)
            {
                using var scope = ReservationTransactionsClientDiagnostics.CreateScope("TenantResourceExtensionClient.GetReservationTransactionsByBillingProfile");
                scope.Start();
                try
                {
                    var response = ReservationTransactionsRestClient.ListByBillingProfileNextPage(nextLink, billingAccountId, billingProfileId, filter, cancellationToken: cancellationToken);
                    return Page.FromValues(response.Value.Value, response.Value.NextLink, response.GetRawResponse());
                }
                catch (Exception e)
                {
                    scope.Failed(e);
                    throw;
                }
            }
            return PageableHelpers.CreateEnumerable(FirstPageFunc, NextPageFunc);
        }

        /// <summary>
        /// Lists the events that decrements Azure credits or Microsoft Azure consumption commitment for a billing account or a billing profile for a given start and end date.
        /// Request Path: /providers/Microsoft.Billing/billingAccounts/{billingAccountId}/billingProfiles/{billingProfileId}/providers/Microsoft.Consumption/events
        /// Operation Id: Events_ListByBillingProfile
        /// </summary>
        /// <param name="billingAccountId"> BillingAccount ID. </param>
        /// <param name="billingProfileId"> Azure Billing Profile ID. </param>
        /// <param name="startDate"> Start date. </param>
        /// <param name="endDate"> End date. </param>
        /// <param name="cancellationToken"> The cancellation token to use. </param>
        /// <returns> An async collection of <see cref="EventSummary" /> that may take multiple service requests to iterate over. </returns>
        public virtual AsyncPageable<EventSummary> GetEventsByBillingProfileAsync(string billingAccountId, string billingProfileId, string startDate, string endDate, CancellationToken cancellationToken = default)
        {
            async Task<Page<EventSummary>> FirstPageFunc(int? pageSizeHint)
            {
                using var scope = EventsClientDiagnostics.CreateScope("TenantResourceExtensionClient.GetEventsByBillingProfile");
                scope.Start();
                try
                {
                    var response = await EventsRestClient.ListByBillingProfileAsync(billingAccountId, billingProfileId, startDate, endDate, cancellationToken: cancellationToken).ConfigureAwait(false);
                    return Page.FromValues(response.Value.Value, response.Value.NextLink, response.GetRawResponse());
                }
                catch (Exception e)
                {
                    scope.Failed(e);
                    throw;
                }
            }
            async Task<Page<EventSummary>> NextPageFunc(string nextLink, int? pageSizeHint)
            {
                using var scope = EventsClientDiagnostics.CreateScope("TenantResourceExtensionClient.GetEventsByBillingProfile");
                scope.Start();
                try
                {
                    var response = await EventsRestClient.ListByBillingProfileNextPageAsync(nextLink, billingAccountId, billingProfileId, startDate, endDate, cancellationToken: cancellationToken).ConfigureAwait(false);
                    return Page.FromValues(response.Value.Value, response.Value.NextLink, response.GetRawResponse());
                }
                catch (Exception e)
                {
                    scope.Failed(e);
                    throw;
                }
            }
            return PageableHelpers.CreateAsyncEnumerable(FirstPageFunc, NextPageFunc);
        }

        /// <summary>
        /// Lists the events that decrements Azure credits or Microsoft Azure consumption commitment for a billing account or a billing profile for a given start and end date.
        /// Request Path: /providers/Microsoft.Billing/billingAccounts/{billingAccountId}/billingProfiles/{billingProfileId}/providers/Microsoft.Consumption/events
        /// Operation Id: Events_ListByBillingProfile
        /// </summary>
        /// <param name="billingAccountId"> BillingAccount ID. </param>
        /// <param name="billingProfileId"> Azure Billing Profile ID. </param>
        /// <param name="startDate"> Start date. </param>
        /// <param name="endDate"> End date. </param>
        /// <param name="cancellationToken"> The cancellation token to use. </param>
        /// <returns> A collection of <see cref="EventSummary" /> that may take multiple service requests to iterate over. </returns>
        public virtual Pageable<EventSummary> GetEventsByBillingProfile(string billingAccountId, string billingProfileId, string startDate, string endDate, CancellationToken cancellationToken = default)
        {
            Page<EventSummary> FirstPageFunc(int? pageSizeHint)
            {
                using var scope = EventsClientDiagnostics.CreateScope("TenantResourceExtensionClient.GetEventsByBillingProfile");
                scope.Start();
                try
                {
                    var response = EventsRestClient.ListByBillingProfile(billingAccountId, billingProfileId, startDate, endDate, cancellationToken: cancellationToken);
                    return Page.FromValues(response.Value.Value, response.Value.NextLink, response.GetRawResponse());
                }
                catch (Exception e)
                {
                    scope.Failed(e);
                    throw;
                }
            }
            Page<EventSummary> NextPageFunc(string nextLink, int? pageSizeHint)
            {
                using var scope = EventsClientDiagnostics.CreateScope("TenantResourceExtensionClient.GetEventsByBillingProfile");
                scope.Start();
                try
                {
                    var response = EventsRestClient.ListByBillingProfileNextPage(nextLink, billingAccountId, billingProfileId, startDate, endDate, cancellationToken: cancellationToken);
                    return Page.FromValues(response.Value.Value, response.Value.NextLink, response.GetRawResponse());
                }
                catch (Exception e)
                {
                    scope.Failed(e);
                    throw;
                }
            }
            return PageableHelpers.CreateEnumerable(FirstPageFunc, NextPageFunc);
        }

        /// <summary>
        /// Lists the events that decrements Azure credits or Microsoft Azure consumption commitment for a billing account or a billing profile for a given start and end date.
        /// Request Path: /providers/Microsoft.Billing/billingAccounts/{billingAccountId}/providers/Microsoft.Consumption/events
        /// Operation Id: Events_ListByBillingAccount
        /// </summary>
        /// <param name="billingAccountId"> BillingAccount ID. </param>
        /// <param name="filter"> May be used to filter the events by lotId, lotSource etc. The filter supports &apos;eq&apos;, &apos;lt&apos;, &apos;gt&apos;, &apos;le&apos;, &apos;ge&apos;, and &apos;and&apos;. It does not currently support &apos;ne&apos;, &apos;or&apos;, or &apos;not&apos;. Tag filter is a key value pair string where key and value is separated by a colon (:). </param>
        /// <param name="cancellationToken"> The cancellation token to use. </param>
        /// <returns> An async collection of <see cref="EventSummary" /> that may take multiple service requests to iterate over. </returns>
        public virtual AsyncPageable<EventSummary> GetEventsByBillingAccountAsync(string billingAccountId, string filter = null, CancellationToken cancellationToken = default)
        {
            async Task<Page<EventSummary>> FirstPageFunc(int? pageSizeHint)
            {
                using var scope = EventsClientDiagnostics.CreateScope("TenantResourceExtensionClient.GetEventsByBillingAccount");
                scope.Start();
                try
                {
                    var response = await EventsRestClient.ListByBillingAccountAsync(billingAccountId, filter, cancellationToken: cancellationToken).ConfigureAwait(false);
                    return Page.FromValues(response.Value.Value, response.Value.NextLink, response.GetRawResponse());
                }
                catch (Exception e)
                {
                    scope.Failed(e);
                    throw;
                }
            }
            async Task<Page<EventSummary>> NextPageFunc(string nextLink, int? pageSizeHint)
            {
                using var scope = EventsClientDiagnostics.CreateScope("TenantResourceExtensionClient.GetEventsByBillingAccount");
                scope.Start();
                try
                {
                    var response = await EventsRestClient.ListByBillingAccountNextPageAsync(nextLink, billingAccountId, filter, cancellationToken: cancellationToken).ConfigureAwait(false);
                    return Page.FromValues(response.Value.Value, response.Value.NextLink, response.GetRawResponse());
                }
                catch (Exception e)
                {
                    scope.Failed(e);
                    throw;
                }
            }
            return PageableHelpers.CreateAsyncEnumerable(FirstPageFunc, NextPageFunc);
        }

        /// <summary>
        /// Lists the events that decrements Azure credits or Microsoft Azure consumption commitment for a billing account or a billing profile for a given start and end date.
        /// Request Path: /providers/Microsoft.Billing/billingAccounts/{billingAccountId}/providers/Microsoft.Consumption/events
        /// Operation Id: Events_ListByBillingAccount
        /// </summary>
        /// <param name="billingAccountId"> BillingAccount ID. </param>
        /// <param name="filter"> May be used to filter the events by lotId, lotSource etc. The filter supports &apos;eq&apos;, &apos;lt&apos;, &apos;gt&apos;, &apos;le&apos;, &apos;ge&apos;, and &apos;and&apos;. It does not currently support &apos;ne&apos;, &apos;or&apos;, or &apos;not&apos;. Tag filter is a key value pair string where key and value is separated by a colon (:). </param>
        /// <param name="cancellationToken"> The cancellation token to use. </param>
        /// <returns> A collection of <see cref="EventSummary" /> that may take multiple service requests to iterate over. </returns>
        public virtual Pageable<EventSummary> GetEventsByBillingAccount(string billingAccountId, string filter = null, CancellationToken cancellationToken = default)
        {
            Page<EventSummary> FirstPageFunc(int? pageSizeHint)
            {
                using var scope = EventsClientDiagnostics.CreateScope("TenantResourceExtensionClient.GetEventsByBillingAccount");
                scope.Start();
                try
                {
                    var response = EventsRestClient.ListByBillingAccount(billingAccountId, filter, cancellationToken: cancellationToken);
                    return Page.FromValues(response.Value.Value, response.Value.NextLink, response.GetRawResponse());
                }
                catch (Exception e)
                {
                    scope.Failed(e);
                    throw;
                }
            }
            Page<EventSummary> NextPageFunc(string nextLink, int? pageSizeHint)
            {
                using var scope = EventsClientDiagnostics.CreateScope("TenantResourceExtensionClient.GetEventsByBillingAccount");
                scope.Start();
                try
                {
                    var response = EventsRestClient.ListByBillingAccountNextPage(nextLink, billingAccountId, filter, cancellationToken: cancellationToken);
                    return Page.FromValues(response.Value.Value, response.Value.NextLink, response.GetRawResponse());
                }
                catch (Exception e)
                {
                    scope.Failed(e);
                    throw;
                }
            }
            return PageableHelpers.CreateEnumerable(FirstPageFunc, NextPageFunc);
        }

        /// <summary>
        /// Lists all Azure credits for a billing account or a billing profile. The API is only supported for Microsoft Customer Agreements (MCA) billing accounts.
        /// Request Path: /providers/Microsoft.Billing/billingAccounts/{billingAccountId}/billingProfiles/{billingProfileId}/providers/Microsoft.Consumption/lots
        /// Operation Id: Lots_ListByBillingProfile
        /// </summary>
        /// <param name="billingAccountId"> BillingAccount ID. </param>
        /// <param name="billingProfileId"> Azure Billing Profile ID. </param>
        /// <param name="cancellationToken"> The cancellation token to use. </param>
        /// <returns> An async collection of <see cref="LotSummary" /> that may take multiple service requests to iterate over. </returns>
        public virtual AsyncPageable<LotSummary> GetLotsByBillingProfileAsync(string billingAccountId, string billingProfileId, CancellationToken cancellationToken = default)
        {
            async Task<Page<LotSummary>> FirstPageFunc(int? pageSizeHint)
            {
                using var scope = LotsClientDiagnostics.CreateScope("TenantResourceExtensionClient.GetLotsByBillingProfile");
                scope.Start();
                try
                {
                    var response = await LotsRestClient.ListByBillingProfileAsync(billingAccountId, billingProfileId, cancellationToken: cancellationToken).ConfigureAwait(false);
                    return Page.FromValues(response.Value.Value, response.Value.NextLink, response.GetRawResponse());
                }
                catch (Exception e)
                {
                    scope.Failed(e);
                    throw;
                }
            }
            async Task<Page<LotSummary>> NextPageFunc(string nextLink, int? pageSizeHint)
            {
                using var scope = LotsClientDiagnostics.CreateScope("TenantResourceExtensionClient.GetLotsByBillingProfile");
                scope.Start();
                try
                {
                    var response = await LotsRestClient.ListByBillingProfileNextPageAsync(nextLink, billingAccountId, billingProfileId, cancellationToken: cancellationToken).ConfigureAwait(false);
                    return Page.FromValues(response.Value.Value, response.Value.NextLink, response.GetRawResponse());
                }
                catch (Exception e)
                {
                    scope.Failed(e);
                    throw;
                }
            }
            return PageableHelpers.CreateAsyncEnumerable(FirstPageFunc, NextPageFunc);
        }

        /// <summary>
        /// Lists all Azure credits for a billing account or a billing profile. The API is only supported for Microsoft Customer Agreements (MCA) billing accounts.
        /// Request Path: /providers/Microsoft.Billing/billingAccounts/{billingAccountId}/billingProfiles/{billingProfileId}/providers/Microsoft.Consumption/lots
        /// Operation Id: Lots_ListByBillingProfile
        /// </summary>
        /// <param name="billingAccountId"> BillingAccount ID. </param>
        /// <param name="billingProfileId"> Azure Billing Profile ID. </param>
        /// <param name="cancellationToken"> The cancellation token to use. </param>
        /// <returns> A collection of <see cref="LotSummary" /> that may take multiple service requests to iterate over. </returns>
        public virtual Pageable<LotSummary> GetLotsByBillingProfile(string billingAccountId, string billingProfileId, CancellationToken cancellationToken = default)
        {
            Page<LotSummary> FirstPageFunc(int? pageSizeHint)
            {
                using var scope = LotsClientDiagnostics.CreateScope("TenantResourceExtensionClient.GetLotsByBillingProfile");
                scope.Start();
                try
                {
                    var response = LotsRestClient.ListByBillingProfile(billingAccountId, billingProfileId, cancellationToken: cancellationToken);
                    return Page.FromValues(response.Value.Value, response.Value.NextLink, response.GetRawResponse());
                }
                catch (Exception e)
                {
                    scope.Failed(e);
                    throw;
                }
            }
            Page<LotSummary> NextPageFunc(string nextLink, int? pageSizeHint)
            {
                using var scope = LotsClientDiagnostics.CreateScope("TenantResourceExtensionClient.GetLotsByBillingProfile");
                scope.Start();
                try
                {
                    var response = LotsRestClient.ListByBillingProfileNextPage(nextLink, billingAccountId, billingProfileId, cancellationToken: cancellationToken);
                    return Page.FromValues(response.Value.Value, response.Value.NextLink, response.GetRawResponse());
                }
                catch (Exception e)
                {
                    scope.Failed(e);
                    throw;
                }
            }
            return PageableHelpers.CreateEnumerable(FirstPageFunc, NextPageFunc);
        }

        /// <summary>
        /// Lists all Microsoft Azure consumption commitments for a billing account. The API is only supported for Microsoft Customer Agreements (MCA) and Direct Enterprise Agreement (EA)  billing accounts.
        /// Request Path: /providers/Microsoft.Billing/billingAccounts/{billingAccountId}/providers/Microsoft.Consumption/lots
        /// Operation Id: Lots_ListByBillingAccount
        /// </summary>
        /// <param name="billingAccountId"> BillingAccount ID. </param>
        /// <param name="filter"> May be used to filter the lots by Status, Source etc. The filter supports &apos;eq&apos;, &apos;lt&apos;, &apos;gt&apos;, &apos;le&apos;, &apos;ge&apos;, and &apos;and&apos;. It does not currently support &apos;ne&apos;, &apos;or&apos;, or &apos;not&apos;. Tag filter is a key value pair string where key and value is separated by a colon (:). </param>
        /// <param name="cancellationToken"> The cancellation token to use. </param>
        /// <returns> An async collection of <see cref="LotSummary" /> that may take multiple service requests to iterate over. </returns>
        public virtual AsyncPageable<LotSummary> GetLotsByBillingAccountAsync(string billingAccountId, string filter = null, CancellationToken cancellationToken = default)
        {
            async Task<Page<LotSummary>> FirstPageFunc(int? pageSizeHint)
            {
                using var scope = LotsClientDiagnostics.CreateScope("TenantResourceExtensionClient.GetLotsByBillingAccount");
                scope.Start();
                try
                {
                    var response = await LotsRestClient.ListByBillingAccountAsync(billingAccountId, filter, cancellationToken: cancellationToken).ConfigureAwait(false);
                    return Page.FromValues(response.Value.Value, response.Value.NextLink, response.GetRawResponse());
                }
                catch (Exception e)
                {
                    scope.Failed(e);
                    throw;
                }
            }
            async Task<Page<LotSummary>> NextPageFunc(string nextLink, int? pageSizeHint)
            {
                using var scope = LotsClientDiagnostics.CreateScope("TenantResourceExtensionClient.GetLotsByBillingAccount");
                scope.Start();
                try
                {
                    var response = await LotsRestClient.ListByBillingAccountNextPageAsync(nextLink, billingAccountId, filter, cancellationToken: cancellationToken).ConfigureAwait(false);
                    return Page.FromValues(response.Value.Value, response.Value.NextLink, response.GetRawResponse());
                }
                catch (Exception e)
                {
                    scope.Failed(e);
                    throw;
                }
            }
            return PageableHelpers.CreateAsyncEnumerable(FirstPageFunc, NextPageFunc);
        }

        /// <summary>
        /// Lists all Microsoft Azure consumption commitments for a billing account. The API is only supported for Microsoft Customer Agreements (MCA) and Direct Enterprise Agreement (EA)  billing accounts.
        /// Request Path: /providers/Microsoft.Billing/billingAccounts/{billingAccountId}/providers/Microsoft.Consumption/lots
        /// Operation Id: Lots_ListByBillingAccount
        /// </summary>
        /// <param name="billingAccountId"> BillingAccount ID. </param>
        /// <param name="filter"> May be used to filter the lots by Status, Source etc. The filter supports &apos;eq&apos;, &apos;lt&apos;, &apos;gt&apos;, &apos;le&apos;, &apos;ge&apos;, and &apos;and&apos;. It does not currently support &apos;ne&apos;, &apos;or&apos;, or &apos;not&apos;. Tag filter is a key value pair string where key and value is separated by a colon (:). </param>
        /// <param name="cancellationToken"> The cancellation token to use. </param>
        /// <returns> A collection of <see cref="LotSummary" /> that may take multiple service requests to iterate over. </returns>
        public virtual Pageable<LotSummary> GetLotsByBillingAccount(string billingAccountId, string filter = null, CancellationToken cancellationToken = default)
        {
            Page<LotSummary> FirstPageFunc(int? pageSizeHint)
            {
                using var scope = LotsClientDiagnostics.CreateScope("TenantResourceExtensionClient.GetLotsByBillingAccount");
                scope.Start();
                try
                {
                    var response = LotsRestClient.ListByBillingAccount(billingAccountId, filter, cancellationToken: cancellationToken);
                    return Page.FromValues(response.Value.Value, response.Value.NextLink, response.GetRawResponse());
                }
                catch (Exception e)
                {
                    scope.Failed(e);
                    throw;
                }
            }
            Page<LotSummary> NextPageFunc(string nextLink, int? pageSizeHint)
            {
                using var scope = LotsClientDiagnostics.CreateScope("TenantResourceExtensionClient.GetLotsByBillingAccount");
                scope.Start();
                try
                {
                    var response = LotsRestClient.ListByBillingAccountNextPage(nextLink, billingAccountId, filter, cancellationToken: cancellationToken);
                    return Page.FromValues(response.Value.Value, response.Value.NextLink, response.GetRawResponse());
                }
                catch (Exception e)
                {
                    scope.Failed(e);
                    throw;
                }
            }
            return PageableHelpers.CreateEnumerable(FirstPageFunc, NextPageFunc);
        }

        /// <summary>
        /// Lists all Azure credits for a customer. The API is only supported for Microsoft Partner  Agreements (MPA) billing accounts.
        /// Request Path: /providers/Microsoft.Billing/billingAccounts/{billingAccountId}/customers/{customerId}/providers/Microsoft.Consumption/lots
        /// Operation Id: Lots_ListByCustomer
        /// </summary>
        /// <param name="billingAccountId"> BillingAccount ID. </param>
        /// <param name="customerId"> Customer ID. </param>
        /// <param name="filter"> May be used to filter the lots by Status, Source etc. The filter supports &apos;eq&apos;, &apos;lt&apos;, &apos;gt&apos;, &apos;le&apos;, &apos;ge&apos;, and &apos;and&apos;. Tag filter is a key value pair string where key and value is separated by a colon (:). </param>
        /// <param name="cancellationToken"> The cancellation token to use. </param>
        /// <returns> An async collection of <see cref="LotSummary" /> that may take multiple service requests to iterate over. </returns>
        public virtual AsyncPageable<LotSummary> GetLotsByCustomerAsync(string billingAccountId, string customerId, string filter = null, CancellationToken cancellationToken = default)
        {
            async Task<Page<LotSummary>> FirstPageFunc(int? pageSizeHint)
            {
                using var scope = LotsClientDiagnostics.CreateScope("TenantResourceExtensionClient.GetLotsByCustomer");
                scope.Start();
                try
                {
                    var response = await LotsRestClient.ListByCustomerAsync(billingAccountId, customerId, filter, cancellationToken: cancellationToken).ConfigureAwait(false);
                    return Page.FromValues(response.Value.Value, response.Value.NextLink, response.GetRawResponse());
                }
                catch (Exception e)
                {
                    scope.Failed(e);
                    throw;
                }
            }
            async Task<Page<LotSummary>> NextPageFunc(string nextLink, int? pageSizeHint)
            {
                using var scope = LotsClientDiagnostics.CreateScope("TenantResourceExtensionClient.GetLotsByCustomer");
                scope.Start();
                try
                {
                    var response = await LotsRestClient.ListByCustomerNextPageAsync(nextLink, billingAccountId, customerId, filter, cancellationToken: cancellationToken).ConfigureAwait(false);
                    return Page.FromValues(response.Value.Value, response.Value.NextLink, response.GetRawResponse());
                }
                catch (Exception e)
                {
                    scope.Failed(e);
                    throw;
                }
            }
            return PageableHelpers.CreateAsyncEnumerable(FirstPageFunc, NextPageFunc);
        }

        /// <summary>
        /// Lists all Azure credits for a customer. The API is only supported for Microsoft Partner  Agreements (MPA) billing accounts.
        /// Request Path: /providers/Microsoft.Billing/billingAccounts/{billingAccountId}/customers/{customerId}/providers/Microsoft.Consumption/lots
        /// Operation Id: Lots_ListByCustomer
        /// </summary>
        /// <param name="billingAccountId"> BillingAccount ID. </param>
        /// <param name="customerId"> Customer ID. </param>
        /// <param name="filter"> May be used to filter the lots by Status, Source etc. The filter supports &apos;eq&apos;, &apos;lt&apos;, &apos;gt&apos;, &apos;le&apos;, &apos;ge&apos;, and &apos;and&apos;. Tag filter is a key value pair string where key and value is separated by a colon (:). </param>
        /// <param name="cancellationToken"> The cancellation token to use. </param>
        /// <returns> A collection of <see cref="LotSummary" /> that may take multiple service requests to iterate over. </returns>
        public virtual Pageable<LotSummary> GetLotsByCustomer(string billingAccountId, string customerId, string filter = null, CancellationToken cancellationToken = default)
        {
            Page<LotSummary> FirstPageFunc(int? pageSizeHint)
            {
                using var scope = LotsClientDiagnostics.CreateScope("TenantResourceExtensionClient.GetLotsByCustomer");
                scope.Start();
                try
                {
                    var response = LotsRestClient.ListByCustomer(billingAccountId, customerId, filter, cancellationToken: cancellationToken);
                    return Page.FromValues(response.Value.Value, response.Value.NextLink, response.GetRawResponse());
                }
                catch (Exception e)
                {
                    scope.Failed(e);
                    throw;
                }
            }
            Page<LotSummary> NextPageFunc(string nextLink, int? pageSizeHint)
            {
                using var scope = LotsClientDiagnostics.CreateScope("TenantResourceExtensionClient.GetLotsByCustomer");
                scope.Start();
                try
                {
                    var response = LotsRestClient.ListByCustomerNextPage(nextLink, billingAccountId, customerId, filter, cancellationToken: cancellationToken);
                    return Page.FromValues(response.Value.Value, response.Value.NextLink, response.GetRawResponse());
                }
                catch (Exception e)
                {
                    scope.Failed(e);
                    throw;
                }
            }
            return PageableHelpers.CreateEnumerable(FirstPageFunc, NextPageFunc);
        }

        /// <summary>
        /// The credit summary by billingAccountId and billingProfileId.
        /// Request Path: /providers/Microsoft.Billing/billingAccounts/{billingAccountId}/billingProfiles/{billingProfileId}/providers/Microsoft.Consumption/credits/balanceSummary
        /// Operation Id: Credits_Get
        /// </summary>
        /// <param name="billingAccountId"> BillingAccount ID. </param>
        /// <param name="billingProfileId"> Azure Billing Profile ID. </param>
        /// <param name="cancellationToken"> The cancellation token to use. </param>
        public virtual async Task<Response<CreditSummary>> GetCreditAsync(string billingAccountId, string billingProfileId, CancellationToken cancellationToken = default)
        {
            using var scope = CreditsClientDiagnostics.CreateScope("TenantResourceExtensionClient.GetCredit");
            scope.Start();
            try
            {
                var response = await CreditsRestClient.GetAsync(billingAccountId, billingProfileId, cancellationToken).ConfigureAwait(false);
                return response;
            }
            catch (Exception e)
            {
                scope.Failed(e);
                throw;
            }
        }

        /// <summary>
        /// The credit summary by billingAccountId and billingProfileId.
        /// Request Path: /providers/Microsoft.Billing/billingAccounts/{billingAccountId}/billingProfiles/{billingProfileId}/providers/Microsoft.Consumption/credits/balanceSummary
        /// Operation Id: Credits_Get
        /// </summary>
        /// <param name="billingAccountId"> BillingAccount ID. </param>
        /// <param name="billingProfileId"> Azure Billing Profile ID. </param>
        /// <param name="cancellationToken"> The cancellation token to use. </param>
        public virtual Response<CreditSummary> GetCredit(string billingAccountId, string billingProfileId, CancellationToken cancellationToken = default)
        {
            using var scope = CreditsClientDiagnostics.CreateScope("TenantResourceExtensionClient.GetCredit");
            scope.Start();
            try
            {
                var response = CreditsRestClient.Get(billingAccountId, billingProfileId, cancellationToken);
                return response;
            }
            catch (Exception e)
            {
                scope.Failed(e);
                throw;
            }
        }
    }
}
