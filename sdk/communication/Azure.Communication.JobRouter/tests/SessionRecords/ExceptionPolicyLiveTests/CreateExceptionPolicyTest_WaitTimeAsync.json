{
  "Entries": [
    {
      "RequestUri": "https://sanitized.comminication.azure.com/routing/distributionPolicies/958FC81E73C22CC955682B2C69F0329108C739066E3C3099BA?api-version=2022-07-18-preview",
      "RequestMethod": "PATCH",
      "RequestHeaders": {
        "Accept": "application/json",
        "Authorization": "Sanitized",
        "Content-Length": "199",
        "Content-Type": "application/merge-patch\u002Bjson",
        "traceparent": "00-5425592e8b5cca7897b6386df162e24e-4afbdde89a58bd31-00",
        "User-Agent": "azsdk-net-Communication.JobRouter/1.0.0-alpha.20230616.1 (.NET 7.0.7; Microsoft Windows 10.0.22621)",
        "x-ms-client-request-id": "6953bc7297d033ba6e2a160c96663d48",
        "x-ms-content-sha256": "Sanitized",
        "x-ms-date": "Fri, 16 Jun 2023 20:52:16 GMT",
        "x-ms-return-client-request-id": "true"
      },
      "RequestBody": {
        "name": "LongestIdleDistributionPolicy958FC81E73C22CC955682B2C69F0329108C739066E3C3099BA",
        "offerExpiresAfterSeconds": 30,
        "mode": {
          "kind": "longest-idle",
          "minConcurrentOffers": 1,
          "maxConcurrentOffers": 1
        }
      },
      "StatusCode": 201,
      "ResponseHeaders": {
        "api-supported-versions": "2021-04-07-preview1, 2022-07-18-preview",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Fri, 16 Jun 2023 20:52:14 GMT",
        "ETag": "\u00227101a80b-0000-0700-0000-648ccb7f0000\u0022",
        "Last-Modified": "Fri, 16 Jun 2023 20:52:15 GMT",
        "trace-id": "5425592e-8b5c-ca78-97b6-386df162e24e",
        "Transfer-Encoding": "chunked",
        "X-Azure-Ref": "0fsuMZAAAAAD2CNTtAR2WRY6pKUTVjyb5WVRPMjIxMDkwODE4MDQ5AGNjOTI3NThkLTA1ZjctNGFkNi1hYTVlLTBmYTk3MThkODk4NQ==",
        "X-Cache": "CONFIG_NOCACHE"
      },
      "ResponseBody": {
        "id": "958FC81E73C22CC955682B2C69F0329108C739066E3C3099BA",
        "name": "LongestIdleDistributionPolicy958FC81E73C22CC955682B2C69F0329108C739066E3C3099BA",
        "offerExpiresAfterSeconds": 30,
        "mode": {
          "kind": "longest-idle",
          "minConcurrentOffers": 1,
          "maxConcurrentOffers": 1,
          "bypassSelectors": false
        }
      }
    },
    {
      "RequestUri": "https://sanitized.comminication.azure.com/routing/queues/958FC81E73C22CC955682B2C69F0329108C739066E3C3099BA?api-version=2022-07-18-preview",
      "RequestMethod": "PATCH",
      "RequestHeaders": {
        "Accept": "application/json",
        "Authorization": "Sanitized",
        "Content-Length": "77",
        "Content-Type": "application/merge-patch\u002Bjson",
        "traceparent": "00-0b64e6cc5acf655bcac8f6cbcaef3e8d-bca610e6c14ee525-00",
        "User-Agent": "azsdk-net-Communication.JobRouter/1.0.0-alpha.20230616.1 (.NET 7.0.7; Microsoft Windows 10.0.22621)",
        "x-ms-client-request-id": "9d4b8b877f8a91602fe0a3a1fd7eb854",
        "x-ms-content-sha256": "Sanitized",
        "x-ms-date": "Fri, 16 Jun 2023 20:52:17 GMT",
        "x-ms-return-client-request-id": "true"
      },
      "RequestBody": {
        "distributionPolicyId": "958FC81E73C22CC955682B2C69F0329108C739066E3C3099BA"
      },
      "StatusCode": 200,
      "ResponseHeaders": {
        "api-supported-versions": "2021-04-07-preview1, 2022-07-18-preview",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Fri, 16 Jun 2023 20:52:14 GMT",
        "ETag": "\u002208001f4b-0000-0700-0000-648ccb7f0000\u0022",
        "Last-Modified": "Fri, 16 Jun 2023 20:52:15 GMT",
        "trace-id": "0b64e6cc-5acf-655b-cac8-f6cbcaef3e8d",
        "Transfer-Encoding": "chunked",
        "X-Azure-Ref": "0f8uMZAAAAABW4ET4N05BTI/XjVqQxsTxWVRPMjIxMDkwODE4MDQ5AGNjOTI3NThkLTA1ZjctNGFkNi1hYTVlLTBmYTk3MThkODk4NQ==",
        "X-Cache": "CONFIG_NOCACHE"
      },
      "ResponseBody": {
        "id": "958FC81E73C22CC955682B2C69F0329108C739066E3C3099BA",
        "distributionPolicyId": "958FC81E73C22CC955682B2C69F0329108C739066E3C3099BA",
        "labels": {
          "Id": "958FC81E73C22CC955682B2C69F0329108C739066E3C3099BA"
        }
      }
    },
    {
      "RequestUri": "https://sanitized.comminication.azure.com/routing/classificationPolicies/958FC81E73C22CC955682B2C69F0329108C739066E3C3099BA?api-version=2022-07-18-preview",
      "RequestMethod": "PATCH",
      "RequestHeaders": {
        "Accept": "application/json",
        "Authorization": "Sanitized",
        "Content-Length": "96",
        "Content-Type": "application/merge-patch\u002Bjson",
        "traceparent": "00-7c62f5d0f1dafbe70f8e75ebfc3c51ab-6a7a709c9b76aa7f-00",
        "User-Agent": "azsdk-net-Communication.JobRouter/1.0.0-alpha.20230616.1 (.NET 7.0.7; Microsoft Windows 10.0.22621)",
        "x-ms-client-request-id": "07f7aeebd886af7df64a85efbf669365",
        "x-ms-content-sha256": "Sanitized",
        "x-ms-date": "Fri, 16 Jun 2023 20:52:17 GMT",
        "x-ms-return-client-request-id": "true"
      },
      "RequestBody": {
        "queueSelectors": [],
        "prioritizationRule": {
          "value": 1,
          "kind": "static-rule"
        },
        "workerSelectors": []
      },
      "StatusCode": 201,
      "ResponseHeaders": {
        "api-supported-versions": "2021-04-07-preview1, 2022-07-18-preview",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Fri, 16 Jun 2023 20:52:14 GMT",
        "ETag": "\u0022ff004830-0000-0700-0000-648ccb7f0000\u0022",
        "Last-Modified": "Fri, 16 Jun 2023 20:52:15 GMT",
        "trace-id": "7c62f5d0-f1da-fbe7-0f8e-75ebfc3c51ab",
        "Transfer-Encoding": "chunked",
        "X-Azure-Ref": "0f8uMZAAAAADS46ZmSf8DT7h9JtqXHny2WVRPMjIxMDkwODE4MDQ5AGNjOTI3NThkLTA1ZjctNGFkNi1hYTVlLTBmYTk3MThkODk4NQ==",
        "X-Cache": "CONFIG_NOCACHE"
      },
      "ResponseBody": {
        "id": "958FC81E73C22CC955682B2C69F0329108C739066E3C3099BA",
        "queueSelectors": [],
        "prioritizationRule": {
          "kind": "static-rule",
          "value": 1
        },
        "workerSelectors": []
      }
    },
    {
      "RequestUri": "https://sanitized.comminication.azure.com/routing/exceptionPolicies/958FC81E73C22CC955682B2C69F0329108C739066E3C3099BA?api-version=2022-07-18-preview",
      "RequestMethod": "PATCH",
      "RequestHeaders": {
        "Accept": "application/json",
        "Authorization": "Sanitized",
        "Content-Length": "553",
        "Content-Type": "application/merge-patch\u002Bjson",
        "traceparent": "00-25d63417c54ae198830e5a79f693e20c-0082ed81642c7032-00",
        "User-Agent": "azsdk-net-Communication.JobRouter/1.0.0-alpha.20230616.1 (.NET 7.0.7; Microsoft Windows 10.0.22621)",
        "x-ms-client-request-id": "59ba0dd3958bf24c5bc13af0f31836ef",
        "x-ms-content-sha256": "Sanitized",
        "x-ms-date": "Fri, 16 Jun 2023 20:52:18 GMT",
        "x-ms-return-client-request-id": "true"
      },
      "RequestBody": {
        "exceptionRules": {
          "ABC953162F6C20FEAEFBE00CE54B13B3E247FCED952D05F2CB": {
            "trigger": {
              "threshold": 1,
              "kind": "queue-length"
            },
            "actions": {
              "760E17A528C7A4FC1BD4D38ACFFBAEC64B3E5E6A84E7A11361": {
                "classificationPolicyId": "958FC81E73C22CC955682B2C69F0329108C739066E3C3099BA",
                "labelsToUpsert": {
                  "Label_1": "Value_1"
                },
                "kind": "reclassify"
              },
              "210E0F5DF84BC9ABF429B4DE16E06C4F6A941310100A1D2C77": {
                "queueId": "958FC81E73C22CC955682B2C69F0329108C739066E3C3099BA",
                "priority": 1,
                "workerSelectors": [
                  {
                    "key": "abc",
                    "labelOperator": "equal",
                    "value": 1
                  }
                ],
                "kind": "manual-reclassify"
              }
            }
          }
        }
      },
      "StatusCode": 201,
      "ResponseHeaders": {
        "api-supported-versions": "2021-04-07-preview1, 2022-07-18-preview",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Fri, 16 Jun 2023 20:52:14 GMT",
        "ETag": "\u002211004d91-0000-0700-0000-648ccb7f0000\u0022",
        "Last-Modified": "Fri, 16 Jun 2023 20:52:15 GMT",
        "trace-id": "25d63417-c54a-e198-830e-5a79f693e20c",
        "Transfer-Encoding": "chunked",
        "X-Azure-Ref": "0f8uMZAAAAAA28AyiCIlwRKkJiGMO2Cy1WVRPMjIxMDkwODE4MDQ5AGNjOTI3NThkLTA1ZjctNGFkNi1hYTVlLTBmYTk3MThkODk4NQ==",
        "X-Cache": "CONFIG_NOCACHE"
      },
      "ResponseBody": {
        "id": "958FC81E73C22CC955682B2C69F0329108C739066E3C3099BA",
        "exceptionRules": {
          "ABC953162F6C20FEAEFBE00CE54B13B3E247FCED952D05F2CB": {
            "trigger": {
              "kind": "queue-length",
              "threshold": 1
            },
            "actions": {
              "760E17A528C7A4FC1BD4D38ACFFBAEC64B3E5E6A84E7A11361": {
                "kind": "reclassify",
                "classificationPolicyId": "958FC81E73C22CC955682B2C69F0329108C739066E3C3099BA",
                "labelsToUpsert": {
                  "Label_1": "Value_1"
                }
              },
              "210E0F5DF84BC9ABF429B4DE16E06C4F6A941310100A1D2C77": {
                "kind": "manual-reclassify",
                "queueId": "958FC81E73C22CC955682B2C69F0329108C739066E3C3099BA",
                "priority": 1,
                "workerSelectors": [
                  {
                    "expedite": false,
                    "status": "active",
                    "key": "abc",
                    "labelOperator": "equal",
                    "value": 1
                  }
                ]
              }
            }
          }
        }
      }
    },
    {
      "RequestUri": "https://sanitized.comminication.azure.com/routing/exceptionPolicies/958FC81E73C22CC955682B2C69F0329108C739066E3C3099BA?api-version=2022-07-18-preview",
      "RequestMethod": "PATCH",
      "RequestHeaders": {
        "Accept": "application/json",
        "Authorization": "Sanitized",
        "Content-Length": "81",
        "Content-Type": "application/merge-patch\u002Bjson",
        "traceparent": "00-8cd416e263d0448f0ffbe54b24e4e98a-1258bdea8ed419e3-00",
        "User-Agent": "azsdk-net-Communication.JobRouter/1.0.0-alpha.20230616.1 (.NET 7.0.7; Microsoft Windows 10.0.22621)",
        "x-ms-client-request-id": "e721c271356eafc10e9ba63ff971d2c8",
        "x-ms-content-sha256": "Sanitized",
        "x-ms-date": "Fri, 16 Jun 2023 20:52:18 GMT",
        "x-ms-return-client-request-id": "true"
      },
      "RequestBody": {
        "name": "958FC81E73C22CC955682B2C69F0329108C739066E3C3099BA-ExceptionPolicyName"
      },
      "StatusCode": 200,
      "ResponseHeaders": {
        "api-supported-versions": "2021-04-07-preview1, 2022-07-18-preview",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Fri, 16 Jun 2023 20:52:15 GMT",
        "ETag": "\u002211004e91-0000-0700-0000-648ccb800000\u0022",
        "Last-Modified": "Fri, 16 Jun 2023 20:52:16 GMT",
        "trace-id": "8cd416e2-63d0-448f-0ffb-e54b24e4e98a",
        "Transfer-Encoding": "chunked",
        "X-Azure-Ref": "0f8uMZAAAAADmk9Muapl8SaC1UjxFJNwXWVRPMjIxMDkwODE4MDQ5AGNjOTI3NThkLTA1ZjctNGFkNi1hYTVlLTBmYTk3MThkODk4NQ==",
        "X-Cache": "CONFIG_NOCACHE"
      },
      "ResponseBody": {
        "id": "958FC81E73C22CC955682B2C69F0329108C739066E3C3099BA",
        "name": "958FC81E73C22CC955682B2C69F0329108C739066E3C3099BA-ExceptionPolicyName",
        "exceptionRules": {
          "ABC953162F6C20FEAEFBE00CE54B13B3E247FCED952D05F2CB": {
            "trigger": {
              "kind": "queue-length",
              "threshold": 1
            },
            "actions": {
              "760E17A528C7A4FC1BD4D38ACFFBAEC64B3E5E6A84E7A11361": {
                "kind": "reclassify",
                "classificationPolicyId": "958FC81E73C22CC955682B2C69F0329108C739066E3C3099BA",
                "labelsToUpsert": {
                  "Label_1": "Value_1"
                }
              },
              "210E0F5DF84BC9ABF429B4DE16E06C4F6A941310100A1D2C77": {
                "kind": "manual-reclassify",
                "queueId": "958FC81E73C22CC955682B2C69F0329108C739066E3C3099BA",
                "priority": 1,
                "workerSelectors": [
                  {
                    "expedite": false,
                    "status": "active",
                    "key": "abc",
                    "labelOperator": "equal",
                    "value": 1
                  }
                ]
              }
            }
          }
        }
      }
    },
    {
      "RequestUri": "https://sanitized.comminication.azure.com/routing/distributionPolicies/958FC81E73C22CC955682B2C69F0329108C739066E3C3099BA?api-version=2022-07-18-preview",
      "RequestMethod": "DELETE",
      "RequestHeaders": {
        "Accept": "application/json",
        "Authorization": "Sanitized",
        "traceparent": "00-325c9a30a43658703042911e3f92ab52-565fcb6b618b3dc4-00",
        "User-Agent": "azsdk-net-Communication.JobRouter/1.0.0-alpha.20230616.1 (.NET 7.0.7; Microsoft Windows 10.0.22621)",
        "x-ms-client-request-id": "f0cd3e4d5ec355c96204abc59e8dbcde",
        "x-ms-content-sha256": "Sanitized",
        "x-ms-date": "Fri, 16 Jun 2023 20:52:18 GMT",
        "x-ms-return-client-request-id": "true"
      },
      "RequestBody": null,
      "StatusCode": 400,
      "ResponseHeaders": {
        "api-supported-versions": "2021-04-07-preview1, 2022-07-18-preview",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Fri, 16 Jun 2023 20:52:15 GMT",
        "trace-id": "325c9a30-a436-5870-3042-911e3f92ab52",
        "Transfer-Encoding": "chunked",
        "X-Azure-Ref": "0gMuMZAAAAAD3/Ycn94frTrQh9bD1ytJgWVRPMjIxMDkwODE4MDQ5AGNjOTI3NThkLTA1ZjctNGFkNi1hYTVlLTBmYTk3MThkODk4NQ==",
        "X-Cache": "CONFIG_NOCACHE"
      },
      "ResponseBody": {
        "communicationError": {
          "code": "BadRequest",
          "message": "One or more validation errors occurred.",
          "target": "/routing/distributionPolicies/958FC81E73C22CC955682B2C69F0329108C739066E3C3099BA",
          "details": [
            {
              "code": "QueueExistsWithDistributionPolicy",
              "message": "There is a queue with this distribution policy"
            }
          ]
        }
      }
    }
  ],
  "Variables": {
    "COMMUNICATION_LIVETEST_DYNAMIC_CONNECTION_STRING": "endpoint=https://sanitized.communication.azure.com/;accesskey=Kg==",
    "id-prefix": "sdk-_nxfVo47dEatH8k25x2-7A-",
    "RandomSeed": "1002384311"
  }
}
