// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.

// <auto-generated/>

#nullable disable

using System;
using System.Collections.Generic;

namespace Azure.ResourceManager.CostManagement.Models
{
    /// <summary> The common properties of the export. </summary>
    public partial class CommonExportProperties
    {
        /// <summary>
        /// Keeps track of any properties unknown to the library.
        /// <para>
        /// To assign an object to the value of this property use <see cref="BinaryData.FromObjectAsJson{T}(T, System.Text.Json.JsonSerializerOptions?)"/>.
        /// </para>
        /// <para>
        /// To assign an already formatted json string to this property use <see cref="BinaryData.FromString(string)"/>.
        /// </para>
        /// <para>
        /// Examples:
        /// <list type="bullet">
        /// <item>
        /// <term>BinaryData.FromObjectAsJson("foo")</term>
        /// <description>Creates a payload of "foo".</description>
        /// </item>
        /// <item>
        /// <term>BinaryData.FromString("\"foo\"")</term>
        /// <description>Creates a payload of "foo".</description>
        /// </item>
        /// <item>
        /// <term>BinaryData.FromObjectAsJson(new { key = "value" })</term>
        /// <description>Creates a payload of { "key": "value" }.</description>
        /// </item>
        /// <item>
        /// <term>BinaryData.FromString("{\"key\": \"value\"}")</term>
        /// <description>Creates a payload of { "key": "value" }.</description>
        /// </item>
        /// </list>
        /// </para>
        /// </summary>
        private protected IDictionary<string, BinaryData> _serializedAdditionalRawData;

        /// <summary> Initializes a new instance of <see cref="CommonExportProperties"/>. </summary>
        /// <param name="deliveryInfo"> Has delivery information for the export. </param>
        /// <param name="definition"> Has the definition for the export. </param>
        /// <exception cref="ArgumentNullException"> <paramref name="deliveryInfo"/> or <paramref name="definition"/> is null. </exception>
        public CommonExportProperties(ExportDeliveryInfo deliveryInfo, ExportDefinition definition)
        {
            Argument.AssertNotNull(deliveryInfo, nameof(deliveryInfo));
            Argument.AssertNotNull(definition, nameof(definition));

            DeliveryInfo = deliveryInfo;
            Definition = definition;
        }

        /// <summary> Initializes a new instance of <see cref="CommonExportProperties"/>. </summary>
        /// <param name="format"> The format of the export being delivered. </param>
        /// <param name="deliveryInfo"> Has delivery information for the export. </param>
        /// <param name="definition"> Has the definition for the export. </param>
        /// <param name="runHistory"> If requested, has the most recent run history for the export. </param>
        /// <param name="partitionData"> If set to true, exported data will be partitioned by size and placed in a blob directory together with a manifest file. </param>
        /// <param name="dataOverwriteBehavior"> Allow customers to select overwrite data(OverwritePreviousReport) for exports. This setting will enable overwrite data for the same month in customer storage account. By default set to CreateNewReport. </param>
        /// <param name="compressionMode"> Allow customers to select compress data for exports. This setting will enable destination file compression scheme at runtime. By default set to None. Gzip is for csv and snappy for parquet. </param>
        /// <param name="exportDescription"> The export description set by customer at time of export creation/update. </param>
        /// <param name="nextRunTimeEstimate"> If the export has an active schedule, provides an estimate of the next run time. </param>
        /// <param name="systemSuspensionContext"> The export suspension reason if export is in SystemSuspended state. This is not populated currently. </param>
        /// <param name="serializedAdditionalRawData"> Keeps track of any properties unknown to the library. </param>
        internal CommonExportProperties(ExportFormatType? format, ExportDeliveryInfo deliveryInfo, ExportDefinition definition, ExportExecutionListResult runHistory, bool? partitionData, DataOverwriteBehaviorType? dataOverwriteBehavior, CompressionModeType? compressionMode, string exportDescription, DateTimeOffset? nextRunTimeEstimate, ExportSuspensionContext systemSuspensionContext, IDictionary<string, BinaryData> serializedAdditionalRawData)
        {
            Format = format;
            DeliveryInfo = deliveryInfo;
            Definition = definition;
            RunHistory = runHistory;
            PartitionData = partitionData;
            DataOverwriteBehavior = dataOverwriteBehavior;
            CompressionMode = compressionMode;
            ExportDescription = exportDescription;
            NextRunTimeEstimate = nextRunTimeEstimate;
            SystemSuspensionContext = systemSuspensionContext;
            _serializedAdditionalRawData = serializedAdditionalRawData;
        }

        /// <summary> Initializes a new instance of <see cref="CommonExportProperties"/> for deserialization. </summary>
        internal CommonExportProperties()
        {
        }

        /// <summary> The format of the export being delivered. </summary>
        public ExportFormatType? Format { get; set; }
        /// <summary> Has delivery information for the export. </summary>
        internal ExportDeliveryInfo DeliveryInfo { get; set; }
        /// <summary> Has destination for the export being delivered. </summary>
        public ExportDeliveryDestination DeliveryInfoDestination
        {
            get => DeliveryInfo is null ? default : DeliveryInfo.Destination;
            set => DeliveryInfo = new ExportDeliveryInfo(value);
        }

        /// <summary> Has the definition for the export. </summary>
        public ExportDefinition Definition { get; set; }
        /// <summary> If requested, has the most recent run history for the export. </summary>
        internal ExportExecutionListResult RunHistory { get; set; }
        /// <summary> A list of export runs. </summary>
        public IReadOnlyList<ExportRun> RunHistoryValue
        {
            get
            {
                if (RunHistory is null)
                    RunHistory = new ExportExecutionListResult();
                return RunHistory.Value;
            }
        }

        /// <summary> If set to true, exported data will be partitioned by size and placed in a blob directory together with a manifest file. </summary>
        public bool? PartitionData { get; set; }
        /// <summary> Allow customers to select overwrite data(OverwritePreviousReport) for exports. This setting will enable overwrite data for the same month in customer storage account. By default set to CreateNewReport. </summary>
        public DataOverwriteBehaviorType? DataOverwriteBehavior { get; set; }
        /// <summary> Allow customers to select compress data for exports. This setting will enable destination file compression scheme at runtime. By default set to None. Gzip is for csv and snappy for parquet. </summary>
        public CompressionModeType? CompressionMode { get; set; }
        /// <summary> The export description set by customer at time of export creation/update. </summary>
        public string ExportDescription { get; set; }
        /// <summary> If the export has an active schedule, provides an estimate of the next run time. </summary>
        public DateTimeOffset? NextRunTimeEstimate { get; }
        /// <summary> The export suspension reason if export is in SystemSuspended state. This is not populated currently. </summary>
        public ExportSuspensionContext SystemSuspensionContext { get; }
    }
}
