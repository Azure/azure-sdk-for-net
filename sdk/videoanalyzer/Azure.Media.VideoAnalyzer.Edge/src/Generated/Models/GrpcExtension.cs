// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.

// <auto-generated/>

#nullable disable

using System;
using System.Collections.Generic;

namespace Azure.Media.VideoAnalyzer.Edge.Models
{
    /// <summary> GRPC extension processor allows pipeline extension plugins to be connected to the pipeline through over a gRPC channel. Extension plugins must act as an gRPC server. Please see https://aka.ms/ava-extension-grpc for details. </summary>
    public partial class GrpcExtension : ExtensionProcessorBase
    {
        /// <summary> Initializes a new instance of <see cref="GrpcExtension"/>. </summary>
        /// <param name="name"> Node name. Must be unique within the topology. </param>
        /// <param name="inputs"> An array of upstream node references within the topology to be used as inputs for this node. </param>
        /// <param name="endpoint">
        /// Endpoint details of the pipeline extension plugin.
        /// Please note <see cref="EndpointBase"/> is the base class. According to the scenario, a derived class of the base class might need to be assigned here, or this property needs to be casted to one of the possible derived classes.
        /// The available derived classes include <see cref="TlsEndpoint"/> and <see cref="UnsecuredEndpoint"/>.
        /// </param>
        /// <param name="image"> Image transformations and formatting options to be applied to the video frame(s) prior submission to the pipeline extension plugin. </param>
        /// <param name="dataTransfer"> Specifies how media is transferred to the extension plugin. </param>
        /// <exception cref="ArgumentNullException"> <paramref name="name"/>, <paramref name="inputs"/>, <paramref name="endpoint"/>, <paramref name="image"/> or <paramref name="dataTransfer"/> is null. </exception>
        public GrpcExtension(string name, IEnumerable<NodeInput> inputs, EndpointBase endpoint, ImageProperties image, GrpcExtensionDataTransfer dataTransfer) : base(name, inputs, endpoint, image)
        {
            if (name == null)
            {
                throw new ArgumentNullException(nameof(name));
            }
            if (inputs == null)
            {
                throw new ArgumentNullException(nameof(inputs));
            }
            if (endpoint == null)
            {
                throw new ArgumentNullException(nameof(endpoint));
            }
            if (image == null)
            {
                throw new ArgumentNullException(nameof(image));
            }
            if (dataTransfer == null)
            {
                throw new ArgumentNullException(nameof(dataTransfer));
            }

            DataTransfer = dataTransfer;
            Type = "#Microsoft.VideoAnalyzer.GrpcExtension";
        }

        /// <summary> Initializes a new instance of <see cref="GrpcExtension"/>. </summary>
        /// <param name="type"> Type discriminator for the derived types. </param>
        /// <param name="name"> Node name. Must be unique within the topology. </param>
        /// <param name="inputs"> An array of upstream node references within the topology to be used as inputs for this node. </param>
        /// <param name="endpoint">
        /// Endpoint details of the pipeline extension plugin.
        /// Please note <see cref="EndpointBase"/> is the base class. According to the scenario, a derived class of the base class might need to be assigned here, or this property needs to be casted to one of the possible derived classes.
        /// The available derived classes include <see cref="TlsEndpoint"/> and <see cref="UnsecuredEndpoint"/>.
        /// </param>
        /// <param name="image"> Image transformations and formatting options to be applied to the video frame(s) prior submission to the pipeline extension plugin. </param>
        /// <param name="samplingOptions"> Media sampling parameters that define how often media is submitted to the extension plugin. </param>
        /// <param name="dataTransfer"> Specifies how media is transferred to the extension plugin. </param>
        /// <param name="extensionConfiguration"> An optional configuration string that is sent to the extension plugin. The configuration string is specific to each custom extension and it not understood neither validated by Video Analyzer. Please see https://aka.ms/ava-extension-grpc for details. </param>
        internal GrpcExtension(string type, string name, IList<NodeInput> inputs, EndpointBase endpoint, ImageProperties image, SamplingOptions samplingOptions, GrpcExtensionDataTransfer dataTransfer, string extensionConfiguration) : base(type, name, inputs, endpoint, image, samplingOptions)
        {
            DataTransfer = dataTransfer;
            ExtensionConfiguration = extensionConfiguration;
            Type = type ?? "#Microsoft.VideoAnalyzer.GrpcExtension";
        }

        /// <summary> Specifies how media is transferred to the extension plugin. </summary>
        public GrpcExtensionDataTransfer DataTransfer { get; set; }
        /// <summary> An optional configuration string that is sent to the extension plugin. The configuration string is specific to each custom extension and it not understood neither validated by Video Analyzer. Please see https://aka.ms/ava-extension-grpc for details. </summary>
        public string ExtensionConfiguration { get; set; }
    }
}
