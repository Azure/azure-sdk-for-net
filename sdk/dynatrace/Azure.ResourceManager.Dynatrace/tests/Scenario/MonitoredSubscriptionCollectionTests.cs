// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.

// <auto-generated/>

#nullable disable

using System;
using System.Threading.Tasks;
using Azure.Core;
using Azure.Identity;
using Azure.ResourceManager.Dynatrace.Models;
using Azure.ResourceManager.Resources;
using NUnit.Framework;

namespace Azure.ResourceManager.Dynatrace.Samples
{
    public partial class MonitoredSubscriptionCollectionTests
    {
        [Test]
        [Ignore("Only validating compilation of examples")]
        public async Task Get_MonitoredSubscriptionsGet()
        {
            // Generated from example definition: (placeholder) MonitoredSubscriptions_Get.json
            // This sample shows how to call the MonitoredSubscriptions_Get operation.

            TokenCredential cred = new DefaultAzureCredential();
            ArmClient client = new ArmClient(cred);

            // Assume an existing DynatraceMonitorResource
            string subscriptionId = "00000000-0000-0000-0000-000000000000";
            string resourceGroupName = "myResourceGroup";
            string monitorName = "myMonitor";
            ResourceIdentifier dynatraceMonitorResourceId = DynatraceMonitorResource.CreateResourceIdentifier(subscriptionId, resourceGroupName, monitorName);
            DynatraceMonitorResource dynatraceMonitor = client.GetDynatraceMonitorResource(dynatraceMonitorResourceId);

            // Get the MonitoredSubscriptionProperty resource instance
            DynatraceMonitoredSubscriptionResource monitoredSubscriptionProperty = dynatraceMonitor.GetDynatraceMonitoredSubscription();

            // Invoke the GET operation
            DynatraceMonitoredSubscriptionResource result = await monitoredSubscriptionProperty.GetAsync();

            DynatraceMonitoredSubscriptionData resourceData = result.Data;

            Console.WriteLine($"Succeeded on id: {resourceData.Id}");
        }

        [Test]
        [Ignore("Only validating compilation of examples")]
        public async Task CreateOrUpdate_MonitoredSubscriptionsCreateOrUpdate()
        {
            // Generated from example definition: (placeholder) MonitoredSubscriptions_CreateOrUpdate.json
            // This sample shows how to call the MonitoredSubscriptions_CreateOrUpdate operation.

            TokenCredential cred = new DefaultAzureCredential();
            ArmClient client = new ArmClient(cred);

            string subscriptionId = "00000000-0000-0000-0000-000000000000";
            string resourceGroupName = "myResourceGroup";
            string monitorName = "myMonitor";
            ResourceIdentifier dynatraceMonitorResourceId = DynatraceMonitorResource.CreateResourceIdentifier(subscriptionId, resourceGroupName, monitorName);
            DynatraceMonitorResource dynatraceMonitor = client.GetDynatraceMonitorResource(dynatraceMonitorResourceId);
            DynatraceMonitoredSubscriptionResource monitoredSubscriptionProperty = dynatraceMonitor.GetDynatraceMonitoredSubscription();

            DynatraceMonitoredSubscriptionData data = new DynatraceMonitoredSubscriptionData
            {
                // For demo purposes we leave Properties null; in real scenarios populate DynatraceMonitoredSubscriptionList
            };

            ArmOperation<DynatraceMonitoredSubscriptionResource> lro = await monitoredSubscriptionProperty.CreateOrUpdateAsync(WaitUntil.Completed, data);
            DynatraceMonitoredSubscriptionResource result = lro.Value;

            DynatraceMonitoredSubscriptionData resourceData = result.Data;

            Console.WriteLine($"Succeeded on id: {resourceData.Id}");
        }

        [Test]
        [Ignore("Only validating compilation of examples")]
        public async Task Delete_MonitoredSubscriptionsDelete()
        {
            // Generated from example definition: (placeholder) MonitoredSubscriptions_Delete.json
            // This sample shows how to call the MonitoredSubscriptions_Delete operation.

            TokenCredential cred = new DefaultAzureCredential();
            ArmClient client = new ArmClient(cred);

            string subscriptionId = "00000000-0000-0000-0000-000000000000";
            string resourceGroupName = "myResourceGroup";
            string monitorName = "myMonitor";
            ResourceIdentifier dynatraceMonitorResourceId = DynatraceMonitorResource.CreateResourceIdentifier(subscriptionId, resourceGroupName, monitorName);
            DynatraceMonitorResource dynatraceMonitor = client.GetDynatraceMonitorResource(dynatraceMonitorResourceId);
            DynatraceMonitoredSubscriptionResource monitoredSubscriptionProperty = dynatraceMonitor.GetDynatraceMonitoredSubscription();

            await monitoredSubscriptionProperty.DeleteAsync(WaitUntil.Completed);

            Console.WriteLine("Succeeded");
        }
    }
}
