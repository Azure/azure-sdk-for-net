// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.

// <auto-generated/>

#nullable disable

using System;
using System.Collections.Generic;

namespace Azure.Media.Analytics.Edge.Models
{
    /// <summary> Enables a media graph to record media to an Azure Media Services asset for subsequent playback. </summary>
    public partial class MediaGraphAssetSink : MediaGraphSink
    {
        /// <summary> Initializes a new instance of MediaGraphAssetSink. </summary>
        /// <param name="name"> The name to be used for the media graph sink. </param>
        /// <param name="inputs"> An array of the names of the other nodes in the media graph, the outputs of which are used as input for this sink node. </param>
        /// <param name="assetNamePattern"> A name pattern when creating new assets. The pattern must include at least one system variable. See the documentation for available variables and additional examples. </param>
        /// <param name="localMediaCachePath"> Path to a local file system directory for temporary caching of media before writing to an Asset. Used when the Edge device is temporarily disconnected from Azure. </param>
        /// <param name="localMediaCacheMaximumSizeMiB"> Maximum amount of disk space that can be used for temporary caching of media. </param>
        /// <exception cref="ArgumentNullException"> <paramref name="name"/>, <paramref name="inputs"/>, <paramref name="assetNamePattern"/>, <paramref name="localMediaCachePath"/>, or <paramref name="localMediaCacheMaximumSizeMiB"/> is null. </exception>
        public MediaGraphAssetSink(string name, IEnumerable<MediaGraphNodeInput> inputs, string assetNamePattern, string localMediaCachePath, string localMediaCacheMaximumSizeMiB) : base(name, inputs)
        {
            if (name == null)
            {
                throw new ArgumentNullException(nameof(name));
            }
            if (inputs == null)
            {
                throw new ArgumentNullException(nameof(inputs));
            }
            if (assetNamePattern == null)
            {
                throw new ArgumentNullException(nameof(assetNamePattern));
            }
            if (localMediaCachePath == null)
            {
                throw new ArgumentNullException(nameof(localMediaCachePath));
            }
            if (localMediaCacheMaximumSizeMiB == null)
            {
                throw new ArgumentNullException(nameof(localMediaCacheMaximumSizeMiB));
            }

            AssetNamePattern = assetNamePattern;
            LocalMediaCachePath = localMediaCachePath;
            LocalMediaCacheMaximumSizeMiB = localMediaCacheMaximumSizeMiB;
            Type = "#Microsoft.Media.MediaGraphAssetSink";
        }

        /// <summary> Initializes a new instance of MediaGraphAssetSink. </summary>
        /// <param name="type"> The discriminator for derived types. </param>
        /// <param name="name"> The name to be used for the media graph sink. </param>
        /// <param name="inputs"> An array of the names of the other nodes in the media graph, the outputs of which are used as input for this sink node. </param>
        /// <param name="assetNamePattern"> A name pattern when creating new assets. The pattern must include at least one system variable. See the documentation for available variables and additional examples. </param>
        /// <param name="segmentLength"> When writing media to an asset, wait until at least this duration of media has been accumulated on the Edge. Expressed in increments of 30 seconds, with a minimum of 30 seconds and a recommended maximum of 5 minutes. </param>
        /// <param name="localMediaCachePath"> Path to a local file system directory for temporary caching of media before writing to an Asset. Used when the Edge device is temporarily disconnected from Azure. </param>
        /// <param name="localMediaCacheMaximumSizeMiB"> Maximum amount of disk space that can be used for temporary caching of media. </param>
        internal MediaGraphAssetSink(string type, string name, IList<MediaGraphNodeInput> inputs, string assetNamePattern, string segmentLength, string localMediaCachePath, string localMediaCacheMaximumSizeMiB) : base(type, name, inputs)
        {
            AssetNamePattern = assetNamePattern;
            SegmentLength = segmentLength;
            LocalMediaCachePath = localMediaCachePath;
            LocalMediaCacheMaximumSizeMiB = localMediaCacheMaximumSizeMiB;
            Type = type ?? "#Microsoft.Media.MediaGraphAssetSink";
        }

        /// <summary> A name pattern when creating new assets. The pattern must include at least one system variable. See the documentation for available variables and additional examples. </summary>
        public string AssetNamePattern { get; set; }
        /// <summary> When writing media to an asset, wait until at least this duration of media has been accumulated on the Edge. Expressed in increments of 30 seconds, with a minimum of 30 seconds and a recommended maximum of 5 minutes. </summary>
        public string SegmentLength { get; set; }
        /// <summary> Path to a local file system directory for temporary caching of media before writing to an Asset. Used when the Edge device is temporarily disconnected from Azure. </summary>
        public string LocalMediaCachePath { get; set; }
        /// <summary> Maximum amount of disk space that can be used for temporary caching of media. </summary>
        public string LocalMediaCacheMaximumSizeMiB { get; set; }
    }
}
