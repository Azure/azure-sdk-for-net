// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.

// <auto-generated/>

#nullable disable

using System.Net;
using System.Threading.Tasks;
using Azure.Core.TestFramework;
using Azure.ResourceManager.Compute;
using Azure.ResourceManager.Compute.Models;
using Azure.ResourceManager.Resources;
using Azure.ResourceManager.Resources.Models;
using Azure.ResourceManager.TestFramework;

namespace Azure.ResourceManager.Compute.Tests.Mock
{
    /// <summary> Test for Disk. </summary>
    public partial class DiskCollectionMockTests : MockTestBase
    {
        public DiskCollectionMockTests(bool isAsync) : base(isAsync, RecordedTestMode.Record)
        {
            ServicePointManager.ServerCertificateValidationCallback += (sender, cert, chain, sslPolicyErrors) => true;
            System.Environment.SetEnvironmentVariable("RESOURCE_MANAGER_URL", $"https://localhost:8443");
        }

        private async Task<Compute.DiskCollection> GetDiskCollectionAsync(string resourceGroupName)
        {
            ResourceGroup resourceGroup = await TestHelper.CreateResourceGroupAsync(resourceGroupName, GetArmClient());
            DiskCollection diskCollection = resourceGroup.GetDisks();
            return diskCollection;
        }

        [RecordedTest]
        public async Task CreateOrUpdateAsync()
        {
            // Example: Create a managed disk and associate with disk access resource.
            var collection = await GetDiskCollectionAsync("myResourceGroup");
            await TestHelper.CreateOrUpdateExampleInstanceAsync(collection, "myDisk");
        }

        [RecordedTest]
        public async Task CreateOrUpdateAsync2()
        {
            // Example: Create a managed disk and associate with disk encryption set.
            var collection = await GetDiskCollectionAsync("myResourceGroup");
            string diskName = "myDisk";
            Compute.DiskData disk = new Compute.DiskData("West US")
            {
                CreationData = new Compute.Models.CreationData(new Compute.Models.DiskCreateOption("Empty")),
                DiskSizeGB = 200,
                Encryption = new Compute.Models.Encryption()
                {
                    DiskEncryptionSetId = "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/diskEncryptionSets/{existing-diskEncryptionSet-name}",
                },
            };

            await collection.CreateOrUpdateAsync(diskName, disk);
        }

        [RecordedTest]
        public async Task CreateOrUpdateAsync3()
        {
            // Example: Create a managed disk by copying a snapshot.
            var collection = await GetDiskCollectionAsync("myResourceGroup");
            string diskName = "myDisk";
            Compute.DiskData disk = new Compute.DiskData("West US")
            {
                CreationData = new Compute.Models.CreationData(new Compute.Models.DiskCreateOption("Copy"))
                {
                    SourceResourceId = "subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/snapshots/mySnapshot",
                },
            };

            await collection.CreateOrUpdateAsync(diskName, disk);
        }

        [RecordedTest]
        public async Task CreateOrUpdateAsync4()
        {
            // Example: Create a managed disk by importing an unmanaged blob from a different subscription.
            var collection = await GetDiskCollectionAsync("myResourceGroup");
            string diskName = "myDisk";
            Compute.DiskData disk = new Compute.DiskData("West US")
            {
                CreationData = new Compute.Models.CreationData(new Compute.Models.DiskCreateOption("Import"))
                {
                    StorageAccountId = "subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Storage/storageAccounts/myStorageAccount",
                    SourceUri = "https://mystorageaccount.blob.core.windows.net/osimages/osimage.vhd",
                },
            };

            await collection.CreateOrUpdateAsync(diskName, disk);
        }

        [RecordedTest]
        public async Task CreateOrUpdateAsync5()
        {
            // Example: Create a managed disk by importing an unmanaged blob from the same subscription.
            var collection = await GetDiskCollectionAsync("myResourceGroup");
            string diskName = "myDisk";
            Compute.DiskData disk = new Compute.DiskData("West US")
            {
                CreationData = new Compute.Models.CreationData(new Compute.Models.DiskCreateOption("Import"))
                {
                    SourceUri = "https://mystorageaccount.blob.core.windows.net/osimages/osimage.vhd",
                },
            };

            await collection.CreateOrUpdateAsync(diskName, disk);
        }

        [RecordedTest]
        public async Task CreateOrUpdateAsync6()
        {
            // Example: Create a managed disk from a platform image.
            var collection = await GetDiskCollectionAsync("myResourceGroup");
            string diskName = "myDisk";
            Compute.DiskData disk = new Compute.DiskData("West US")
            {
                OsType = Compute.Models.OperatingSystemTypes.Windows,
                CreationData = new Compute.Models.CreationData(new Compute.Models.DiskCreateOption("FromImage"))
                {
                    ImageReference = new Compute.Models.ImageDiskReference("/Subscriptions/{subscriptionId}/Providers/Microsoft.Compute/Locations/westus/Publishers/{publisher}/ArtifactTypes/VMImage/Offers/{offer}/Skus/{sku}/Versions/1.0.0"),
                },
            };

            await collection.CreateOrUpdateAsync(diskName, disk);
        }

        [RecordedTest]
        public async Task CreateOrUpdateAsync7()
        {
            // Example: Create a managed disk from an existing managed disk in the same or different subscription.
            var collection = await GetDiskCollectionAsync("myResourceGroup");
            string diskName = "myDisk2";
            Compute.DiskData disk = new Compute.DiskData("West US")
            {
                CreationData = new Compute.Models.CreationData(new Compute.Models.DiskCreateOption("Copy"))
                {
                    SourceResourceId = "subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myDisk1",
                },
            };

            await collection.CreateOrUpdateAsync(diskName, disk);
        }

        [RecordedTest]
        public async Task CreateOrUpdateAsync8()
        {
            // Example: Create a managed disk with security profile
            var collection = await GetDiskCollectionAsync("myResourceGroup");
            string diskName = "myDisk";
            Compute.DiskData disk = new Compute.DiskData("North Central US")
            {
                OsType = Compute.Models.OperatingSystemTypes.Windows,
                CreationData = new Compute.Models.CreationData(new Compute.Models.DiskCreateOption("FromImage"))
                {
                    ImageReference = new Compute.Models.ImageDiskReference("/Subscriptions/{subscriptionId}/Providers/Microsoft.Compute/Locations/uswest/Publishers/Microsoft/ArtifactTypes/VMImage/Offers/{offer}"),
                },
                SecurityProfile = new Compute.Models.DiskSecurityProfile()
                {
                    SecurityType = new Compute.Models.DiskSecurityTypes("TrustedLaunch"),
                },
            };

            await collection.CreateOrUpdateAsync(diskName, disk);
        }

        [RecordedTest]
        public async Task CreateOrUpdateAsync9()
        {
            // Example: Create a managed disk with ssd zrs account type.
            var collection = await GetDiskCollectionAsync("myResourceGroup");
            string diskName = "myDisk";
            Compute.DiskData disk = new Compute.DiskData("West US")
            {
                Sku = new Compute.Models.DiskSku()
                {
                    Name = new Compute.Models.DiskStorageAccountTypes("Premium_ZRS"),
                },
                CreationData = new Compute.Models.CreationData(new Compute.Models.DiskCreateOption("Empty")),
                DiskSizeGB = 200,
            };

            await collection.CreateOrUpdateAsync(diskName, disk);
        }

        [RecordedTest]
        public async Task CreateOrUpdateAsync10()
        {
            // Example: Create a managed upload disk.
            var collection = await GetDiskCollectionAsync("myResourceGroup");
            string diskName = "myDisk";
            Compute.DiskData disk = new Compute.DiskData("West US")
            {
                CreationData = new Compute.Models.CreationData(new Compute.Models.DiskCreateOption("Upload"))
                {
                    UploadSizeBytes = 10737418752,
                },
            };

            await collection.CreateOrUpdateAsync(diskName, disk);
        }

        [RecordedTest]
        public async Task CreateOrUpdateAsync11()
        {
            // Example: Create an empty managed disk in extended location.
            var collection = await GetDiskCollectionAsync("myResourceGroup");
            string diskName = "myDisk";
            Compute.DiskData disk = new Compute.DiskData("West US")
            {
                ExtendedLocation = new Compute.Models.ExtendedLocation()
                {
                    Name = "{edge-zone-id}",
                    Type = new Compute.Models.ExtendedLocationTypes("EdgeZone"),
                },
                CreationData = new Compute.Models.CreationData(new Compute.Models.DiskCreateOption("Empty")),
                DiskSizeGB = 200,
            };

            await collection.CreateOrUpdateAsync(diskName, disk);
        }

        [RecordedTest]
        public async Task CreateOrUpdateAsync12()
        {
            // Example: Create an empty managed disk.
            var collection = await GetDiskCollectionAsync("myResourceGroup");
            string diskName = "myDisk";
            Compute.DiskData disk = new Compute.DiskData("West US")
            {
                CreationData = new Compute.Models.CreationData(new Compute.Models.DiskCreateOption("Empty")),
                DiskSizeGB = 200,
            };

            await collection.CreateOrUpdateAsync(diskName, disk);
        }

        [RecordedTest]
        public async Task CreateOrUpdateAsync13()
        {
            // Example: Create an ultra managed disk with logicalSectorSize 512E
            var collection = await GetDiskCollectionAsync("myResourceGroup");
            string diskName = "myDisk";
            Compute.DiskData disk = new Compute.DiskData("West US")
            {
                Sku = new Compute.Models.DiskSku()
                {
                    Name = new Compute.Models.DiskStorageAccountTypes("UltraSSD_LRS"),
                },
                CreationData = new Compute.Models.CreationData(new Compute.Models.DiskCreateOption("Empty"))
                {
                    LogicalSectorSize = 512,
                },
                DiskSizeGB = 200,
            };

            await collection.CreateOrUpdateAsync(diskName, disk);
        }

        [RecordedTest]
        public async Task GetAsync()
        {
            // Example: Get information about a managed disk.
            var collection = await GetDiskCollectionAsync("myResourceGroup");
            await TestHelper.GetExampleInstanceAsync(collection, "myManagedDisk");
        }

        [RecordedTest]
        public async Task GetAllAsync()
        {
            // Example: List all managed disks in a resource group.
            var collection = await GetDiskCollectionAsync("myResourceGroup");
            TestHelper.GetAllExampleInstanceAsync(collection).AsPages();
        }
    }
}
