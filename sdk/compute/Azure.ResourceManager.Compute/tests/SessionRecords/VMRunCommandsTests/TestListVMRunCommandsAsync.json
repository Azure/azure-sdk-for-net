{
  "Entries": [
    {
      "RequestUri": "https://management.azure.com/subscriptions/db1ab6f0-4769-4b27-930e-01e2ef9c123c/providers/Microsoft.Compute/locations/southeastasia/runCommands?api-version=2019-12-01",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Accept": [
          "application/json",
          "text/json"
        ],
        "Authorization": "Sanitized",
        "User-Agent": [
          "azsdk-net-ResourceManager.Compute/1.0.0-alpha.20201005.1",
          "(.NET Core 4.6.29220.03; Microsoft Windows 10.0.19042 )"
        ],
        "x-ms-client-request-id": "b206c85a548d9ec10f1e59c5395d6b1f",
        "x-ms-return-client-request-id": "true"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Length": "4859",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Tue, 06 Oct 2020 21:32:42 GMT",
        "Expires": "-1",
        "Pragma": "no-cache",
        "Server": [
          "Microsoft-HTTPAPI/2.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "X-Content-Type-Options": "nosniff",
        "x-ms-client-request-id": "b206c85a548d9ec10f1e59c5395d6b1f",
        "x-ms-correlation-request-id": "e6443cb0-e4f7-4c64-b009-fd56893898c2",
        "x-ms-ratelimit-remaining-resource": "Microsoft.Compute/GetSubscriptionInfo3Min;357",
        "x-ms-ratelimit-remaining-subscription-reads": "10073",
        "x-ms-request-id": "bbadf43e-ed9c-418f-9777-17bf42d41ba4",
        "x-ms-routing-request-id": "WESTUS2:20201006T213243Z:e6443cb0-e4f7-4c64-b009-fd56893898c2"
      },
      "ResponseBody": {
        "value": [
          {
            "$schema": "http://schema.management.azure.com/schemas/2016-11-17/runcommands.json",
            "id": "EnableRemotePS",
            "osType": "Windows",
            "label": "Enable remote PowerShell",
            "description": "Configure the machine to enable remote PowerShell."
          },
          {
            "$schema": "http://schema.management.azure.com/schemas/2016-11-17/runcommands.json",
            "id": "IPConfig",
            "osType": "Windows",
            "label": "List IP configuration",
            "description": "Shows detailed information for the IP address, subnet mask and default gateway for each adapter bound to TCP/IP."
          },
          {
            "$schema": "http://schema.management.azure.com/schemas/2016-11-17/runcommands.json",
            "id": "RunPowerShellScript",
            "osType": "Windows",
            "label": "Executes a PowerShell script",
            "description": "Custom multiline PowerShell script should be defined in script property. Optional parameters can be set in parameters property."
          },
          {
            "$schema": "http://schema.management.azure.com/schemas/2016-11-17/runcommands.json",
            "id": "RunShellScript",
            "osType": "Linux",
            "label": "Executes a Linux shell script",
            "description": "Custom multiline shell script should be defined in script property. Optional parameters can be set in parameters property."
          },
          {
            "$schema": "http://schema.management.azure.com/schemas/2016-11-17/runcommands.json",
            "id": "ifconfig",
            "osType": "Linux",
            "label": "List network configuration",
            "description": "Get the configuration of all network interfaces."
          },
          {
            "$schema": "http://schema.management.azure.com/schemas/2016-11-17/runcommands.json",
            "id": "EnableAdminAccount",
            "osType": "Windows",
            "label": "Enable administrator account",
            "description": "Checks if the local Administrator account is disabled, and if so enables it."
          },
          {
            "$schema": "http://schema.management.azure.com/schemas/2016-11-17/runcommands.json",
            "id": "RDPSettings",
            "osType": "Windows",
            "label": "Verify RDP Listener Settings",
            "description": "Checks registry settings and domain policy settings. Suggests policy actions if machine is part of a domain or modifies the settings to default values."
          },
          {
            "$schema": "http://schema.management.azure.com/schemas/2016-11-17/runcommands.json",
            "id": "SetRDPPort",
            "osType": "Windows",
            "label": "Set Remote Desktop port",
            "description": "Sets the default or user specified port number for Remote Desktop connections. Enables firewall rule for inbound access to the port."
          },
          {
            "$schema": "http://schema.management.azure.com/schemas/2016-11-17/runcommands.json",
            "id": "ResetRDPCert",
            "osType": "Windows",
            "label": "Restore RDP Authentication mode to defaults",
            "description": "Removes the SSL certificate tied to the RDP listener and restores the RDP listener security to default. Use this script if you see any issues with the certificate."
          },
          {
            "$schema": "http://schema.management.azure.com/schemas/2016-11-17/runcommands.json",
            "id": "DisableNLA",
            "osType": "Windows",
            "label": "Disable Network Level Authentication",
            "description": "Disables Network Level Authentication (NLA). You must restart the VM after the script completes for the change to take effect. The script itself does not restart the VM. You can use this script to disable NLA if RDP connections are failing with error \u0027The remote computer that you are trying to connect to requires Network Level Authentication (NLA), but your Windows domain controller cannot be contacted to perform NLA.\u0027 or error \u0027An authentication error has occurred. The Local Security Authority cannot be contacted.\u0027 NLA is a security feature that should only be disabled temporarily to allow RDP connections to succeed until the domain controller connectivity issue has been resolved."
          },
          {
            "$schema": "http://schema.management.azure.com/schemas/2016-11-17/runcommands.json",
            "id": "RemoveRunCommandWindowsExtension",
            "osType": "Windows",
            "label": "Removes the internal RunCommandWindows extension",
            "description": "Removes RunCommandWindows extension deployed to execute previous RunCommand operations."
          },
          {
            "$schema": "http://schema.management.azure.com/schemas/2016-11-17/runcommands.json",
            "id": "RemoveRunCommandLinuxExtension",
            "osType": "Linux",
            "label": "Removes the internal RunCommandLinux extension",
            "description": "Removes RunCommandLinux extension deployed to execute previous RunCommand operations."
          },
          {
            "$schema": "http://schema.management.azure.com/schemas/2016-11-17/runcommands.json",
            "id": "EnableEMS",
            "osType": "Windows",
            "label": "Enable EMS",
            "description": "Enable Emergency Management Services (EMS) to allow for serial console connection in troubleshooting scenarios."
          },
          {
            "$schema": "http://schema.management.azure.com/schemas/2016-11-17/runcommands.json",
            "id": "DisableWindowsUpdate",
            "osType": "Windows",
            "label": "Disable Windows Update Automatic Updates",
            "description": "Disable Automatic Updates through Windows Update."
          },
          {
            "$schema": "http://schema.management.azure.com/schemas/2016-11-17/runcommands.json",
            "id": "EnableWindowsUpdate",
            "osType": "Windows",
            "label": "Enable Windows Update Automatic Updates",
            "description": "Enable Automatic Updates through Windows Update."
          }
        ]
      }
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/db1ab6f0-4769-4b27-930e-01e2ef9c123c/providers/Microsoft.Compute/locations/southeastasia/runCommands/RunPowerShellScript?api-version=2019-12-01",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Accept": [
          "application/json",
          "text/json"
        ],
        "Authorization": "Sanitized",
        "traceparent": "00-be5d8b290d40ef498ab55152c6f7d80f-a46c781ab09c1242-00",
        "User-Agent": [
          "azsdk-net-ResourceManager.Compute/1.0.0-alpha.20201005.1",
          "(.NET Core 4.6.29220.03; Microsoft Windows 10.0.19042 )"
        ],
        "x-ms-client-request-id": "b232227e88cedc9cc9006fbd20691a1d",
        "x-ms-return-client-request-id": "true"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Length": "556",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Tue, 06 Oct 2020 21:32:42 GMT",
        "Expires": "-1",
        "Pragma": "no-cache",
        "Server": [
          "Microsoft-HTTPAPI/2.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "X-Content-Type-Options": "nosniff",
        "x-ms-client-request-id": "b232227e88cedc9cc9006fbd20691a1d",
        "x-ms-correlation-request-id": "90d8133c-5726-4be3-a06c-41461c8f9451",
        "x-ms-ratelimit-remaining-resource": "Microsoft.Compute/GetSubscriptionInfo3Min;356",
        "x-ms-ratelimit-remaining-subscription-reads": "10072",
        "x-ms-request-id": "67a378c8-9835-4701-847a-0a0253c558e6",
        "x-ms-routing-request-id": "WESTUS2:20201006T213243Z:90d8133c-5726-4be3-a06c-41461c8f9451"
      },
      "ResponseBody": {
        "script": [
          "param(",
          "    [string]$arg1,",
          "    [string]$arg2",
          ")",
          "Write-Host This is a sample script with parameters $arg1 $arg2"
        ],
        "parameters": [
          {
            "name": "arg1",
            "type": "string",
            "required": false
          },
          {
            "name": "arg2",
            "type": "string",
            "required": false
          }
        ],
        "$schema": "http://schema.management.azure.com/schemas/2016-11-17/runcommands.json",
        "id": "RunPowerShellScript",
        "osType": "Windows",
        "label": "Executes a PowerShell script",
        "description": "Custom multiline PowerShell script should be defined in script property. Optional parameters can be set in parameters property."
      }
    }
  ],
  "Variables": {
    "RandomSeed": "1734561066",
    "SUBSCRIPTION_ID": "db1ab6f0-4769-4b27-930e-01e2ef9c123c"
  }
}