<Project Sdk="Microsoft.NET.Sdk">
  <PropertyGroup>
    <Description>Azure DataMovement Blobs Stress Testing</Description>
    <Version>12.0.0-beta.6</Version>
    <PackageTags>Microsoft Azure Storage DataMovement, DataMovement, Microsoft, Azure, StorageScalable, azureofficial</PackageTags>
    <TargetFrameworks>$(RequiredTargetFrameworks)</TargetFrameworks>
    <EnableBannedApiAnalyzers>false</EnableBannedApiAnalyzers>
    <NoWarn>
      <!-- TODO: Investigate and remove suppressions https://github.com/Azure/azure-sdk-for-net/issues/17154 -->
      $(NoWarn);CA2213
    </NoWarn>
    <AllowUnsafeBlocks>true</AllowUnsafeBlocks>
  </PropertyGroup>

  <ItemGroup>
    <PackageReference Include="Azure.Core" />
    <PackageReference Include="Azure.Core.Amqp" />
    <PackageReference Include="Azure.Identity" />
    <PackageReference Include="Microsoft.Azure.Amqp" />
    <PackageReference Include="Microsoft.Bcl.AsyncInterfaces" />
    <PackageReference Include="System.Memory.Data" />
    <PackageReference Include="CommandLineParser" />
    <PackageReference Include="Microsoft.ApplicationInsights" />
    <PackageReference Include="NUnit" />
  </ItemGroup>
  <ItemGroup>
    <ProjectReference Include="$(MSBuildThisFileDirectory)..\..\..\Azure.Storage.Blobs\src\Azure.Storage.Blobs.csproj" />
    <ProjectReference Include="$(MSBuildThisFileDirectory)..\..\..\Azure.Storage.DataMovement\src\Azure.Storage.DataMovement.csproj" />
    <ProjectReference Include="$(MSBuildThisFileDirectory)..\..\src\Azure.Storage.DataMovement.Blobs.csproj" />
  </ItemGroup>
  <ItemGroup>
    <Compile Include="$(AzureStorageSharedTestSources)\TestHelper.cs" LinkBase="Shared\Storage" />
  </ItemGroup>
  <!-- Import Azure.Core shared source -->
  <ItemGroup>
    <Compile Include="$(AzureCoreSharedSources)Argument.cs" LinkBase="SharedSource\Azure.Core" />
    <Compile Include="$(AzureCoreSharedSources)TaskExtensions.cs" LinkBase="SharedSource\Azure.Core" />
  </ItemGroup>
  <ItemGroup>
    <Compile Include="$(AzureStorageSharedTestSources)TemporaryFileStream.cs" LinkBase="SharedSource\Storage" />
  </ItemGroup>
  <ItemGroup>
    <Compile Include="$(AzureStorageDataMovementTestSharedSources)DisposingLocalDirectory.cs" LinkBase="Shared\DataMovement" />
  </ItemGroup>
  <ItemGroup>
    <Compile Include="$(AzureStorageStressTestSharedSources)*.cs" LinkBase="Shared\Stress" />
  </ItemGroup>
</Project>
